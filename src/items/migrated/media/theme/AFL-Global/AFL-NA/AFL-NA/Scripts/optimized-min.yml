---
ID: "8d62026e-f1e1-4c2d-b8ba-17942f128768"
Parent: "3f6c5267-f0fa-471e-a69c-d3927823424e"
Template: "b43ab8d5-e123-42dd-8042-de869cc98c4f"
Path: "/sitecore/media library/Themes/AFL-Global/AFL-NA/AFL-NA/Scripts/optimized-min"
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: People/32x32/package.png
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "3a66d097-25af-4b0e-b08a-5feaaf170234"
  Value: LyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuNi4wCiAqIGh0dHBzOi8vanF1ZXJ5LmNvbS8KICoKICogSW5jbHVkZXMgU2l6emxlLmpzCiAqIGh0dHBzOi8vc2l6emxlanMuY29tLwogKgogKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogaHR0cHM6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogRGF0ZTogMjAyMS0wMy0wMlQxNzowOFoKICovCmZ1bmN0aW9uIHJlbG9hZEN1c3RvbURyb3BEb3dub25seShuKXskKCIjIituKS5uZXh0KCkuZmluZCgiLmxpc3RpbmciKS5odG1sKCIiKTskKCIjIituKS5uZXh0KCkuZmluZCgiLnN0eWxpc2gtc2VsZWN0LXJpZ2h0IikudGV4dCgkKCIjIituKS5maW5kKCJvcHRpb246Zmlyc3QiKS50ZXh0KCkpO3ZhciB0PSIiLGk9JCgiIyIrbikuYXR0cigiaWQiKTt0eXBlb2YgJCh0aGlzKS5maW5kKCJvcHRpb246c2VsZWN0ZWQiKS5hdHRyKCJzZWxlY3RlZCIpPT0idW5kZWZpbmVkIiYmJCh0aGlzKS5maW5kKCJvcHRpb246ZXEoMCkiKS5hdHRyKCJzZWxlY3RlZCIsInNlbGVjdGVkIik7JCgiIyIrbikuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbigpe3QrPSQodGhpcykuYXR0cigic2VsZWN0ZWQiKT09InNlbGVjdGVkIj8iPGxpIGlkPSdsaSIraSskKHRoaXMpLnZhbCgpLnJlcGxhY2UoIiAiLCJfIikrIicgZGF0YT0nIiskKHRoaXMpLnZhbCgpKyInIHRhYmluZGV4PScwJyBjbGFzcz0nc2VsZWN0ZWQnPiIrJCh0aGlzKS50ZXh0KCkrIjxcL2xpPiI6IjxsaSBpZD0nbGkiK2krJCh0aGlzKS52YWwoKS5yZXBsYWNlKCIgIiwiXyIpKyInIGRhdGE9JyIrJCh0aGlzKS52YWwoKSsiJyB0YWJpbmRleD0nMCc+IiskKHRoaXMpLnRleHQoKSsiPFwvbGk+In0pOyQoIiMiK24pLm5leHQoKS5maW5kKCIubGlzdGluZyIpLmh0bWwodCl9ZnVuY3Rpb24gZHRuYW1pY0Ryb3Bkb3duKG4pe3ZhciB0PTE0OTskKG4pLmVhY2goZnVuY3Rpb24oKXt2YXIgaT0kKHRoaXMpLmF0dHIoImlkIikscj0kKHRoaXMpLmF0dHIoInRhYmluZGV4IikhPXVuZGVmaW5lZD8kKHRoaXMpLmF0dHIoInRhYmluZGV4Iik6MCxuO3R5cGVvZiAkKHRoaXMpLmZpbmQoIm9wdGlvbjpzZWxlY3RlZCIpLmF0dHIoInNlbGVjdGVkIik9PSJ1bmRlZmluZWQiJiYkKHRoaXMpLmZpbmQoIm9wdGlvbjplcSgwKSIpLmF0dHIoInNlbGVjdGVkIiwic2VsZWN0ZWQiKTtuPSc8ZGl2IGNsYXNzPSJzdHlsaXNoLXNlbGVjdCBzZWxlY3QiIGlkPSJ1bCcraSsnIj4nO24rPSc8ZGl2IGNsYXNzPSJzdHlsaXNoLXNlbGVjdC1sZWZ0IiB0YWJpbmRleD0iJytyKyciIGRhdGEtZmlsdGVyPSIiPjxkaXYgY2xhc3M9InN0eWxpc2gtc2VsZWN0LXJpZ2h0IHN0eWxlZFNlbGVjdCI+JyskKHRoaXMpLmZpbmQoIm9wdGlvbjpzZWxlY3RlZCIpLnRleHQoKSsiPFwvZGl2PjxcL2Rpdj4iO24rPSc8ZGl2IGNsYXNzPSJzY3JvbGxwYW5lIj4nO24rPSc8dWwgY2xhc3M9Imxpc3RpbmciPic7JCh0aGlzKS5maW5kKCJvcHRpb24iKS5lYWNoKGZ1bmN0aW9uKCl7bis9JCh0aGlzKS5hdHRyKCJzZWxlY3RlZCIpPT0ic2VsZWN0ZWQiPyI8bGkgIGlkPSdsaSIraSskKHRoaXMpLnZhbCgpKyInIGRhdGE9JyIrJCh0aGlzKS52YWwoKSsiJyB0YWJpbmRleD0nMCcgY2xhc3M9J3NlbGVjdGVkJz4iKyQodGhpcykudGV4dCgpKyI8XC9saT4iOiI8bGkgIGlkPSdsaSIraSskKHRoaXMpLnZhbCgpKyInIGRhdGE9JyIrJCh0aGlzKS52YWwoKSsiJyB0YWJpbmRleD0nMCc+IiskKHRoaXMpLnRleHQoKSsiPFwvbGk+In0pO24rPSI8XC91bD4iO24rPSI8XC9kaXY+IjtuKz0iPFwvZGl2PiI7JCh0aGlzKS5oaWRlKCk7JCh0aGlzKS53cmFwKCc8ZGl2IGNsYXNzPSJtYWluIiBzdHlsZT0iei1pbmRleDonK3QrJyI+Jyk7JCh0aGlzKS5hZnRlcihuKTt0LS19KX0oZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7dHlwZW9mIG1vZHVsZT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUuZXhwb3J0cz09Im9iamVjdCI/bW9kdWxlLmV4cG9ydHM9bi5kb2N1bWVudD90KG4sITApOmZ1bmN0aW9uKG4pe2lmKCFuLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KG4pfTp0KG4pfSkodHlwZW9mIHdpbmRvdyE9InVuZGVmaW5lZCI/d2luZG93OnRoaXMsZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcHIobix0LGkpe2k9aXx8Zjt2YXIgcixlLHU9aS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZih1LnRleHQ9bix0KWZvcihyIGluIHJlKWU9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpLGUmJnUuc2V0QXR0cmlidXRlKHIsZSk7aS5oZWFkLmFwcGVuZENoaWxkKHUpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodSl9ZnVuY3Rpb24gcnQobil7cmV0dXJuIG49PW51bGw/bisiIjp0eXBlb2Ygbj09Im9iamVjdCJ8fHR5cGVvZiBuPT0iZnVuY3Rpb24iP3RpW3ZyLmNhbGwobildfHwib2JqZWN0Ijp0eXBlb2Ygbn1mdW5jdGlvbiBhaShuKXt2YXIgdD0hIW4mJiJsZW5ndGgiaW4gbiYmbi5sZW5ndGgsaT1ydChuKTtyZXR1cm4gdShuKXx8aXQobik/ITE6aT09PSJhcnJheSJ8fHQ9PT0wfHx0eXBlb2YgdD09Im51bWJlciImJnQ+MCYmdC0xIGluIG59ZnVuY3Rpb24gbChuLHQpe3JldHVybiBuLm5vZGVOYW1lJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24geWkobix0LHIpe3JldHVybiB1KHQpP2kuZ3JlcChuLGZ1bmN0aW9uKG4saSl7cmV0dXJuISF0LmNhbGwobixpLG4pIT09cn0pOnQubm9kZVR5cGU/aS5ncmVwKG4sZnVuY3Rpb24obil7cmV0dXJuIG49PT10IT09cn0pOnR5cGVvZiB0IT0ic3RyaW5nIj9pLmdyZXAobixmdW5jdGlvbihuKXtyZXR1cm4gbmkuY2FsbCh0LG4pPi0xIT09cn0pOmkuZmlsdGVyKHQsbixyKX1mdW5jdGlvbiBydShuLHQpe3doaWxlKChuPW5bdF0pJiZuLm5vZGVUeXBlIT09MSk7cmV0dXJuIG59ZnVuY3Rpb24gdWUobil7dmFyIHQ9e307cmV0dXJuIGkuZWFjaChuLm1hdGNoKGEpfHxbXSxmdW5jdGlvbihuLGkpe3RbaV09ITB9KSx0fWZ1bmN0aW9uIGZ0KG4pe3JldHVybiBufWZ1bmN0aW9uIHJpKG4pe3Rocm93IG47fWZ1bmN0aW9uIHV1KG4sdCxpLHIpe3ZhciBmO3RyeXtuJiZ1KGY9bi5wcm9taXNlKT9mLmNhbGwobikuZG9uZSh0KS5mYWlsKGkpOm4mJnUoZj1uLnRoZW4pP2YuY2FsbChuLHQsaSk6dC5hcHBseSh1bmRlZmluZWQsW25dLnNsaWNlKHIpKX1jYXRjaChuKXtpLmFwcGx5KHVuZGVmaW5lZCxbbl0pfX1mdW5jdGlvbiBmaSgpe2YucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZmkpO24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsZmkpO2kucmVhZHkoKX1mdW5jdGlvbiBvZShuLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24geShuKXtyZXR1cm4gbi5yZXBsYWNlKGZlLCJtcy0iKS5yZXBsYWNlKGVlLG9lKX1mdW5jdGlvbiBwdCgpe3RoaXMuZXhwYW5kbz1pLmV4cGFuZG8rcHQudWlkKyt9ZnVuY3Rpb24gY2Uobil7cmV0dXJuIG49PT0idHJ1ZSI/ITA6bj09PSJmYWxzZSI/ITE6bj09PSJudWxsIj9udWxsOm49PT0rbisiIj8rbjpzZS50ZXN0KG4pP0pTT04ucGFyc2Uobik6bn1mdW5jdGlvbiBldShuLHQsaSl7dmFyIHI7aWYoaT09PXVuZGVmaW5lZCYmbi5ub2RlVHlwZT09PTEpaWYocj0iZGF0YS0iK3QucmVwbGFjZShoZSwiLSQmIikudG9Mb3dlckNhc2UoKSxpPW4uZ2V0QXR0cmlidXRlKHIpLHR5cGVvZiBpPT0ic3RyaW5nIil7dHJ5e2k9Y2UoaSl9Y2F0Y2godSl7fW8uc2V0KG4sdCxpKX1lbHNlIGk9dW5kZWZpbmVkO3JldHVybiBpfWZ1bmN0aW9uIHN1KG4sdCxyLHUpe3ZhciBzLGgsYz0yMCxsPXU/ZnVuY3Rpb24oKXtyZXR1cm4gdS5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gaS5jc3Mobix0LCIiKX0sbz1sKCksZT1yJiZyWzNdfHwoaS5jc3NOdW1iZXJbdF0/IiI6InB4IiksZj1uLm5vZGVUeXBlJiYoaS5jc3NOdW1iZXJbdF18fGUhPT0icHgiJiYrbykmJnd0LmV4ZWMoaS5jc3Mobix0KSk7aWYoZiYmZlszXSE9PWUpe2ZvcihvPW8vMixlPWV8fGZbM10sZj0rb3x8MTtjLS07KWkuc3R5bGUobix0LGYrZSksKDEtaCkqKDEtKGg9bCgpL298fC41KSk8PTAmJihjPTApLGY9Zi9oO2Y9ZioyO2kuc3R5bGUobix0LGYrZSk7cj1yfHxbXX1yZXR1cm4gciYmKGY9K2Z8fCtvfHwwLHM9clsxXT9mKyhyWzFdKzEpKnJbMl06K3JbMl0sdSYmKHUudW5pdD1lLHUuc3RhcnQ9Zix1LmVuZD1zKSksc31mdW5jdGlvbiBhZShuKXt2YXIgcixmPW4ub3duZXJEb2N1bWVudCx1PW4ubm9kZU5hbWUsdD1waVt1XTtyZXR1cm4gdD90OihyPWYuYm9keS5hcHBlbmRDaGlsZChmLmNyZWF0ZUVsZW1lbnQodSkpLHQ9aS5jc3MociwiZGlzcGxheSIpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSx0PT09Im5vbmUiJiYodD0iYmxvY2siKSxwaVt1XT10LHQpfWZ1bmN0aW9uIHN0KG4sdCl7Zm9yKHZhciBlLHUsZj1bXSxpPTAsbz1uLmxlbmd0aDtpPG87aSsrKSh1PW5baV0sdS5zdHlsZSkmJihlPXUuc3R5bGUuZGlzcGxheSx0PyhlPT09Im5vbmUiJiYoZltpXT1yLmdldCh1LCJkaXNwbGF5Iil8fG51bGwsZltpXXx8KHUuc3R5bGUuZGlzcGxheT0iIikpLHUuc3R5bGUuZGlzcGxheT09PSIiJiZidCh1KSYmKGZbaV09YWUodSkpKTplIT09Im5vbmUiJiYoZltpXT0ibm9uZSIsci5zZXQodSwiZGlzcGxheSIsZSkpKTtmb3IoaT0wO2k8bztpKyspZltpXSE9bnVsbCYmKG5baV0uc3R5bGUuZGlzcGxheT1mW2ldKTtyZXR1cm4gbn1mdW5jdGlvbiBzKG4sdCl7dmFyIHI7cmV0dXJuKHI9dHlwZW9mIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiP24uZ2V0RWxlbWVudHNCeVRhZ05hbWUodHx8IioiKTp0eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsIT0idW5kZWZpbmVkIj9uLnF1ZXJ5U2VsZWN0b3JBbGwodHx8IioiKTpbXSx0PT09dW5kZWZpbmVkfHx0JiZsKG4sdCkpP2kubWVyZ2UoW25dLHIpOnJ9ZnVuY3Rpb24gd2kobix0KXtmb3IodmFyIGk9MCx1PW4ubGVuZ3RoO2k8dTtpKyspci5zZXQobltpXSwiZ2xvYmFsRXZhbCIsIXR8fHIuZ2V0KHRbaV0sImdsb2JhbEV2YWwiKSl9ZnVuY3Rpb24gYXUobix0LHIsdSxmKXtmb3IodmFyIGUsbyxwLGEsdyx2LGg9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkseT1bXSxsPTAsYj1uLmxlbmd0aDtsPGI7bCsrKWlmKGU9bltsXSxlfHxlPT09MClpZihydChlKT09PSJvYmplY3QiKWkubWVyZ2UoeSxlLm5vZGVUeXBlP1tlXTplKTtlbHNlIGlmKGx1LnRlc3QoZSkpe2ZvcihvPW98fGguYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KCJkaXYiKSkscD0oaHUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxhPWNbcF18fGMuX2RlZmF1bHQsby5pbm5lckhUTUw9YVsxXStpLmh0bWxQcmVmaWx0ZXIoZSkrYVsyXSx2PWFbMF07di0tOylvPW8ubGFzdENoaWxkO2kubWVyZ2UoeSxvLmNoaWxkTm9kZXMpO289aC5maXJzdENoaWxkO28udGV4dENvbnRlbnQ9IiJ9ZWxzZSB5LnB1c2godC5jcmVhdGVUZXh0Tm9kZShlKSk7Zm9yKGgudGV4dENvbnRlbnQ9IiIsbD0wO2U9eVtsKytdOyl7aWYodSYmaS5pbkFycmF5KGUsdSk+LTEpe2YmJmYucHVzaChlKTtjb250aW51ZX1pZih3PW90KGUpLG89cyhoLmFwcGVuZENoaWxkKGUpLCJzY3JpcHQiKSx3JiZ3aShvKSxyKWZvcih2PTA7ZT1vW3YrK107KWN1LnRlc3QoZS50eXBlfHwiIikmJnIucHVzaChlKX1yZXR1cm4gaH1mdW5jdGlvbiBodCgpe3JldHVybiEwfWZ1bmN0aW9uIGN0KCl7cmV0dXJuITF9ZnVuY3Rpb24gdmUobix0KXtyZXR1cm4gbj09PXllKCk9PSh0PT09ImZvY3VzIil9ZnVuY3Rpb24geWUoKXt0cnl7cmV0dXJuIGYuYWN0aXZlRWxlbWVudH1jYXRjaChuKXt9fWZ1bmN0aW9uIGtpKG4sdCxyLHUsZixlKXt2YXIgbyxzO2lmKHR5cGVvZiB0PT0ib2JqZWN0Iil7dHlwZW9mIHIhPSJzdHJpbmciJiYodT11fHxyLHI9dW5kZWZpbmVkKTtmb3IocyBpbiB0KWtpKG4scyxyLHUsdFtzXSxlKTtyZXR1cm4gbn1pZih1PT1udWxsJiZmPT1udWxsPyhmPXIsdT1yPXVuZGVmaW5lZCk6Zj09bnVsbCYmKHR5cGVvZiByPT0ic3RyaW5nIj8oZj11LHU9dW5kZWZpbmVkKTooZj11LHU9cixyPXVuZGVmaW5lZCkpLGY9PT0hMSlmPWN0O2Vsc2UgaWYoIWYpcmV0dXJuIG47cmV0dXJuIGU9PT0xJiYobz1mLGY9ZnVuY3Rpb24obil7cmV0dXJuIGkoKS5vZmYobiksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGYuZ3VpZD1vLmd1aWR8fChvLmd1aWQ9aS5ndWlkKyspKSxuLmVhY2goZnVuY3Rpb24oKXtpLmV2ZW50LmFkZCh0aGlzLHQsZix1LHIpfSl9ZnVuY3Rpb24gZWkobix0LHUpe2lmKCF1KXtyLmdldChuLHQpPT09dW5kZWZpbmVkJiZpLmV2ZW50LmFkZChuLHQsaHQpO3JldHVybn1yLnNldChuLHQsITEpO2kuZXZlbnQuYWRkKG4sdCx7bmFtZXNwYWNlOiExLGhhbmRsZXI6ZnVuY3Rpb24obil7dmFyIG8sZSxmPXIuZ2V0KHRoaXMsdCk7aWYobi5pc1RyaWdnZXImMSYmdGhpc1t0XSl7aWYoZi5sZW5ndGgpKGkuZXZlbnQuc3BlY2lhbFt0XXx8e30pLmRlbGVnYXRlVHlwZSYmbi5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmKGY9ay5jYWxsKGFyZ3VtZW50cyksci5zZXQodGhpcyx0LGYpLG89dSh0aGlzLHQpLHRoaXNbdF0oKSxlPXIuZ2V0KHRoaXMsdCksZiE9PWV8fG8/ci5zZXQodGhpcyx0LCExKTplPXt9LGYhPT1lKXJldHVybiBuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG4ucHJldmVudERlZmF1bHQoKSxlJiZlLnZhbHVlfWVsc2UgZi5sZW5ndGgmJihyLnNldCh0aGlzLHQse3ZhbHVlOmkuZXZlbnQudHJpZ2dlcihpLmV4dGVuZChmWzBdLGkuRXZlbnQucHJvdG90eXBlKSxmLnNsaWNlKDEpLHRoaXMpfSksbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fSl9ZnVuY3Rpb24gdnUobix0KXtyZXR1cm4gbChuLCJ0YWJsZSIpJiZsKHQubm9kZVR5cGUhPT0xMT90OnQuZmlyc3RDaGlsZCwidHIiKT9pKG4pLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxuOm59ZnVuY3Rpb24ga2Uobil7cmV0dXJuIG4udHlwZT0obi5nZXRBdHRyaWJ1dGUoInR5cGUiKSE9PW51bGwpKyIvIituLnR5cGUsbn1mdW5jdGlvbiBkZShuKXtyZXR1cm4obi50eXBlfHwiIikuc2xpY2UoMCw1KT09PSJ0cnVlLyI/bi50eXBlPW4udHlwZS5zbGljZSg1KTpuLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpLG59ZnVuY3Rpb24geXUobix0KXt2YXIgZixzLGUsaCxjLGwsdTtpZih0Lm5vZGVUeXBlPT09MSl7aWYoci5oYXNEYXRhKG4pJiYoaD1yLmdldChuKSx1PWguZXZlbnRzLHUpKXtyLnJlbW92ZSh0LCJoYW5kbGUgZXZlbnRzIik7Zm9yKGUgaW4gdSlmb3IoZj0wLHM9dVtlXS5sZW5ndGg7ZjxzO2YrKylpLmV2ZW50LmFkZCh0LGUsdVtlXVtmXSl9by5oYXNEYXRhKG4pJiYoYz1vLmFjY2VzcyhuKSxsPWkuZXh0ZW5kKHt9LGMpLG8uc2V0KHQsbCkpfX1mdW5jdGlvbiBnZShuLHQpe3ZhciBpPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpPT09ImlucHV0IiYma3QudGVzdChuLnR5cGUpP3QuY2hlY2tlZD1uLmNoZWNrZWQ6KGk9PT0iaW5wdXQifHxpPT09InRleHRhcmVhIikmJih0LmRlZmF1bHRWYWx1ZT1uLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24gbHQobix0LGYsbyl7dD1hcih0KTt2YXIgYSxiLGwsdixoLHksYz0wLHA9bi5sZW5ndGgsZD1wLTEsdz10WzBdLGs9dSh3KTtpZihrfHxwPjEmJnR5cGVvZiB3PT0ic3RyaW5nIiYmIWUuY2hlY2tDbG9uZSYmd2UudGVzdCh3KSlyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKGkpe3ZhciByPW4uZXEoaSk7ayYmKHRbMF09dy5jYWxsKHRoaXMsaSxyLmh0bWwoKSkpO2x0KHIsdCxmLG8pfSk7aWYocCYmKGE9YXUodCxuWzBdLm93bmVyRG9jdW1lbnQsITEsbixvKSxiPWEuZmlyc3RDaGlsZCxhLmNoaWxkTm9kZXMubGVuZ3RoPT09MSYmKGE9YiksYnx8bykpe2ZvcihsPWkubWFwKHMoYSwic2NyaXB0Iiksa2UpLHY9bC5sZW5ndGg7YzxwO2MrKyloPWEsYyE9PWQmJihoPWkuY2xvbmUoaCwhMCwhMCksdiYmaS5tZXJnZShsLHMoaCwic2NyaXB0IikpKSxmLmNhbGwobltjXSxoLGMpO2lmKHYpZm9yKHk9bFtsLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LGkubWFwKGwsZGUpLGM9MDtjPHY7YysrKWg9bFtjXSxjdS50ZXN0KGgudHlwZXx8IiIpJiYhci5hY2Nlc3MoaCwiZ2xvYmFsRXZhbCIpJiZpLmNvbnRhaW5zKHksaCkmJihoLnNyYyYmKGgudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCkhPT0ibW9kdWxlIj9pLl9ldmFsVXJsJiYhaC5ub01vZHVsZSYmaS5fZXZhbFVybChoLnNyYyx7bm9uY2U6aC5ub25jZXx8aC5nZXRBdHRyaWJ1dGUoIm5vbmNlIil9LHkpOnByKGgudGV4dENvbnRlbnQucmVwbGFjZShiZSwiIiksaCx5KSl9cmV0dXJuIG59ZnVuY3Rpb24gcHUobix0LHIpe2Zvcih2YXIgdSxlPXQ/aS5maWx0ZXIodCxuKTpuLGY9MDsodT1lW2ZdKSE9bnVsbDtmKyspcnx8dS5ub2RlVHlwZSE9PTF8fGkuY2xlYW5EYXRhKHModSkpLHUucGFyZW50Tm9kZSYmKHImJm90KHUpJiZ3aShzKHUsInNjcmlwdCIpKSx1LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodSkpO3JldHVybiBufWZ1bmN0aW9uIGR0KG4sdCxyKXt2YXIgbyxzLGgsdSxmPW4uc3R5bGU7cmV0dXJuIHI9cnx8b2kobiksciYmKHU9ci5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxyW3RdLHUhPT0iInx8b3Qobil8fCh1PWkuc3R5bGUobix0KSksIWUucGl4ZWxCb3hTdHlsZXMoKSYmZGkudGVzdCh1KSYmbm8udGVzdCh0KSYmKG89Zi53aWR0aCxzPWYubWluV2lkdGgsaD1mLm1heFdpZHRoLGYubWluV2lkdGg9Zi5tYXhXaWR0aD1mLndpZHRoPXUsdT1yLndpZHRoLGYud2lkdGg9byxmLm1pbldpZHRoPXMsZi5tYXhXaWR0aD1oKSksdSE9PXVuZGVmaW5lZD91KyIiOnV9ZnVuY3Rpb24gYnUobix0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYobigpKXtkZWxldGUgdGhpcy5nZXQ7cmV0dXJufXJldHVybih0aGlzLmdldD10KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX1mdW5jdGlvbiB0byhuKXtmb3IodmFyIGk9blswXS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSksdD1rdS5sZW5ndGg7dC0tOylpZihuPWt1W3RdK2ksbiBpbiBkdSlyZXR1cm4gbn1mdW5jdGlvbiBnaShuKXt2YXIgdD1pLmNzc1Byb3BzW25dfHxndVtuXTtyZXR1cm4gdD90Om4gaW4gZHU/bjpndVtuXT10byhuKXx8bn1mdW5jdGlvbiByZihuLHQsaSl7dmFyIHI9d3QuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMl0tKGl8fDApKSsoclszXXx8InB4Iik6dH1mdW5jdGlvbiBucihuLHQscix1LGYsZSl7dmFyIG89dD09PSJ3aWR0aCI/MTowLGg9MCxzPTA7aWYocj09PSh1PyJib3JkZXIiOiJjb250ZW50IikpcmV0dXJuIDA7Zm9yKDtvPDQ7bys9MilyPT09Im1hcmdpbiImJihzKz1pLmNzcyhuLHIrYltvXSwhMCxmKSksdT8ocj09PSJjb250ZW50IiYmKHMtPWkuY3NzKG4sInBhZGRpbmciK2Jbb10sITAsZikpLHIhPT0ibWFyZ2luIiYmKHMtPWkuY3NzKG4sImJvcmRlciIrYltvXSsiV2lkdGgiLCEwLGYpKSk6KHMrPWkuY3NzKG4sInBhZGRpbmciK2Jbb10sITAsZiksciE9PSJwYWRkaW5nIj9zKz1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKTpoKz1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKSk7cmV0dXJuIXUmJmU+PTAmJihzKz1NYXRoLm1heCgwLE1hdGguY2VpbChuWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1lLXMtaC0uNSkpfHwwKSxzfWZ1bmN0aW9uIHVmKG4sdCxyKXt2YXIgZj1vaShuKSxjPSFlLmJveFNpemluZ1JlbGlhYmxlKCl8fHIsbz1jJiZpLmNzcyhuLCJib3hTaXppbmciLCExLGYpPT09ImJvcmRlci1ib3giLHM9byx1PWR0KG4sdCxmKSxoPSJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO2lmKGRpLnRlc3QodSkpe2lmKCFyKXJldHVybiB1O3U9ImF1dG8ifXJldHVybighZS5ib3hTaXppbmdSZWxpYWJsZSgpJiZvfHwhZS5yZWxpYWJsZVRyRGltZW5zaW9ucygpJiZsKG4sInRyIil8fHU9PT0iYXV0byJ8fCFwYXJzZUZsb2F0KHUpJiZpLmNzcyhuLCJkaXNwbGF5IiwhMSxmKT09PSJpbmxpbmUiKSYmbi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmKG89aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKT09PSJib3JkZXItYm94IixzPWggaW4gbixzJiYodT1uW2hdKSksdT1wYXJzZUZsb2F0KHUpfHwwLHUrbnIobix0LHJ8fChvPyJib3JkZXIiOiJjb250ZW50IikscyxmLHUpKyJweCJ9ZnVuY3Rpb24gaChuLHQsaSxyLHUpe3JldHVybiBuZXcgaC5wcm90b3R5cGUuaW5pdChuLHQsaSxyLHUpfWZ1bmN0aW9uIHRyKCl7c2kmJihmLmhpZGRlbj09PSExJiZuLnJlcXVlc3RBbmltYXRpb25GcmFtZT9uLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0cik6bi5zZXRUaW1lb3V0KHRyLGkuZnguaW50ZXJ2YWwpLGkuZngudGljaygpKX1mdW5jdGlvbiBvZigpe3JldHVybiBuLnNldFRpbWVvdXQoZnVuY3Rpb24oKXthdD11bmRlZmluZWR9KSxhdD1EYXRlLm5vdygpfWZ1bmN0aW9uIGhpKG4sdCl7dmFyIHIsdT0wLGk9e2hlaWdodDpufTtmb3IodD10PzE6MDt1PDQ7dSs9Mi10KXI9Ylt1XSxpWyJtYXJnaW4iK3JdPWlbInBhZGRpbmciK3JdPW47cmV0dXJuIHQmJihpLm9wYWNpdHk9aS53aWR0aD1uKSxpfWZ1bmN0aW9uIHNmKG4sdCxpKXtmb3IodmFyIHUsZj0odi50d2VlbmVyc1t0XXx8W10pLmNvbmNhdCh2LnR3ZWVuZXJzWyIqIl0pLHI9MCxlPWYubGVuZ3RoO3I8ZTtyKyspaWYodT1mW3JdLmNhbGwoaSx0LG4pKXJldHVybiB1fWZ1bmN0aW9uIHVvKG4sdCx1KXt2YXIgZix5LHcsYyxiLHMsbyxsLGs9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCx2PXRoaXMscD17fSxoPW4uc3R5bGUsYT1uLm5vZGVUeXBlJiZidChuKSxlPXIuZ2V0KG4sImZ4c2hvdyIpO3UucXVldWV8fChjPWkuX3F1ZXVlSG9va3MobiwiZngiKSxjLnVucXVldWVkPT1udWxsJiYoYy51bnF1ZXVlZD0wLGI9Yy5lbXB0eS5maXJlLGMuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2MudW5xdWV1ZWR8fGIoKX0pLGMudW5xdWV1ZWQrKyx2LmFsd2F5cyhmdW5jdGlvbigpe3YuYWx3YXlzKGZ1bmN0aW9uKCl7Yy51bnF1ZXVlZC0tO2kucXVldWUobiwiZngiKS5sZW5ndGh8fGMuZW1wdHkuZmlyZSgpfSl9KSk7Zm9yKGYgaW4gdClpZih5PXRbZl0sZmYudGVzdCh5KSl7aWYoZGVsZXRlIHRbZl0sdz13fHx5PT09InRvZ2dsZSIseT09PShhPyJoaWRlIjoic2hvdyIpKWlmKHk9PT0ic2hvdyImJmUmJmVbZl0hPT11bmRlZmluZWQpYT0hMDtlbHNlIGNvbnRpbnVlO3BbZl09ZSYmZVtmXXx8aS5zdHlsZShuLGYpfWlmKHM9IWkuaXNFbXB0eU9iamVjdCh0KSxzfHwhaS5pc0VtcHR5T2JqZWN0KHApKXtrJiZuLm5vZGVUeXBlPT09MSYmKHUub3ZlcmZsb3c9W2gub3ZlcmZsb3csaC5vdmVyZmxvd1gsaC5vdmVyZmxvd1ldLG89ZSYmZS5kaXNwbGF5LG89PW51bGwmJihvPXIuZ2V0KG4sImRpc3BsYXkiKSksbD1pLmNzcyhuLCJkaXNwbGF5IiksbD09PSJub25lIiYmKG8/bD1vOihzdChbbl0sITApLG89bi5zdHlsZS5kaXNwbGF5fHxvLGw9aS5jc3MobiwiZGlzcGxheSIpLHN0KFtuXSkpKSwobD09PSJpbmxpbmUifHxsPT09ImlubGluZS1ibG9jayImJm8hPW51bGwpJiZpLmNzcyhuLCJmbG9hdCIpPT09Im5vbmUiJiYoc3x8KHYuZG9uZShmdW5jdGlvbigpe2guZGlzcGxheT1vfSksbz09bnVsbCYmKGw9aC5kaXNwbGF5LG89bD09PSJub25lIj8iIjpsKSksaC5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSk7dS5vdmVyZmxvdyYmKGgub3ZlcmZsb3c9ImhpZGRlbiIsdi5hbHdheXMoZnVuY3Rpb24oKXtoLm92ZXJmbG93PXUub3ZlcmZsb3dbMF07aC5vdmVyZmxvd1g9dS5vdmVyZmxvd1sxXTtoLm92ZXJmbG93WT11Lm92ZXJmbG93WzJdfSkpO3M9ITE7Zm9yKGYgaW4gcClzfHwoZT8iaGlkZGVuImluIGUmJihhPWUuaGlkZGVuKTplPXIuYWNjZXNzKG4sImZ4c2hvdyIse2Rpc3BsYXk6b30pLHcmJihlLmhpZGRlbj0hYSksYSYmc3QoW25dLCEwKSx2LmRvbmUoZnVuY3Rpb24oKXthfHxzdChbbl0pO3IucmVtb3ZlKG4sImZ4c2hvdyIpO2ZvcihmIGluIHApaS5zdHlsZShuLGYscFtmXSl9KSkscz1zZihhP2VbZl06MCxmLHYpLGYgaW4gZXx8KGVbZl09cy5zdGFydCxhJiYocy5lbmQ9cy5zdGFydCxzLnN0YXJ0PTApKX19ZnVuY3Rpb24gZm8obix0KXt2YXIgcixmLGUsdSxvO2ZvcihyIGluIG4paWYoZj15KHIpLGU9dFtmXSx1PW5bcl0sQXJyYXkuaXNBcnJheSh1KSYmKGU9dVsxXSx1PW5bcl09dVswXSksciE9PWYmJihuW2ZdPXUsZGVsZXRlIG5bcl0pLG89aS5jc3NIb29rc1tmXSxvJiYiZXhwYW5kImluIG8pe3U9by5leHBhbmQodSk7ZGVsZXRlIG5bZl07Zm9yKHIgaW4gdSlyIGluIG58fChuW3JdPXVbcl0sdFtyXT1lKX1lbHNlIHRbZl09ZX1mdW5jdGlvbiB2KG4sdCxyKXt2YXIgbyxzLGg9MCxhPXYucHJlZmlsdGVycy5sZW5ndGgsZT1pLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGwuZWxlbX0pLGw9ZnVuY3Rpb24oKXtpZihzKXJldHVybiExO2Zvcih2YXIgbz1hdHx8b2YoKSx0PU1hdGgubWF4KDAsZi5zdGFydFRpbWUrZi5kdXJhdGlvbi1vKSxoPXQvZi5kdXJhdGlvbnx8MCxpPTEtaCxyPTAsdT1mLnR3ZWVucy5sZW5ndGg7cjx1O3IrKylmLnR3ZWVuc1tyXS5ydW4oaSk7cmV0dXJuKGUubm90aWZ5V2l0aChuLFtmLGksdF0pLGk8MSYmdSk/dDoodXx8ZS5ub3RpZnlXaXRoKG4sW2YsMSwwXSksZS5yZXNvbHZlV2l0aChuLFtmXSksITEpfSxmPWUucHJvbWlzZSh7ZWxlbTpuLHByb3BzOmkuZXh0ZW5kKHt9LHQpLG9wdHM6aS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOmkuZWFzaW5nLl9kZWZhdWx0fSxyKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6cixzdGFydFRpbWU6YXR8fG9mKCksZHVyYXRpb246ci5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxyKXt2YXIgdT1pLlR3ZWVuKG4sZi5vcHRzLHQscixmLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8Zi5vcHRzLmVhc2luZyk7cmV0dXJuIGYudHdlZW5zLnB1c2godSksdX0sc3RvcDpmdW5jdGlvbih0KXt2YXIgaT0wLHI9dD9mLnR3ZWVucy5sZW5ndGg6MDtpZihzKXJldHVybiB0aGlzO2ZvcihzPSEwO2k8cjtpKyspZi50d2VlbnNbaV0ucnVuKDEpO3JldHVybiB0PyhlLm5vdGlmeVdpdGgobixbZiwxLDBdKSxlLnJlc29sdmVXaXRoKG4sW2YsdF0pKTplLnJlamVjdFdpdGgobixbZix0XSksdGhpc319KSxjPWYucHJvcHM7Zm9yKGZvKGMsZi5vcHRzLnNwZWNpYWxFYXNpbmcpO2g8YTtoKyspaWYobz12LnByZWZpbHRlcnNbaF0uY2FsbChmLG4sYyxmLm9wdHMpLG8pcmV0dXJuIHUoby5zdG9wKSYmKGkuX3F1ZXVlSG9va3MoZi5lbGVtLGYub3B0cy5xdWV1ZSkuc3RvcD1vLnN0b3AuYmluZChvKSksbztyZXR1cm4gaS5tYXAoYyxzZixmKSx1KGYub3B0cy5zdGFydCkmJmYub3B0cy5zdGFydC5jYWxsKG4sZiksZi5wcm9ncmVzcyhmLm9wdHMucHJvZ3Jlc3MpLmRvbmUoZi5vcHRzLmRvbmUsZi5vcHRzLmNvbXBsZXRlKS5mYWlsKGYub3B0cy5mYWlsKS5hbHdheXMoZi5vcHRzLmFsd2F5cyksaS5meC50aW1lcihpLmV4dGVuZChsLHtlbGVtOm4sYW5pbTpmLHF1ZXVlOmYub3B0cy5xdWV1ZX0pKSxmfWZ1bmN0aW9uIG50KG4pe3ZhciB0PW4ubWF0Y2goYSl8fFtdO3JldHVybiB0LmpvaW4oIiAiKX1mdW5jdGlvbiB0dChuKXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUmJm4uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiBpcihuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uOnR5cGVvZiBuPT0ic3RyaW5nIj9uLm1hdGNoKGEpfHxbXTpbXX1mdW5jdGlvbiBlcihuLHQscix1KXt2YXIgZjtpZihBcnJheS5pc0FycmF5KHQpKWkuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7cnx8ZW8udGVzdChuKT91KG4saSk6ZXIobisiWyIrKHR5cGVvZiBpPT0ib2JqZWN0IiYmaSE9bnVsbD90OiIiKSsiXSIsaSxyLHUpfSk7ZWxzZSBpZihyfHxydCh0KSE9PSJvYmplY3QiKXUobix0KTtlbHNlIGZvcihmIGluIHQpZXIobisiWyIrZisiXSIsdFtmXSxyLHUpfWZ1bmN0aW9uIGJmKG4pe3JldHVybiBmdW5jdGlvbih0LGkpe3R5cGVvZiB0IT0ic3RyaW5nIiYmKGk9dCx0PSIqIik7dmFyIHIsZj0wLGU9dC50b0xvd2VyQ2FzZSgpLm1hdGNoKGEpfHxbXTtpZih1KGkpKXdoaWxlKHI9ZVtmKytdKXJbMF09PT0iKyI/KHI9ci5zbGljZSgxKXx8IioiLChuW3JdPW5bcl18fFtdKS51bnNoaWZ0KGkpKToobltyXT1uW3JdfHxbXSkucHVzaChpKX19ZnVuY3Rpb24ga2Yobix0LHIsdSl7ZnVuY3Rpb24gZShzKXt2YXIgaDtyZXR1cm4gZltzXT0hMCxpLmVhY2gobltzXXx8W10sZnVuY3Rpb24obixpKXt2YXIgcz1pKHQscix1KTtpZih0eXBlb2YgcyE9InN0cmluZyJ8fG98fGZbc10pe2lmKG8pcmV0dXJuIShoPXMpfWVsc2UgcmV0dXJuIHQuZGF0YVR5cGVzLnVuc2hpZnQocyksZShzKSwhMX0pLGh9dmFyIGY9e30sbz1uPT09b3I7cmV0dXJuIGUodC5kYXRhVHlwZXNbMF0pfHwhZlsiKiJdJiZlKCIqIil9ZnVuY3Rpb24gaHIobix0KXt2YXIgcix1LGY9aS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihyIGluIHQpdFtyXSE9PXVuZGVmaW5lZCYmKChmW3JdP246dXx8KHU9e30pKVtyXT10W3JdKTtyZXR1cm4gdSYmaS5leHRlbmQoITAsbix1KSxufWZ1bmN0aW9uIHBvKG4sdCxpKXtmb3IodmFyIGUsdSxmLG8scz1uLmNvbnRlbnRzLHI9bi5kYXRhVHlwZXM7clswXT09PSIqIjspci5zaGlmdCgpLGU9PT11bmRlZmluZWQmJihlPW4ubWltZVR5cGV8fHQuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcih1IGluIHMpaWYoc1t1XSYmc1t1XS50ZXN0KGUpKXtyLnVuc2hpZnQodSk7YnJlYWt9aWYoclswXWluIGkpZj1yWzBdO2Vsc2V7Zm9yKHUgaW4gaSl7aWYoIXJbMF18fG4uY29udmVydGVyc1t1KyIgIityWzBdXSl7Zj11O2JyZWFrfW98fChvPXUpfWY9Znx8b31pZihmKXJldHVybiBmIT09clswXSYmci51bnNoaWZ0KGYpLGlbZl19ZnVuY3Rpb24gd28obix0LGkscil7dmFyIGgsdSxmLHMsZSxvPXt9LGM9bi5kYXRhVHlwZXMuc2xpY2UoKTtpZihjWzFdKWZvcihmIGluIG4uY29udmVydGVycylvW2YudG9Mb3dlckNhc2UoKV09bi5jb252ZXJ0ZXJzW2ZdO2Zvcih1PWMuc2hpZnQoKTt1OylpZihuLnJlc3BvbnNlRmllbGRzW3VdJiYoaVtuLnJlc3BvbnNlRmllbGRzW3VdXT10KSwhZSYmciYmbi5kYXRhRmlsdGVyJiYodD1uLmRhdGFGaWx0ZXIodCxuLmRhdGFUeXBlKSksZT11LHU9Yy5zaGlmdCgpLHUpaWYodT09PSIqIil1PWU7ZWxzZSBpZihlIT09IioiJiZlIT09dSl7aWYoZj1vW2UrIiAiK3VdfHxvWyIqICIrdV0sIWYpZm9yKGggaW4gbylpZihzPWguc3BsaXQoIiAiKSxzWzFdPT09dSYmKGY9b1tlKyIgIitzWzBdXXx8b1siKiAiK3NbMF1dLGYpKXtmPT09ITA/Zj1vW2hdOm9baF0hPT0hMCYmKHU9c1swXSxjLnVuc2hpZnQoc1sxXSkpO2JyZWFrfWlmKGYhPT0hMClpZihmJiZuLnRocm93cyl0PWYodCk7ZWxzZSB0cnl7dD1mKHQpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmY/bDoiTm8gY29udmVyc2lvbiBmcm9tICIrZSsiIHRvICIrdX19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTp0fX12YXIgcD1bXSxscj1PYmplY3QuZ2V0UHJvdG90eXBlT2Ysaz1wLnNsaWNlLGFyPXAuZmxhdD9mdW5jdGlvbihuKXtyZXR1cm4gcC5mbGF0LmNhbGwobil9OmZ1bmN0aW9uKG4pe3JldHVybiBwLmNvbmNhdC5hcHBseShbXSxuKX0sbGk9cC5wdXNoLG5pPXAuaW5kZXhPZix0aT17fSx2cj10aS50b1N0cmluZyxpaT10aS5oYXNPd25Qcm9wZXJ0eSx5cj1paS50b1N0cmluZyxpZT15ci5jYWxsKE9iamVjdCksZT17fSx1PWZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09ImZ1bmN0aW9uIiYmdHlwZW9mIG4ubm9kZVR5cGUhPSJudW1iZXIiJiZ0eXBlb2Ygbi5pdGVtIT0iZnVuY3Rpb24ifSxpdD1mdW5jdGlvbihuKXtyZXR1cm4gbiE9bnVsbCYmbj09PW4ud2luZG93fSxmPW4uZG9jdW1lbnQscmU9e3R5cGU6ITAsc3JjOiEwLG5vbmNlOiEwLG5vTW9kdWxlOiEwfSx3cj0iMy42LjAiLGk9ZnVuY3Rpb24obix0KXtyZXR1cm4gbmV3IGkuZm4uaW5pdChuLHQpfSxkLHZpLGRyLGdyLG51LHR1LGl1LGEsZnUsdWksZXQsYnQscGksYyxsdSxiaSxhdCxzaSxmZixlZixoZix2dCxjZixsZixhZixycix1cixkZix5dCxjcixjaSxnZixuZSx0ZTtpLmZuPWkucHJvdG90eXBlPXtqcXVlcnk6d3IsY29uc3RydWN0b3I6aSxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGsuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKG4pe3JldHVybiBuPT1udWxsP2suY2FsbCh0aGlzKTpuPDA/dGhpc1tuK3RoaXMubGVuZ3RoXTp0aGlzW25dfSxwdXNoU3RhY2s6ZnVuY3Rpb24obil7dmFyIHQ9aS5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksbik7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24obil7cmV0dXJuIGkuZWFjaCh0aGlzLG4pfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkubWFwKHRoaXMsZnVuY3Rpb24odCxpKXtyZXR1cm4gbi5jYWxsKHQsaSx0KX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soay5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkuZ3JlcCh0aGlzLGZ1bmN0aW9uKG4sdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkuZ3JlcCh0aGlzLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5sZW5ndGgsdD0rbisobjwwP2k6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHQ+PTAmJnQ8aT9bdGhpc1t0XV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6bGksc29ydDpwLnNvcnQsc3BsaWNlOnAuc3BsaWNlfTtpLmV4dGVuZD1pLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBzLGYsZSx0LG8sYyxuPWFyZ3VtZW50c1swXXx8e30scj0xLGw9YXJndW1lbnRzLmxlbmd0aCxoPSExO2Zvcih0eXBlb2Ygbj09ImJvb2xlYW4iJiYoaD1uLG49YXJndW1lbnRzW3JdfHx7fSxyKyspLHR5cGVvZiBuPT0ib2JqZWN0Inx8dShuKXx8KG49e30pLHI9PT1sJiYobj10aGlzLHItLSk7cjxsO3IrKylpZigocz1hcmd1bWVudHNbcl0pIT1udWxsKWZvcihmIGluIHMpKHQ9c1tmXSxmIT09Il9fcHJvdG9fXyImJm4hPT10KSYmKGgmJnQmJihpLmlzUGxhaW5PYmplY3QodCl8fChvPUFycmF5LmlzQXJyYXkodCkpKT8oZT1uW2ZdLGM9byYmIUFycmF5LmlzQXJyYXkoZSk/W106b3x8aS5pc1BsYWluT2JqZWN0KGUpP2U6e30sbz0hMSxuW2ZdPWkuZXh0ZW5kKGgsYyx0KSk6dCE9PXVuZGVmaW5lZCYmKG5bZl09dCkpO3JldHVybiBufTtpLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5Iisod3IrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihuKXt0aHJvdyBuZXcgRXJyb3Iobik7fSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKG4pe3ZhciB0LGk7cmV0dXJuIW58fHZyLmNhbGwobikhPT0iW29iamVjdCBPYmplY3RdIj8hMToodD1scihuKSwhdCk/ITA6KGk9aWkuY2FsbCh0LCJjb25zdHJ1Y3RvciIpJiZ0LmNvbnN0cnVjdG9yLHR5cGVvZiBpPT0iZnVuY3Rpb24iJiZ5ci5jYWxsKGkpPT09aWUpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKG4sdCxpKXtwcihuLHtub25jZTp0JiZ0Lm5vbmNlfSxpKX0sZWFjaDpmdW5jdGlvbihuLHQpe3ZhciByLGk9MDtpZihhaShuKSl7Zm9yKHI9bi5sZW5ndGg7aTxyO2krKylpZih0LmNhbGwobltpXSxpLG5baV0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoaSBpbiBuKWlmKHQuY2FsbChuW2ldLGksbltpXSk9PT0hMSlicmVhaztyZXR1cm4gbn0sbWFrZUFycmF5OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dHx8W107cmV0dXJuIG4hPW51bGwmJihhaShPYmplY3QobikpP2kubWVyZ2Uocix0eXBlb2Ygbj09InN0cmluZyI/W25dOm4pOmxpLmNhbGwocixuKSkscn0saW5BcnJheTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHQ9PW51bGw/LTE6bmkuY2FsbCh0LG4saSl9LG1lcmdlOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciB1PSt0Lmxlbmd0aCxpPTAscj1uLmxlbmd0aDtpPHU7aSsrKW5bcisrXT10W2ldO3JldHVybiBuLmxlbmd0aD1yLG59LGdyZXA6ZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgdSxmPVtdLHI9MCxlPW4ubGVuZ3RoLG89IWk7cjxlO3IrKyl1PSF0KG5bcl0sciksdSE9PW8mJmYucHVzaChuW3JdKTtyZXR1cm4gZn0sbWFwOmZ1bmN0aW9uKG4sdCxpKXt2YXIgZSx1LHI9MCxmPVtdO2lmKGFpKG4pKWZvcihlPW4ubGVuZ3RoO3I8ZTtyKyspdT10KG5bcl0scixpKSx1IT1udWxsJiZmLnB1c2godSk7ZWxzZSBmb3IociBpbiBuKXU9dChuW3JdLHIsaSksdSE9bnVsbCYmZi5wdXNoKHUpO3JldHVybiBhcihmKX0sZ3VpZDoxLHN1cHBvcnQ6ZX0pO3R5cGVvZiBTeW1ib2w9PSJmdW5jdGlvbiImJihpLmZuW1N5bWJvbC5pdGVyYXRvcl09cFtTeW1ib2wuaXRlcmF0b3JdKTtpLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7dGlbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSk7ZD1mdW5jdGlvbihuKXtmdW5jdGlvbiB1KG4sdCxyLHUpe3ZhciBzLHAsYyxsLHcseSxkLHY9dCYmdC5vd25lckRvY3VtZW50LGE9dD90Lm5vZGVUeXBlOjk7aWYocj1yfHxbXSx0eXBlb2YgbiE9InN0cmluZyJ8fCFufHxhIT09MSYmYSE9PTkmJmEhPT0xMSlyZXR1cm4gcjtpZighdSYmKGIodCksdD10fHxpLGgpKXtpZihhIT09MTEmJih3PWFyLmV4ZWMobikpKWlmKHM9d1sxXSl7aWYoYT09PTkpaWYoYz10LmdldEVsZW1lbnRCeUlkKHMpKXtpZihjLmlkPT09cylyZXR1cm4gci5wdXNoKGMpLHJ9ZWxzZSByZXR1cm4gcjtlbHNlIGlmKHYmJihjPXYuZ2V0RWxlbWVudEJ5SWQocykpJiZldCh0LGMpJiZjLmlkPT09cylyZXR1cm4gci5wdXNoKGMpLHJ9ZWxzZXtpZih3WzJdKXJldHVybiBrLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKSkscjtpZigocz13WzNdKSYmZi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZ0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIGsuYXBwbHkocix0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocykpLHJ9aWYoZi5xc2EmJiFsdFtuKyIgIl0mJighb3x8IW8udGVzdChuKSkmJihhIT09MXx8dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09Im9iamVjdCIpKXtpZihkPW4sdj10LGE9PT0xJiYoZXIudGVzdChuKXx8eWkudGVzdChuKSkpe2Zvcih2PXRpLnRlc3QobikmJnJpKHQucGFyZW50Tm9kZSl8fHQsdj09PXQmJmYuc2NvcGV8fCgobD10LmdldEF0dHJpYnV0ZSgiaWQiKSk/bD1sLnJlcGxhY2UocGksd2kpOnQuc2V0QXR0cmlidXRlKCJpZCIsbD1lKSkseT1mdChuKSxwPXkubGVuZ3RoO3AtLTspeVtwXT0obD8iIyIrbDoiOnNjb3BlIikrIiAiK3B0KHlbcF0pO2Q9eS5qb2luKCIsIil9dHJ5e3JldHVybiBrLmFwcGx5KHIsdi5xdWVyeVNlbGVjdG9yQWxsKGQpKSxyfWNhdGNoKGcpe2x0KG4sITApfWZpbmFsbHl7bD09PWUmJnQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIHNpKG4ucmVwbGFjZShhdCwiJDEiKSx0LHIsdSl9ZnVuY3Rpb24geXQoKXtmdW5jdGlvbiBuKHIsdSl7cmV0dXJuIGkucHVzaChyKyIgIik+dC5jYWNoZUxlbmd0aCYmZGVsZXRlIG5baS5zaGlmdCgpXSxuW3IrIiAiXT11fXZhciBpPVtdO3JldHVybiBufWZ1bmN0aW9uIGwobil7cmV0dXJuIG5bZV09ITAsbn1mdW5jdGlvbiBhKG4pe3ZhciB0PWkuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKTt0cnl7cmV0dXJuISFuKHQpfWNhdGNoKHIpe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7dD1udWxsfX1mdW5jdGlvbiBpaShuLGkpe2Zvcih2YXIgcj1uLnNwbGl0KCJ8IiksdT1yLmxlbmd0aDt1LS07KXQuYXR0ckhhbmRsZVtyW3VdXT1pfWZ1bmN0aW9uIGtpKG4sdCl7dmFyIGk9dCYmbixyPWkmJm4ubm9kZVR5cGU9PT0xJiZ0Lm5vZGVUeXBlPT09MSYmbi5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYoaSl3aGlsZShpPWkubmV4dFNpYmxpbmcpaWYoaT09PXQpcmV0dXJuLTE7cmV0dXJuIG4/MTotMX1mdW5jdGlvbiB5cihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiBpPT09ImlucHV0IiYmdC50eXBlPT09bn19ZnVuY3Rpb24gcHIobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oaT09PSJpbnB1dCJ8fGk9PT0iYnV0dG9uIikmJnQudHlwZT09PW59fWZ1bmN0aW9uIGRpKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iZm9ybSJpbiB0P3QucGFyZW50Tm9kZSYmdC5kaXNhYmxlZD09PSExPyJsYWJlbCJpbiB0PyJsYWJlbCJpbiB0LnBhcmVudE5vZGU/dC5wYXJlbnROb2RlLmRpc2FibGVkPT09bjp0LmRpc2FibGVkPT09bjp0LmlzRGlzYWJsZWQ9PT1ufHx0LmlzRGlzYWJsZWQhPT0hbiYmdnIodCk9PT1uOnQuZGlzYWJsZWQ9PT1uOiJsYWJlbCJpbiB0P3QuZGlzYWJsZWQ9PT1uOiExfX1mdW5jdGlvbiBpdChuKXtyZXR1cm4gbChmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxsKGZ1bmN0aW9uKGkscil7Zm9yKHZhciB1LGY9bihbXSxpLmxlbmd0aCx0KSxlPWYubGVuZ3RoO2UtLTspaVt1PWZbZV1dJiYoaVt1XT0hKHJbdV09aVt1XSkpfSl9KX1mdW5jdGlvbiByaShuKXtyZXR1cm4gbiYmdHlwZW9mIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiJiZufWZ1bmN0aW9uIGdpKCl7fWZ1bmN0aW9uIHB0KG4pe2Zvcih2YXIgdD0wLHI9bi5sZW5ndGgsaT0iIjt0PHI7dCsrKWkrPW5bdF0udmFsdWU7cmV0dXJuIGl9ZnVuY3Rpb24gd3Qobix0LGkpe3ZhciByPXQuZGlyLHU9dC5uZXh0LGY9dXx8cixvPWkmJmY9PT0icGFyZW50Tm9kZSIscz1ucisrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsaSx1KXt3aGlsZSh0PXRbcl0paWYodC5ub2RlVHlwZT09PTF8fG8pcmV0dXJuIG4odCxpLHUpO3JldHVybiExfTpmdW5jdGlvbih0LGksaCl7dmFyIGMsbCxhLHk9W3Ysc107aWYoaCl7d2hpbGUodD10W3JdKWlmKCh0Lm5vZGVUeXBlPT09MXx8bykmJm4odCxpLGgpKXJldHVybiEwfWVsc2Ugd2hpbGUodD10W3JdKWlmKHQubm9kZVR5cGU9PT0xfHxvKWlmKGE9dFtlXXx8KHRbZV09e30pLGw9YVt0LnVuaXF1ZUlEXXx8KGFbdC51bmlxdWVJRF09e30pLHUmJnU9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpdD10W3JdfHx0O2Vsc2V7aWYoKGM9bFtmXSkmJmNbMF09PT12JiZjWzFdPT09cylyZXR1cm4geVsyXT1jWzJdO2lmKGxbZl09eSx5WzJdPW4odCxpLGgpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB1aShuKXtyZXR1cm4gbi5sZW5ndGg+MT9mdW5jdGlvbih0LGkscil7Zm9yKHZhciB1PW4ubGVuZ3RoO3UtLTspaWYoIW5bdV0odCxpLHIpKXJldHVybiExO3JldHVybiEwfTpuWzBdfWZ1bmN0aW9uIHdyKG4sdCxpKXtmb3IodmFyIHI9MCxmPXQubGVuZ3RoO3I8ZjtyKyspdShuLHRbcl0saSk7cmV0dXJuIGl9ZnVuY3Rpb24gYnQobix0LGkscix1KXtmb3IodmFyIGUsbz1bXSxmPTAscz1uLmxlbmd0aCxoPXQhPW51bGw7ZjxzO2YrKykoZT1uW2ZdKSYmKCFpfHxpKGUscix1KSkmJihvLnB1c2goZSksaCYmdC5wdXNoKGYpKTtyZXR1cm4gb31mdW5jdGlvbiBmaShuLHQsaSxyLHUsZil7cmV0dXJuIHImJiFyW2VdJiYocj1maShyKSksdSYmIXVbZV0mJih1PWZpKHUsZikpLGwoZnVuY3Rpb24oZixlLG8scyl7dmFyIGwsYyxhLHA9W10seT1bXSx3PWUubGVuZ3RoLGI9Znx8d3IodHx8IioiLG8ubm9kZVR5cGU/W29dOm8sW10pLHY9biYmKGZ8fCF0KT9idChiLHAsbixvLHMpOmIsaD1pP3V8fChmP246d3x8cik/W106ZTp2O2lmKGkmJmkodixoLG8scykscilmb3IobD1idChoLHkpLHIobCxbXSxvLHMpLGM9bC5sZW5ndGg7Yy0tOykoYT1sW2NdKSYmKGhbeVtjXV09ISh2W3lbY11dPWEpKTtpZihmKXtpZih1fHxuKXtpZih1KXtmb3IobD1bXSxjPWgubGVuZ3RoO2MtLTspKGE9aFtjXSkmJmwucHVzaCh2W2NdPWEpO3UobnVsbCxoPVtdLGwscyl9Zm9yKGM9aC5sZW5ndGg7Yy0tOykoYT1oW2NdKSYmKGw9dT9udChmLGEpOnBbY10pPi0xJiYoZltsXT0hKGVbbF09YSkpfX1lbHNlIGg9YnQoaD09PWU/aC5zcGxpY2UodyxoLmxlbmd0aCk6aCksdT91KG51bGwsZSxoLHMpOmsuYXBwbHkoZSxoKX0pfWZ1bmN0aW9uIGVpKG4pe2Zvcih2YXIgbyx1LHIscz1uLmxlbmd0aCxoPXQucmVsYXRpdmVbblswXS50eXBlXSxjPWh8fHQucmVsYXRpdmVbIiAiXSxpPWg/MTowLGw9d3QoZnVuY3Rpb24obil7cmV0dXJuIG49PT1vfSxjLCEwKSxhPXd0KGZ1bmN0aW9uKG4pe3JldHVybiBudChvLG4pPi0xfSxjLCEwKSxmPVtmdW5jdGlvbihuLHQsaSl7dmFyIHI9IWgmJihpfHx0IT09aHQpfHwoKG89dCkubm9kZVR5cGU/bChuLHQsaSk6YShuLHQsaSkpO3JldHVybiBvPW51bGwscn1dO2k8cztpKyspaWYodT10LnJlbGF0aXZlW25baV0udHlwZV0pZj1bd3QodWkoZiksdSldO2Vsc2V7aWYodT10LmZpbHRlcltuW2ldLnR5cGVdLmFwcGx5KG51bGwsbltpXS5tYXRjaGVzKSx1W2VdKXtmb3Iocj0rK2k7cjxzO3IrKylpZih0LnJlbGF0aXZlW25bcl0udHlwZV0pYnJlYWs7cmV0dXJuIGZpKGk+MSYmdWkoZiksaT4xJiZwdChuLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOm5baS0yXS50eXBlPT09IiAiPyIqIjoiIn0pKS5yZXBsYWNlKGF0LCIkMSIpLHUsaTxyJiZlaShuLnNsaWNlKGkscikpLHI8cyYmZWkobj1uLnNsaWNlKHIpKSxyPHMmJnB0KG4pKX1mLnB1c2godSl9cmV0dXJuIHVpKGYpfWZ1bmN0aW9uIGJyKG4scil7dmFyIGY9ci5sZW5ndGg+MCxlPW4ubGVuZ3RoPjAsbz1mdW5jdGlvbihvLHMsYyxsLGEpe3ZhciB5LG50LGQsZz0wLHA9IjAiLHR0PW8mJltdLHc9W10saXQ9aHQscnQ9b3x8ZSYmdC5maW5kLlRBRygiKiIsYSksdXQ9dis9aXQ9PW51bGw/MTpNYXRoLnJhbmRvbSgpfHwuMSxmdD1ydC5sZW5ndGg7Zm9yKGEmJihodD1zPT1pfHxzfHxhKTtwIT09ZnQmJih5PXJ0W3BdKSE9bnVsbDtwKyspe2lmKGUmJnkpe2ZvcihudD0wLHN8fHkub3duZXJEb2N1bWVudD09aXx8KGIoeSksYz0haCk7ZD1uW250KytdOylpZihkKHksc3x8aSxjKSl7bC5wdXNoKHkpO2JyZWFrfWEmJih2PXV0KX1mJiYoKHk9IWQmJnkpJiZnLS0sbyYmdHQucHVzaCh5KSl9aWYoZys9cCxmJiZwIT09Zyl7Zm9yKG50PTA7ZD1yW250KytdOylkKHR0LHcscyxjKTtpZihvKXtpZihnPjApd2hpbGUocC0tKXR0W3BdfHx3W3BdfHwod1twXT1pci5jYWxsKGwpKTt3PWJ0KHcpfWsuYXBwbHkobCx3KTthJiYhbyYmdy5sZW5ndGg+MCYmZytyLmxlbmd0aD4xJiZ1LnVuaXF1ZVNvcnQobCl9cmV0dXJuIGEmJih2PXV0LGh0PWl0KSx0dH07cmV0dXJuIGY/bChvKTpvfXZhciBydCxmLHQsc3Qsb2ksZnQsa3Qsc2ksaHQsdyx1dCxiLGkscyxoLG8sZCxjdCxldCxlPSJzaXp6bGUiKzEqbmV3IERhdGUsYz1uLmRvY3VtZW50LHY9MCxucj0wLGhpPXl0KCksY2k9eXQoKSxsaT15dCgpLGx0PXl0KCksZHQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gbj09PXQmJih1dD0hMCksMH0sdHI9e30uaGFzT3duUHJvcGVydHksZz1bXSxpcj1nLnBvcCxycj1nLnB1c2gsaz1nLnB1c2gsYWk9Zy5zbGljZSxudD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgaT0wLHI9bi5sZW5ndGg7aTxyO2krKylpZihuW2ldPT09dClyZXR1cm4gaTtyZXR1cm4tMX0sZ3Q9ImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkIixyPSJbXFx4MjBcXHRcXHJcXG5cXGZdIix0dD0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK3IrIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsdmk9IlxcWyIrcisiKigiK3R0KyIpKD86IityKyIqKFsqXiR8IX5dPz0pIityKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrdHQrIikpfCkiK3IrIipcXF0iLG5pPSI6KCIrdHQrIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK3ZpKyIpKil8LiopXFwpfCkiLHVyPW5ldyBSZWdFeHAocisiKyIsImciKSxhdD1uZXcgUmVnRXhwKCJeIityKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK3IrIiskIiwiZyIpLGZyPW5ldyBSZWdFeHAoIl4iK3IrIiosIityKyIqIikseWk9bmV3IFJlZ0V4cCgiXiIrcisiKihbPit+XXwiK3IrIikiK3IrIioiKSxlcj1uZXcgUmVnRXhwKHIrInw+Iiksb3I9bmV3IFJlZ0V4cChuaSksc3I9bmV3IFJlZ0V4cCgiXiIrdHQrIiQiKSx2dD17SUQ6bmV3IFJlZ0V4cCgiXiMoIit0dCsiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIit0dCsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrdHQrInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIit2aSksUFNFVURPOm5ldyBSZWdFeHAoIl4iK25pKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK3IrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK3IrIiooPzooWystXXwpIityKyIqKFxcZCspfCkpIityKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitndCsiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK3IrIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrcisiKigoPzotXFxkKT9cXGQqKSIrcisiKlxcKXwpKD89W14tXXwkKSIsImkiKX0saHI9L0hUTUwkL2ksY3I9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxscj0vXmhcZCQvaSxvdD0vXltee10rXHtccypcW25hdGl2ZSBcdy8sYXI9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyx0aT0vWyt+XS8seT1uZXcgUmVnRXhwKCJcXFxcW1xcZGEtZkEtRl17MSw2fSIrcisiP3xcXFxcKFteXFxyXFxuXFxmXSkiLCJnIikscD1mdW5jdGlvbihuLHQpe3ZhciBpPSIweCIrbi5zbGljZSgxKS02NTUzNjtyZXR1cm4gdD90Omk8MD9TdHJpbmcuZnJvbUNoYXJDb2RlKGkrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoaT4+MTB8NTUyOTYsaSYxMDIzfDU2MzIwKX0scGk9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csd2k9ZnVuY3Rpb24obix0KXtyZXR1cm4gdD9uPT09IlwwIj8i77+9IjpuLnNsaWNlKDAsLTEpKyJcXCIrbi5jaGFyQ29kZUF0KG4ubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitufSxiaT1mdW5jdGlvbigpe2IoKX0sdnI9d3QoZnVuY3Rpb24obil7cmV0dXJuIG4uZGlzYWJsZWQ9PT0hMCYmbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImZpZWxkc2V0In0se2RpcjoicGFyZW50Tm9kZSIsbmV4dDoibGVnZW5kIn0pO3RyeXtrLmFwcGx5KGc9YWkuY2FsbChjLmNoaWxkTm9kZXMpLGMuY2hpbGROb2Rlcyk7Z1tjLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChrcil7az17YXBwbHk6Zy5sZW5ndGg/ZnVuY3Rpb24obix0KXtyci5hcHBseShuLGFpLmNhbGwodCkpfTpmdW5jdGlvbihuLHQpe2Zvcih2YXIgaT1uLmxlbmd0aCxyPTA7bltpKytdPXRbcisrXTspO24ubGVuZ3RoPWktMX19fWY9dS5zdXBwb3J0PXt9O29pPXUuaXNYTUw9ZnVuY3Rpb24obil7dmFyIGk9biYmbi5uYW1lc3BhY2VVUkksdD1uJiYobi5vd25lckRvY3VtZW50fHxuKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIWhyLnRlc3QoaXx8dCYmdC5ub2RlTmFtZXx8IkhUTUwiKX07Yj11LnNldERvY3VtZW50PWZ1bmN0aW9uKG4pe3ZhciB2LHUsbD1uP24ub3duZXJEb2N1bWVudHx8bjpjO3JldHVybiBsPT1pfHxsLm5vZGVUeXBlIT09OXx8IWwuZG9jdW1lbnRFbGVtZW50P2k6KGk9bCxzPWkuZG9jdW1lbnRFbGVtZW50LGg9IW9pKGkpLGMhPWkmJih1PWkuZGVmYXVsdFZpZXcpJiZ1LnRvcCE9PXUmJih1LmFkZEV2ZW50TGlzdGVuZXI/dS5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGJpLCExKTp1LmF0dGFjaEV2ZW50JiZ1LmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsYmkpKSxmLnNjb3BlPWEoZnVuY3Rpb24obil7cmV0dXJuIHMuYXBwZW5kQ2hpbGQobikuYXBwZW5kQ2hpbGQoaS5jcmVhdGVFbGVtZW50KCJkaXYiKSksdHlwZW9mIG4ucXVlcnlTZWxlY3RvckFsbCE9InVuZGVmaW5lZCImJiFuLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxmLmF0dHJpYnV0ZXM9YShmdW5jdGlvbihuKXtyZXR1cm4gbi5jbGFzc05hbWU9ImkiLCFuLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxmLmdldEVsZW1lbnRzQnlUYWdOYW1lPWEoZnVuY3Rpb24obil7cmV0dXJuIG4uYXBwZW5kQ2hpbGQoaS5jcmVhdGVDb21tZW50KCIiKSksIW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGh9KSxmLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9b3QudGVzdChpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGYuZ2V0QnlJZD1hKGZ1bmN0aW9uKG4pe3JldHVybiBzLmFwcGVuZENoaWxkKG4pLmlkPWUsIWkuZ2V0RWxlbWVudHNCeU5hbWV8fCFpLmdldEVsZW1lbnRzQnlOYW1lKGUpLmxlbmd0aH0pLGYuZ2V0QnlJZD8odC5maWx0ZXIuSUQ9ZnVuY3Rpb24obil7dmFyIHQ9bi5yZXBsYWNlKHkscCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldEF0dHJpYnV0ZSgiaWQiKT09PXR9fSx0LmZpbmQuSUQ9ZnVuY3Rpb24obix0KXtpZih0eXBlb2YgdC5nZXRFbGVtZW50QnlJZCE9InVuZGVmaW5lZCImJmgpe3ZhciBpPXQuZ2V0RWxlbWVudEJ5SWQobik7cmV0dXJuIGk/W2ldOltdfX0pOih0LmZpbHRlci5JRD1mdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGk9dHlwZW9mIG4uZ2V0QXR0cmlidXRlTm9kZSE9InVuZGVmaW5lZCImJm4uZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gaSYmaS52YWx1ZT09PXR9fSx0LmZpbmQuSUQ9ZnVuY3Rpb24obix0KXtpZih0eXBlb2YgdC5nZXRFbGVtZW50QnlJZCE9InVuZGVmaW5lZCImJmgpe3ZhciBpLHUsZixyPXQuZ2V0RWxlbWVudEJ5SWQobik7aWYocil7aWYoaT1yLmdldEF0dHJpYnV0ZU5vZGUoImlkIiksaSYmaS52YWx1ZT09PW4pcmV0dXJuW3JdO2ZvcihmPXQuZ2V0RWxlbWVudHNCeU5hbWUobiksdT0wO3I9Zlt1KytdOylpZihpPXIuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSxpJiZpLnZhbHVlPT09bilyZXR1cm5bcl19cmV0dXJuW119fSksdC5maW5kLlRBRz1mLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKG4sdCl7cmV0dXJuIHR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lIT0idW5kZWZpbmVkIj90LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pOmYucXNhP3QucXVlcnlTZWxlY3RvckFsbChuKTp2b2lkIDB9OmZ1bmN0aW9uKG4sdCl7dmFyIGkscj1bXSxmPTAsdT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pO2lmKG49PT0iKiIpe3doaWxlKGk9dVtmKytdKWkubm9kZVR5cGU9PT0xJiZyLnB1c2goaSk7cmV0dXJuIHJ9cmV0dXJuIHV9LHQuZmluZC5DTEFTUz1mLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKG4sdCl7aWYodHlwZW9mIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9InVuZGVmaW5lZCImJmgpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShuKX0sZD1bXSxvPVtdLChmLnFzYT1vdC50ZXN0KGkucXVlcnlTZWxlY3RvckFsbCkpJiYoYShmdW5jdGlvbihuKXt2YXIgdDtzLmFwcGVuZENoaWxkKG4pLmlubmVySFRNTD0iPGEgaWQ9JyIrZSsiJz48XC9hPjxzZWxlY3QgaWQ9JyIrZSsiLVxyXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PFwvb3B0aW9uPjxcL3NlbGVjdD4iO24ucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJm8ucHVzaCgiWypeJF09IityKyIqKD86Jyd8XCJcIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fG8ucHVzaCgiXFxbIityKyIqKD86dmFsdWV8IitndCsiKSIpO24ucXVlcnlTZWxlY3RvckFsbCgiW2lkfj0iK2UrIi1dIikubGVuZ3RofHxvLnB1c2goIn49Iik7dD1pLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dC5zZXRBdHRyaWJ1dGUoIm5hbWUiLCIiKTtuLmFwcGVuZENoaWxkKHQpO24ucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9JyddIikubGVuZ3RofHxvLnB1c2goIlxcWyIrcisiKm5hbWUiK3IrIio9IityKyIqKD86Jyd8XCJcIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxvLnB1c2goIjpjaGVja2VkIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrZSsiKyoiKS5sZW5ndGh8fG8ucHVzaCgiLiMuK1srfl0iKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIlxcXGYiKTtvLnB1c2goIltcXHJcXG5cXGZdIil9KSxhKGZ1bmN0aW9uKG4pe24uaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PFwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PFwvc2VsZWN0PiI7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIik7bi5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmby5wdXNoKCJuYW1lIityKyIqWypeJHwhfl0/PSIpO24ucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGghPT0yJiZvLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7cy5hcHBlbmRDaGlsZChuKS5kaXNhYmxlZD0hMDtuLnF1ZXJ5U2VsZWN0b3JBbGwoIjpkaXNhYmxlZCIpLmxlbmd0aCE9PTImJm8ucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKTtvLnB1c2goIiwuKjoiKX0pKSwoZi5tYXRjaGVzU2VsZWN0b3I9b3QudGVzdChjdD1zLm1hdGNoZXN8fHMud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxzLm1vek1hdGNoZXNTZWxlY3Rvcnx8cy5vTWF0Y2hlc1NlbGVjdG9yfHxzLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmEoZnVuY3Rpb24obil7Zi5kaXNjb25uZWN0ZWRNYXRjaD1jdC5jYWxsKG4sIioiKTtjdC5jYWxsKG4sIltzIT0nJ106eCIpO2QucHVzaCgiIT0iLG5pKX0pLG89by5sZW5ndGgmJm5ldyBSZWdFeHAoby5qb2luKCJ8IikpLGQ9ZC5sZW5ndGgmJm5ldyBSZWdFeHAoZC5qb2luKCJ8IikpLHY9b3QudGVzdChzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxldD12fHxvdC50ZXN0KHMuY29udGFpbnMpP2Z1bmN0aW9uKG4sdCl7dmFyIHI9bi5ub2RlVHlwZT09PTk/bi5kb2N1bWVudEVsZW1lbnQ6bixpPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gbj09PWl8fCEhKGkmJmkubm9kZVR5cGU9PT0xJiYoci5jb250YWlucz9yLmNvbnRhaW5zKGkpOm4uY29tcGFyZURvY3VtZW50UG9zaXRpb24mJm4uY29tcGFyZURvY3VtZW50UG9zaXRpb24oaSkmMTYpKX06ZnVuY3Rpb24obix0KXtpZih0KXdoaWxlKHQ9dC5wYXJlbnROb2RlKWlmKHQ9PT1uKXJldHVybiEwO3JldHVybiExfSxkdD12P2Z1bmN0aW9uKG4sdCl7aWYobj09PXQpcmV0dXJuIHV0PSEwLDA7dmFyIHI9IW4uY29tcGFyZURvY3VtZW50UG9zaXRpb24tIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIHI/cjoocj0obi5vd25lckRvY3VtZW50fHxuKT09KHQub3duZXJEb2N1bWVudHx8dCk/bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KToxLHImMXx8IWYuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4pPT09cik/bj09aXx8bi5vd25lckRvY3VtZW50PT1jJiZldChjLG4pPy0xOnQ9PWl8fHQub3duZXJEb2N1bWVudD09YyYmZXQoYyx0KT8xOnc/bnQodyxuKS1udCh3LHQpOjA6ciY0Py0xOjF9OmZ1bmN0aW9uKG4sdCl7aWYobj09PXQpcmV0dXJuIHV0PSEwLDA7dmFyIHIsdT0wLG89bi5wYXJlbnROb2RlLHM9dC5wYXJlbnROb2RlLGY9W25dLGU9W3RdO2lmKG8mJnMpe2lmKG89PT1zKXJldHVybiBraShuLHQpfWVsc2UgcmV0dXJuIG49PWk/LTE6dD09aT8xOm8/LTE6cz8xOnc/bnQodyxuKS1udCh3LHQpOjA7Zm9yKHI9bjtyPXIucGFyZW50Tm9kZTspZi51bnNoaWZ0KHIpO2ZvcihyPXQ7cj1yLnBhcmVudE5vZGU7KWUudW5zaGlmdChyKTt3aGlsZShmW3VdPT09ZVt1XSl1Kys7cmV0dXJuIHU/a2koZlt1XSxlW3VdKTpmW3VdPT1jPy0xOmVbdV09PWM/MTowfSxpKX07dS5tYXRjaGVzPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHUobixudWxsLG51bGwsdCl9O3UubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKG4sdCl7aWYoYihuKSxmLm1hdGNoZXNTZWxlY3RvciYmaCYmIWx0W3QrIiAiXSYmKCFkfHwhZC50ZXN0KHQpKSYmKCFvfHwhby50ZXN0KHQpKSl0cnl7dmFyIHI9Y3QuY2FsbChuLHQpO2lmKHJ8fGYuZGlzY29ubmVjdGVkTWF0Y2h8fG4uZG9jdW1lbnQmJm4uZG9jdW1lbnQubm9kZVR5cGUhPT0xMSlyZXR1cm4gcn1jYXRjaChlKXtsdCh0LCEwKX1yZXR1cm4gdSh0LGksbnVsbCxbbl0pLmxlbmd0aD4wfTt1LmNvbnRhaW5zPWZ1bmN0aW9uKG4sdCl7cmV0dXJuKG4ub3duZXJEb2N1bWVudHx8bikhPWkmJmIobiksZXQobix0KX07dS5hdHRyPWZ1bmN0aW9uKG4scil7KG4ub3duZXJEb2N1bWVudHx8bikhPWkmJmIobik7dmFyIGU9dC5hdHRySGFuZGxlW3IudG9Mb3dlckNhc2UoKV0sdT1lJiZ0ci5jYWxsKHQuYXR0ckhhbmRsZSxyLnRvTG93ZXJDYXNlKCkpP2UobixyLCFoKTp1bmRlZmluZWQ7cmV0dXJuIHUhPT11bmRlZmluZWQ/dTpmLmF0dHJpYnV0ZXN8fCFoP24uZ2V0QXR0cmlidXRlKHIpOih1PW4uZ2V0QXR0cmlidXRlTm9kZShyKSkmJnUuc3BlY2lmaWVkP3UudmFsdWU6bnVsbH07dS5lc2NhcGU9ZnVuY3Rpb24obil7cmV0dXJuKG4rIiIpLnJlcGxhY2UocGksd2kpfTt1LmVycm9yPWZ1bmN0aW9uKG4pe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIituKTt9O3UudW5pcXVlU29ydD1mdW5jdGlvbihuKXt2YXIgcix1PVtdLHQ9MCxpPTA7aWYodXQ9IWYuZGV0ZWN0RHVwbGljYXRlcyx3PSFmLnNvcnRTdGFibGUmJm4uc2xpY2UoMCksbi5zb3J0KGR0KSx1dCl7d2hpbGUocj1uW2krK10pcj09PW5baV0mJih0PXUucHVzaChpKSk7d2hpbGUodC0tKW4uc3BsaWNlKHVbdF0sMSl9cmV0dXJuIHc9bnVsbCxufTtzdD11LmdldFRleHQ9ZnVuY3Rpb24obil7dmFyIHIsaT0iIix1PTAsdD1uLm5vZGVUeXBlO2lmKHQpe2lmKHQ9PT0xfHx0PT09OXx8dD09PTExKXtpZih0eXBlb2Ygbi50ZXh0Q29udGVudD09InN0cmluZyIpcmV0dXJuIG4udGV4dENvbnRlbnQ7Zm9yKG49bi5maXJzdENoaWxkO247bj1uLm5leHRTaWJsaW5nKWkrPXN0KG4pfWVsc2UgaWYodD09PTN8fHQ9PT00KXJldHVybiBuLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHI9blt1KytdKWkrPXN0KHIpO3JldHVybiBpfTt0PXUuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86bCxtYXRjaDp2dCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24obil7cmV0dXJuIG5bMV09blsxXS5yZXBsYWNlKHkscCksblszXT0oblszXXx8bls0XXx8bls1XXx8IiIpLnJlcGxhY2UoeSxwKSxuWzJdPT09In49IiYmKG5bM109IiAiK25bM10rIiAiKSxuLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKG4pe3JldHVybiBuWzFdPW5bMV0udG9Mb3dlckNhc2UoKSxuWzFdLnNsaWNlKDAsMyk9PT0ibnRoIj8oblszXXx8dS5lcnJvcihuWzBdKSxuWzRdPSsobls0XT9uWzVdKyhuWzZdfHwxKToyKihuWzNdPT09ImV2ZW4ifHxuWzNdPT09Im9kZCIpKSxuWzVdPSsobls3XStuWzhdfHxuWzNdPT09Im9kZCIpKTpuWzNdJiZ1LmVycm9yKG5bMF0pLG59LFBTRVVETzpmdW5jdGlvbihuKXt2YXIgaSx0PSFuWzZdJiZuWzJdO3JldHVybiB2dC5DSElMRC50ZXN0KG5bMF0pP251bGw6KG5bM10/blsyXT1uWzRdfHxuWzVdfHwiIjp0JiZvci50ZXN0KHQpJiYoaT1mdCh0LCEwKSkmJihpPXQuaW5kZXhPZigiKSIsdC5sZW5ndGgtaSktdC5sZW5ndGgpJiYoblswXT1uWzBdLnNsaWNlKDAsaSksblsyXT10LnNsaWNlKDAsaSkpLG4uc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpO3JldHVybiBuPT09IioiP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKG4pe3JldHVybiBuLm5vZGVOYW1lJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10fX0sQ0xBU1M6ZnVuY3Rpb24obil7dmFyIHQ9aGlbbisiICJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKCIoXnwiK3IrIikiK24rIigiK3IrInwkKSIpKSYmaGkobixmdW5jdGlvbihuKXtyZXR1cm4gdC50ZXN0KHR5cGVvZiBuLmNsYXNzTmFtZT09InN0cmluZyImJm4uY2xhc3NOYW1lfHx0eXBlb2Ygbi5nZXRBdHRyaWJ1dGUhPSJ1bmRlZmluZWQiJiZuLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obix0LGkpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgZj11LmF0dHIocixuKTtyZXR1cm4gZj09bnVsbD90PT09IiE9Ijp0PyhmKz0iIix0PT09Ij0iP2Y9PT1pOnQ9PT0iIT0iP2YhPT1pOnQ9PT0iXj0iP2kmJmYuaW5kZXhPZihpKT09PTA6dD09PSIqPSI/aSYmZi5pbmRleE9mKGkpPi0xOnQ9PT0iJD0iP2kmJmYuc2xpY2UoLWkubGVuZ3RoKT09PWk6dD09PSJ+PSI/KCIgIitmLnJlcGxhY2UodXIsIiAiKSsiICIpLmluZGV4T2YoaSk+LTE6dD09PSJ8PSI/Zj09PWl8fGYuc2xpY2UoMCxpLmxlbmd0aCsxKT09PWkrIi0iOiExKTohMH19LENISUxEOmZ1bmN0aW9uKG4sdCxpLHIsdSl7dmFyIHM9bi5zbGljZSgwLDMpIT09Im50aCIsbz1uLnNsaWNlKC00KSE9PSJsYXN0IixmPXQ9PT0ib2YtdHlwZSI7cmV0dXJuIHI9PT0xJiZ1PT09MD9mdW5jdGlvbihuKXtyZXR1cm4hIW4ucGFyZW50Tm9kZX06ZnVuY3Rpb24odCxpLGgpe3ZhciBwLHcseSxjLGEsYixrPXMhPT1vPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyIsZD10LnBhcmVudE5vZGUsbnQ9ZiYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGc9IWgmJiFmLGw9ITE7aWYoZCl7aWYocyl7d2hpbGUoayl7Zm9yKGM9dDtjPWNba107KWlmKGY/Yy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bnQ6Yy5ub2RlVHlwZT09PTEpcmV0dXJuITE7Yj1rPW49PT0ib25seSImJiFiJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKGI9W28/ZC5maXJzdENoaWxkOmQubGFzdENoaWxkXSxvJiZnKXtmb3IoYz1kLHk9Y1tlXXx8KGNbZV09e30pLHc9eVtjLnVuaXF1ZUlEXXx8KHlbYy51bmlxdWVJRF09e30pLHA9d1tuXXx8W10sYT1wWzBdPT09diYmcFsxXSxsPWEmJnBbMl0sYz1hJiZkLmNoaWxkTm9kZXNbYV07Yz0rK2EmJmMmJmNba118fChsPWE9MCl8fGIucG9wKCk7KWlmKGMubm9kZVR5cGU9PT0xJiYrK2wmJmM9PT10KXt3W25dPVt2LGEsbF07YnJlYWt9fWVsc2UgaWYoZyYmKGM9dCx5PWNbZV18fChjW2VdPXt9KSx3PXlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSxwPXdbbl18fFtdLGE9cFswXT09PXYmJnBbMV0sbD1hKSxsPT09ITEpd2hpbGUoYz0rK2EmJmMmJmNba118fChsPWE9MCl8fGIucG9wKCkpaWYoKGY/Yy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bnQ6Yy5ub2RlVHlwZT09PTEpJiYrK2wmJihnJiYoeT1jW2VdfHwoY1tlXT17fSksdz15W2MudW5pcXVlSURdfHwoeVtjLnVuaXF1ZUlEXT17fSksd1tuXT1bdixsXSksYz09PXQpKWJyZWFrO3JldHVybiBsLT11LGw9PT1yfHxsJXI9PTAmJmwvcj49MH19fSxQU0VVRE86ZnVuY3Rpb24obixpKXt2YXIgZixyPXQucHNldWRvc1tuXXx8dC5zZXRGaWx0ZXJzW24udG9Mb3dlckNhc2UoKV18fHUuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIituKTtyZXR1cm4gcltlXT9yKGkpOnIubGVuZ3RoPjE/KGY9W24sbiwiIixpXSx0LnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkobi50b0xvd2VyQ2FzZSgpKT9sKGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciB1LGY9cihuLGkpLGU9Zi5sZW5ndGg7ZS0tOyl1PW50KG4sZltlXSksblt1XT0hKHRbdV09ZltlXSl9KTpmdW5jdGlvbihuKXtyZXR1cm4gcihuLDAsZil9KTpyfX0scHNldWRvczp7bm90OmwoZnVuY3Rpb24obil7dmFyIHQ9W10scj1bXSxpPWt0KG4ucmVwbGFjZShhdCwiJDEiKSk7cmV0dXJuIGlbZV0/bChmdW5jdGlvbihuLHQscix1KXtmb3IodmFyIGUsbz1pKG4sbnVsbCx1LFtdKSxmPW4ubGVuZ3RoO2YtLTspKGU9b1tmXSkmJihuW2ZdPSEodFtmXT1lKSl9KTpmdW5jdGlvbihuLHUsZil7cmV0dXJuIHRbMF09bixpKHQsbnVsbCxmLHIpLHRbMF09bnVsbCwhci5wb3AoKX19KSxoYXM6bChmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHUobix0KS5sZW5ndGg+MH19KSxjb250YWluczpsKGZ1bmN0aW9uKG4pe3JldHVybiBuPW4ucmVwbGFjZSh5LHApLGZ1bmN0aW9uKHQpe3JldHVybih0LnRleHRDb250ZW50fHxzdCh0KSkuaW5kZXhPZihuKT4tMX19KSxsYW5nOmwoZnVuY3Rpb24obil7cmV0dXJuIHNyLnRlc3Qobnx8IiIpfHx1LmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK24pLG49bi5yZXBsYWNlKHkscCkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbih0KXt2YXIgaTtkbyBpZihpPWg/dC5sYW5nOnQuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHx0LmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybiBpPWkudG9Mb3dlckNhc2UoKSxpPT09bnx8aS5pbmRleE9mKG4rIi0iKT09PTA7d2hpbGUoKHQ9dC5wYXJlbnROb2RlKSYmdC5ub2RlVHlwZT09PTEpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbih0KXt2YXIgaT1uLmxvY2F0aW9uJiZuLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGkmJmkuc2xpY2UoMSk9PT10LmlkfSxyb290OmZ1bmN0aW9uKG4pe3JldHVybiBuPT09c30sZm9jdXM6ZnVuY3Rpb24obil7cmV0dXJuIG49PT1pLmFjdGl2ZUVsZW1lbnQmJighaS5oYXNGb2N1c3x8aS5oYXNGb2N1cygpKSYmISEobi50eXBlfHxuLmhyZWZ8fH5uLnRhYkluZGV4KX0sZW5hYmxlZDpkaSghMSksZGlzYWJsZWQ6ZGkoITApLGNoZWNrZWQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiB0PT09ImlucHV0IiYmISFuLmNoZWNrZWR8fHQ9PT0ib3B0aW9uIiYmISFuLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihuKXtyZXR1cm4gbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxuLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKG4pe2ZvcihuPW4uZmlyc3RDaGlsZDtuO249bi5uZXh0U2libGluZylpZihuLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihuKXtyZXR1cm4hdC5wc2V1ZG9zLmVtcHR5KG4pfSxoZWFkZXI6ZnVuY3Rpb24obil7cmV0dXJuIGxyLnRlc3Qobi5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKG4pe3JldHVybiBjci50ZXN0KG4ubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24obil7dmFyIHQ9bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiB0PT09ImlucHV0IiYmbi50eXBlPT09ImJ1dHRvbiJ8fHQ9PT0iYnV0dG9uIn0sdGV4dDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmbi50eXBlPT09InRleHQiJiYoKHQ9bi5nZXRBdHRyaWJ1dGUoInR5cGUiKSk9PW51bGx8fHQudG9Mb3dlckNhc2UoKT09PSJ0ZXh0Iil9LGZpcnN0Oml0KGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDppdChmdW5jdGlvbihuLHQpe3JldHVyblt0LTFdfSksZXE6aXQoZnVuY3Rpb24obix0LGkpe3JldHVybltpPDA/aSt0OmldfSksZXZlbjppdChmdW5jdGlvbihuLHQpe2Zvcih2YXIgaT0wO2k8dDtpKz0yKW4ucHVzaChpKTtyZXR1cm4gbn0pLG9kZDppdChmdW5jdGlvbihuLHQpe2Zvcih2YXIgaT0xO2k8dDtpKz0yKW4ucHVzaChpKTtyZXR1cm4gbn0pLGx0Oml0KGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHI9aTwwP2krdDppPnQ/dDppOy0tcj49MDspbi5wdXNoKHIpO3JldHVybiBufSksZ3Q6aXQoZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgcj1pPDA/aSt0Omk7KytyPHQ7KW4ucHVzaChyKTtyZXR1cm4gbn0pfX07dC5wc2V1ZG9zLm50aD10LnBzZXVkb3MuZXE7Zm9yKHJ0IGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KXQucHNldWRvc1tydF09eXIocnQpO2ZvcihydCBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KXQucHNldWRvc1tydF09cHIocnQpO3JldHVybiBnaS5wcm90b3R5cGU9dC5maWx0ZXJzPXQucHNldWRvcyx0LnNldEZpbHRlcnM9bmV3IGdpLGZ0PXUudG9rZW5pemU9ZnVuY3Rpb24obixpKXt2YXIgZSxmLHMsbyxyLGgsYyxsPWNpW24rIiAiXTtpZihsKXJldHVybiBpPzA6bC5zbGljZSgwKTtmb3Iocj1uLGg9W10sYz10LnByZUZpbHRlcjtyOyl7KCFlfHwoZj1mci5leGVjKHIpKSkmJihmJiYocj1yLnNsaWNlKGZbMF0ubGVuZ3RoKXx8ciksaC5wdXNoKHM9W10pKTtlPSExOyhmPXlpLmV4ZWMocikpJiYoZT1mLnNoaWZ0KCkscy5wdXNoKHt2YWx1ZTplLHR5cGU6ZlswXS5yZXBsYWNlKGF0LCIgIil9KSxyPXIuc2xpY2UoZS5sZW5ndGgpKTtmb3IobyBpbiB0LmZpbHRlcikoZj12dFtvXS5leGVjKHIpKSYmKCFjW29dfHwoZj1jW29dKGYpKSkmJihlPWYuc2hpZnQoKSxzLnB1c2goe3ZhbHVlOmUsdHlwZTpvLG1hdGNoZXM6Zn0pLHI9ci5zbGljZShlLmxlbmd0aCkpO2lmKCFlKWJyZWFrfXJldHVybiBpP3IubGVuZ3RoOnI/dS5lcnJvcihuKTpjaShuLGgpLnNsaWNlKDApfSxrdD11LmNvbXBpbGU9ZnVuY3Rpb24obix0KXt2YXIgcix1PVtdLGY9W10saT1saVtuKyIgIl07aWYoIWkpe2Zvcih0fHwodD1mdChuKSkscj10Lmxlbmd0aDtyLS07KWk9ZWkodFtyXSksaVtlXT91LnB1c2goaSk6Zi5wdXNoKGkpO2k9bGkobixicihmLHUpKTtpLnNlbGVjdG9yPW59cmV0dXJuIGl9LHNpPXUuc2VsZWN0PWZ1bmN0aW9uKG4saSxyLHUpe3ZhciBvLGYsZSxsLGEsYz10eXBlb2Ygbj09ImZ1bmN0aW9uIiYmbixzPSF1JiZmdChuPWMuc2VsZWN0b3J8fG4pO2lmKHI9cnx8W10scy5sZW5ndGg9PT0xKXtpZihmPXNbMF09c1swXS5zbGljZSgwKSxmLmxlbmd0aD4yJiYoZT1mWzBdKS50eXBlPT09IklEIiYmaS5ub2RlVHlwZT09PTkmJmgmJnQucmVsYXRpdmVbZlsxXS50eXBlXSl7aWYoaT0odC5maW5kLklEKGUubWF0Y2hlc1swXS5yZXBsYWNlKHkscCksaSl8fFtdKVswXSxpKWMmJihpPWkucGFyZW50Tm9kZSk7ZWxzZSByZXR1cm4gcjtuPW4uc2xpY2UoZi5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKG89dnQubmVlZHNDb250ZXh0LnRlc3Qobik/MDpmLmxlbmd0aDtvLS07KXtpZihlPWZbb10sdC5yZWxhdGl2ZVtsPWUudHlwZV0pYnJlYWs7aWYoKGE9dC5maW5kW2xdKSYmKHU9YShlLm1hdGNoZXNbMF0ucmVwbGFjZSh5LHApLHRpLnRlc3QoZlswXS50eXBlKSYmcmkoaS5wYXJlbnROb2RlKXx8aSkpKXtpZihmLnNwbGljZShvLDEpLG49dS5sZW5ndGgmJnB0KGYpLCFuKXJldHVybiBrLmFwcGx5KHIsdSkscjticmVha319fXJldHVybihjfHxrdChuLHMpKSh1LGksIWgsciwhaXx8dGkudGVzdChuKSYmcmkoaS5wYXJlbnROb2RlKXx8aSkscn0sZi5zb3J0U3RhYmxlPWUuc3BsaXQoIiIpLnNvcnQoZHQpLmpvaW4oIiIpPT09ZSxmLmRldGVjdER1cGxpY2F0ZXM9ISF1dCxiKCksZi5zb3J0RGV0YWNoZWQ9YShmdW5jdGlvbihuKXtyZXR1cm4gbi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpLmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0IikpJjF9KSxhKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PFwvYT4iLG4uZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKT09PSIjIn0pfHxpaSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24obix0LGkpe2lmKCFpKXJldHVybiBuLmdldEF0dHJpYnV0ZSh0LHQudG9Mb3dlckNhc2UoKT09PSJ0eXBlIj8xOjIpfSksZi5hdHRyaWJ1dGVzJiZhKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlubmVySFRNTD0iPGlucHV0Lz4iLG4uZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksbi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKT09PSIifSl8fGlpKCJ2YWx1ZSIsZnVuY3Rpb24obix0LGkpe2lmKCFpJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiKXJldHVybiBuLmRlZmF1bHRWYWx1ZX0pLGEoZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpPT1udWxsfSl8fGlpKGd0LGZ1bmN0aW9uKG4sdCxpKXt2YXIgcjtpZighaSlyZXR1cm4gblt0XT09PSEwP3QudG9Mb3dlckNhc2UoKToocj1uLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSx1fShuKTtpLmZpbmQ9ZDtpLmV4cHI9ZC5zZWxlY3RvcnM7aS5leHByWyI6Il09aS5leHByLnBzZXVkb3M7aS51bmlxdWVTb3J0PWkudW5pcXVlPWQudW5pcXVlU29ydDtpLnRleHQ9ZC5nZXRUZXh0O2kuaXNYTUxEb2M9ZC5pc1hNTDtpLmNvbnRhaW5zPWQuY29udGFpbnM7aS5lc2NhcGVTZWxlY3Rvcj1kLmVzY2FwZTt2YXIgdXQ9ZnVuY3Rpb24obix0LHIpe2Zvcih2YXIgdT1bXSxmPXIhPT11bmRlZmluZWQ7KG49blt0XSkmJm4ubm9kZVR5cGUhPT05OylpZihuLm5vZGVUeXBlPT09MSl7aWYoZiYmaShuKS5pcyhyKSlicmVhazt1LnB1c2gobil9cmV0dXJuIHV9LGJyPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPVtdO247bj1uLm5leHRTaWJsaW5nKW4ubm9kZVR5cGU9PT0xJiZuIT09dCYmaS5wdXNoKG4pO3JldHVybiBpfSxrcj1pLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O3ZpPS9ePChbYS16XVteXC9cMD46XHgyMFx0XHJcblxmXSopW1x4MjBcdFxyXG5cZl0qXC8/Pig/OjxcL1wxPnwpJC9pO2kuZmlsdGVyPWZ1bmN0aW9uKG4sdCxyKXt2YXIgdT10WzBdO3JldHVybihyJiYobj0iOm5vdCgiK24rIikiKSx0Lmxlbmd0aD09PTEmJnUubm9kZVR5cGU9PT0xKT9pLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHUsbik/W3VdOltdOmkuZmluZC5tYXRjaGVzKG4saS5ncmVwKHQsZnVuY3Rpb24obil7cmV0dXJuIG4ubm9kZVR5cGU9PT0xfSkpfTtpLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihuKXt2YXIgdCxyLHU9dGhpcy5sZW5ndGgsZj10aGlzO2lmKHR5cGVvZiBuIT0ic3RyaW5nIilyZXR1cm4gdGhpcy5wdXNoU3RhY2soaShuKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8dTt0KyspaWYoaS5jb250YWlucyhmW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihyPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDx1O3QrKylpLmZpbmQobixmW3RdLHIpO3JldHVybiB1PjE/aS51bmlxdWVTb3J0KHIpOnJ9LGZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeWkodGhpcyxufHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHlpKHRoaXMsbnx8W10sITApKX0saXM6ZnVuY3Rpb24obil7cmV0dXJuISF5aSh0aGlzLHR5cGVvZiBuPT0ic3RyaW5nIiYma3IudGVzdChuKT9pKG4pOm58fFtdLCExKS5sZW5ndGh9fSk7Z3I9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0rKSkkLztudT1pLmZuLmluaXQ9ZnVuY3Rpb24obix0LHIpe3ZhciBlLG87aWYoIW4pcmV0dXJuIHRoaXM7aWYocj1yfHxkcix0eXBlb2Ygbj09InN0cmluZyIpe2lmKGU9blswXT09PSI8IiYmbltuLmxlbmd0aC0xXT09PSI+IiYmbi5sZW5ndGg+PTM/W251bGwsbixudWxsXTpnci5leGVjKG4pLGUmJihlWzFdfHwhdCkpe2lmKGVbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIGk/dFswXTp0LGkubWVyZ2UodGhpcyxpLnBhcnNlSFRNTChlWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OmYsITApKSx2aS50ZXN0KGVbMV0pJiZpLmlzUGxhaW5PYmplY3QodCkpZm9yKGUgaW4gdCl1KHRoaXNbZV0pP3RoaXNbZV0odFtlXSk6dGhpcy5hdHRyKGUsdFtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIG89Zi5nZXRFbGVtZW50QnlJZChlWzJdKSxvJiYodGhpc1swXT1vLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHxyKS5maW5kKG4pOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChuKX1yZXR1cm4gbi5ub2RlVHlwZT8odGhpc1swXT1uLHRoaXMubGVuZ3RoPTEsdGhpcyk6dShuKT9yLnJlYWR5IT09dW5kZWZpbmVkP3IucmVhZHkobik6bihpKTppLm1ha2VBcnJheShuLHRoaXMpfTtudS5wcm90b3R5cGU9aS5mbjtkcj1pKGYpO3R1PS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvO2l1PXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2kuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24obil7dmFyIHQ9aShuLHRoaXMpLHI9dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPTA7bjxyO24rKylpZihpLmNvbnRhaW5zKHRoaXMsdFtuXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihuLHQpe3ZhciByLGY9MCxvPXRoaXMubGVuZ3RoLHU9W10sZT10eXBlb2YgbiE9InN0cmluZyImJmkobik7aWYoIWtyLnRlc3QobikpZm9yKDtmPG87ZisrKWZvcihyPXRoaXNbZl07ciYmciE9PXQ7cj1yLnBhcmVudE5vZGUpaWYoci5ub2RlVHlwZTwxMSYmKGU/ZS5pbmRleChyKT4tMTpyLm5vZGVUeXBlPT09MSYmaS5maW5kLm1hdGNoZXNTZWxlY3RvcihyLG4pKSl7dS5wdXNoKHIpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayh1Lmxlbmd0aD4xP2kudW5pcXVlU29ydCh1KTp1KX0saW5kZXg6ZnVuY3Rpb24obil7cmV0dXJuIG4/dHlwZW9mIG49PSJzdHJpbmciP25pLmNhbGwoaShuKSx0aGlzWzBdKTpuaS5jYWxsKHRoaXMsbi5qcXVlcnk/blswXTpuKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLnB1c2hTdGFjayhpLnVuaXF1ZVNvcnQoaS5tZXJnZSh0aGlzLmdldCgpLGkobix0KSkpKX0sYWRkQmFjazpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobj09bnVsbD90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9fSk7aS5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5wYXJlbnROb2RlO3JldHVybiB0JiZ0Lm5vZGVUeXBlIT09MTE/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKG4pe3JldHVybiB1dChuLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHV0KG4sInBhcmVudE5vZGUiLGkpfSxuZXh0OmZ1bmN0aW9uKG4pe3JldHVybiBydShuLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKG4pe3JldHVybiBydShuLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihuKXtyZXR1cm4gdXQobiwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihuKXtyZXR1cm4gdXQobiwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHV0KG4sIm5leHRTaWJsaW5nIixpKX0scHJldlVudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdXQobiwicHJldmlvdXNTaWJsaW5nIixpKX0sc2libGluZ3M6ZnVuY3Rpb24obil7cmV0dXJuIGJyKChuLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLG4pfSxjaGlsZHJlbjpmdW5jdGlvbihuKXtyZXR1cm4gYnIobi5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24obil7cmV0dXJuIG4uY29udGVudERvY3VtZW50IT1udWxsJiZscihuLmNvbnRlbnREb2N1bWVudCk/bi5jb250ZW50RG9jdW1lbnQ6KGwobiwidGVtcGxhdGUiKSYmKG49bi5jb250ZW50fHxuKSxpLm1lcmdlKFtdLG4uY2hpbGROb2RlcykpfX0sZnVuY3Rpb24obix0KXtpLmZuW25dPWZ1bmN0aW9uKHIsdSl7dmFyIGY9aS5tYXAodGhpcyx0LHIpO3JldHVybiBuLnNsaWNlKC01KSE9PSJVbnRpbCImJih1PXIpLHUmJnR5cGVvZiB1PT0ic3RyaW5nIiYmKGY9aS5maWx0ZXIodSxmKSksdGhpcy5sZW5ndGg+MSYmKGl1W25dfHxpLnVuaXF1ZVNvcnQoZiksdHUudGVzdChuKSYmZi5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGYpfX0pO2E9L1teXHgyMFx0XHJcblxmXSsvZztpLkNhbGxiYWNrcz1mdW5jdGlvbihuKXtuPXR5cGVvZiBuPT0ic3RyaW5nIj91ZShuKTppLmV4dGVuZCh7fSxuKTt2YXIgbyxyLGMsZix0PVtdLHM9W10sZT0tMSxsPWZ1bmN0aW9uKCl7Zm9yKGY9Znx8bi5vbmNlLGM9bz0hMDtzLmxlbmd0aDtlPS0xKWZvcihyPXMuc2hpZnQoKTsrK2U8dC5sZW5ndGg7KXRbZV0uYXBwbHkoclswXSxyWzFdKT09PSExJiZuLnN0b3BPbkZhbHNlJiYoZT10Lmxlbmd0aCxyPSExKTtuLm1lbW9yeXx8KHI9ITEpO289ITE7ZiYmKHQ9cj9bXToiIil9LGg9e2FkZDpmdW5jdGlvbigpe3JldHVybiB0JiYociYmIW8mJihlPXQubGVuZ3RoLTEscy5wdXNoKHIpKSxmdW5jdGlvbiBmKHIpe2kuZWFjaChyLGZ1bmN0aW9uKGkscil7dShyKT9uLnVuaXF1ZSYmaC5oYXMocil8fHQucHVzaChyKTpyJiZyLmxlbmd0aCYmcnQocikhPT0ic3RyaW5nIiYmZihyKX0pfShhcmd1bWVudHMpLHImJiFvJiZsKCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBpLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKG4scil7Zm9yKHZhciB1Oyh1PWkuaW5BcnJheShyLHQsdSkpPi0xOyl0LnNwbGljZSh1LDEpLHU8PWUmJmUtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihuKXtyZXR1cm4gbj9pLmluQXJyYXkobix0KT4tMTp0Lmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiB0JiYodD1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBmPXM9W10sdD1yPSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXR9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZj1zPVtdLHJ8fG98fCh0PXI9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhZn0sZmlyZVdpdGg6ZnVuY3Rpb24obix0KXtyZXR1cm4gZnx8KHQ9dHx8W10sdD1bbix0LnNsaWNlP3Quc2xpY2UoKTp0XSxzLnB1c2godCksb3x8bCgpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGguZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFjfX07cmV0dXJuIGh9O2kuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbih0KXt2YXIgZj1bWyJub3RpZnkiLCJwcm9ncmVzcyIsaS5DYWxsYmFja3MoIm1lbW9yeSIpLGkuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsaS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksaS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0sbz0icGVuZGluZyIsZT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gb30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKG4pe3JldHVybiBlLnRoZW4obnVsbCxuKX0scGlwZTpmdW5jdGlvbigpe3ZhciBuPWFyZ3VtZW50cztyZXR1cm4gaS5EZWZlcnJlZChmdW5jdGlvbih0KXtpLmVhY2goZixmdW5jdGlvbihpLGYpe3ZhciBlPXUobltmWzRdXSkmJm5bZls0XV07cltmWzFdXShmdW5jdGlvbigpe3ZhciBuPWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO24mJnUobi5wcm9taXNlKT9uLnByb21pc2UoKS5wcm9ncmVzcyh0Lm5vdGlmeSkuZG9uZSh0LnJlc29sdmUpLmZhaWwodC5yZWplY3QpOnRbZlswXSsiV2l0aCJdKHRoaXMsZT9bbl06YXJndW1lbnRzKX0pfSk7bj1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQscixlKXtmdW5jdGlvbiBzKHQscixmLGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciBoPXRoaXMsYz1hcmd1bWVudHMsYT1mdW5jdGlvbigpe3ZhciBuLGk7aWYoISh0PG8pKXtpZihuPWYuYXBwbHkoaCxjKSxuPT09ci5wcm9taXNlKCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uIik7aT1uJiYodHlwZW9mIG49PSJvYmplY3QifHx0eXBlb2Ygbj09ImZ1bmN0aW9uIikmJm4udGhlbjt1KGkpP2U/aS5jYWxsKG4scyhvLHIsZnQsZSkscyhvLHIscmksZSkpOihvKyssaS5jYWxsKG4scyhvLHIsZnQsZSkscyhvLHIscmksZSkscyhvLHIsZnQsci5ub3RpZnlXaXRoKSkpOihmIT09ZnQmJihoPXVuZGVmaW5lZCxjPVtuXSksKGV8fHIucmVzb2x2ZVdpdGgpKGgsYykpfX0sbD1lP2E6ZnVuY3Rpb24oKXt0cnl7YSgpfWNhdGNoKG4pe2kuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayYmaS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKG4sbC5zdGFja1RyYWNlKTt0KzE+PW8mJihmIT09cmkmJihoPXVuZGVmaW5lZCxjPVtuXSksci5yZWplY3RXaXRoKGgsYykpfX07dD9sKCk6KGkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rJiYobC5zdGFja1RyYWNlPWkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLG4uc2V0VGltZW91dChsKSl9fXZhciBvPTA7cmV0dXJuIGkuRGVmZXJyZWQoZnVuY3Rpb24obil7ZlswXVszXS5hZGQocygwLG4sdShlKT9lOmZ0LG4ubm90aWZ5V2l0aCkpO2ZbMV1bM10uYWRkKHMoMCxuLHUodCk/dDpmdCkpO2ZbMl1bM10uYWRkKHMoMCxuLHUocik/cjpyaSkpfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKG4pe3JldHVybiBuIT1udWxsP2kuZXh0ZW5kKG4sZSk6ZX19LHI9e307cmV0dXJuIGkuZWFjaChmLGZ1bmN0aW9uKG4sdCl7dmFyIGk9dFsyXSx1PXRbNV07ZVt0WzFdXT1pLmFkZDt1JiZpLmFkZChmdW5jdGlvbigpe289dX0sZlszLW5dWzJdLmRpc2FibGUsZlszLW5dWzNdLmRpc2FibGUsZlswXVsyXS5sb2NrLGZbMF1bM10ubG9jayk7aS5hZGQodFszXS5maXJlKTtyW3RbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIHJbdFswXSsiV2l0aCJdKHRoaXM9PT1yP3VuZGVmaW5lZDp0aGlzLGFyZ3VtZW50cyksdGhpc307clt0WzBdKyJXaXRoIl09aS5maXJlV2l0aH0pLGUucHJvbWlzZShyKSx0JiZ0LmNhbGwocixyKSxyfSx3aGVuOmZ1bmN0aW9uKG4pe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1lLG89QXJyYXkodCksZj1rLmNhbGwoYXJndW1lbnRzKSxyPWkuRGVmZXJyZWQoKSxzPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtvW25dPXRoaXM7ZltuXT1hcmd1bWVudHMubGVuZ3RoPjE/ay5jYWxsKGFyZ3VtZW50cyk6dDstLWV8fHIucmVzb2x2ZVdpdGgobyxmKX19O2lmKGU8PTEmJih1dShuLHIuZG9uZShzKHQpKS5yZXNvbHZlLHIucmVqZWN0LCFlKSxyLnN0YXRlKCk9PT0icGVuZGluZyJ8fHUoZlt0XSYmZlt0XS50aGVuKSkpcmV0dXJuIHIudGhlbigpO3doaWxlKHQtLSl1dShmW3RdLHModCksci5yZWplY3QpO3JldHVybiByLnByb21pc2UoKX19KTtmdT0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztpLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24odCxpKXtuLmNvbnNvbGUmJm4uY29uc29sZS53YXJuJiZ0JiZmdS50ZXN0KHQubmFtZSkmJm4uY29uc29sZS53YXJuKCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiAiK3QubWVzc2FnZSx0LnN0YWNrLGkpfTtpLnJlYWR5RXhjZXB0aW9uPWZ1bmN0aW9uKHQpe24uc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHQ7fSl9O3VpPWkuRGVmZXJyZWQoKTtpLmZuLnJlYWR5PWZ1bmN0aW9uKG4pe3JldHVybiB1aS50aGVuKG4pLmNhdGNoKGZ1bmN0aW9uKG4pe2kucmVhZHlFeGNlcHRpb24obil9KSx0aGlzfTtpLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihuKXsobj09PSEwPy0taS5yZWFkeVdhaXQ6aS5pc1JlYWR5KXx8KGkuaXNSZWFkeT0hMCxuIT09ITAmJi0taS5yZWFkeVdhaXQ+MCl8fHVpLnJlc29sdmVXaXRoKGYsW2ldKX19KTtpLnJlYWR5LnRoZW49dWkudGhlbjtmLnJlYWR5U3RhdGUhPT0iY29tcGxldGUiJiYoZi5yZWFkeVN0YXRlPT09ImxvYWRpbmcifHxmLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCk/KGYuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZmkpLG4uYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZmkpKTpuLnNldFRpbWVvdXQoaS5yZWFkeSk7dmFyIHc9ZnVuY3Rpb24obix0LHIsZixlLG8scyl7dmFyIGg9MCxsPW4ubGVuZ3RoLGM9cj09bnVsbDtpZihydChyKT09PSJvYmplY3QiKXtlPSEwO2ZvcihoIGluIHIpdyhuLHQsaCxyW2hdLCEwLG8scyl9ZWxzZSBpZihmIT09dW5kZWZpbmVkJiYoZT0hMCx1KGYpfHwocz0hMCksYyYmKHM/KHQuY2FsbChuLGYpLHQ9bnVsbCk6KGM9dCx0PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gYy5jYWxsKGkobikscil9KSksdCkpZm9yKDtoPGw7aCsrKXQobltoXSxyLHM/ZjpmLmNhbGwobltoXSxoLHQobltoXSxyKSkpO3JldHVybiBlP246Yz90LmNhbGwobik6bD90KG5bMF0scik6b30sZmU9L14tbXMtLyxlZT0vLShbYS16XSkvZztldD1mdW5jdGlvbihuKXtyZXR1cm4gbi5ub2RlVHlwZT09PTF8fG4ubm9kZVR5cGU9PT05fHwhK24ubm9kZVR5cGV9O3B0LnVpZD0xO3B0LnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24obil7dmFyIHQ9blt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSxldChuKSYmKG4ubm9kZVR5cGU/blt0aGlzLmV4cGFuZG9dPXQ6T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdGhpcy5leHBhbmRvLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pKSksdH0sc2V0OmZ1bmN0aW9uKG4sdCxpKXt2YXIgcix1PXRoaXMuY2FjaGUobik7aWYodHlwZW9mIHQ9PSJzdHJpbmciKXVbeSh0KV09aTtlbHNlIGZvcihyIGluIHQpdVt5KHIpXT10W3JdO3JldHVybiB1fSxnZXQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdD09PXVuZGVmaW5lZD90aGlzLmNhY2hlKG4pOm5bdGhpcy5leHBhbmRvXSYmblt0aGlzLmV4cGFuZG9dW3kodCldfSxhY2Nlc3M6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0PT09dW5kZWZpbmVkfHx0JiZ0eXBlb2YgdD09InN0cmluZyImJmk9PT11bmRlZmluZWQ/dGhpcy5nZXQobix0KToodGhpcy5zZXQobix0LGkpLGkhPT11bmRlZmluZWQ/aTp0KX0scmVtb3ZlOmZ1bmN0aW9uKG4sdCl7dmFyIHUscj1uW3RoaXMuZXhwYW5kb107aWYociE9PXVuZGVmaW5lZCl7aWYodCE9PXVuZGVmaW5lZClmb3IoQXJyYXkuaXNBcnJheSh0KT90PXQubWFwKHkpOih0PXkodCksdD10IGluIHI/W3RdOnQubWF0Y2goYSl8fFtdKSx1PXQubGVuZ3RoO3UtLTspZGVsZXRlIHJbdFt1XV07KHQ9PT11bmRlZmluZWR8fGkuaXNFbXB0eU9iamVjdChyKSkmJihuLm5vZGVUeXBlP25bdGhpcy5leHBhbmRvXT11bmRlZmluZWQ6ZGVsZXRlIG5bdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKG4pe3ZhciB0PW5bdGhpcy5leHBhbmRvXTtyZXR1cm4gdCE9PXVuZGVmaW5lZCYmIWkuaXNFbXB0eU9iamVjdCh0KX19O3ZhciByPW5ldyBwdCxvPW5ldyBwdCxzZT0vXig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLGhlPS9bQS1aXS9nO2kuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKG4pe3JldHVybiBvLmhhc0RhdGEobil8fHIuaGFzRGF0YShuKX0sZGF0YTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIG8uYWNjZXNzKG4sdCxpKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihuLHQpe28ucmVtb3ZlKG4sdCl9LF9kYXRhOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gci5hY2Nlc3Mobix0LGkpfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihuLHQpe3IucmVtb3ZlKG4sdCl9fSk7aS5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obix0KXt2YXIgZix1LGUsaT10aGlzWzBdLHM9aSYmaS5hdHRyaWJ1dGVzO2lmKG49PT11bmRlZmluZWQpe2lmKHRoaXMubGVuZ3RoJiYoZT1vLmdldChpKSxpLm5vZGVUeXBlPT09MSYmIXIuZ2V0KGksImhhc0RhdGFBdHRycyIpKSl7Zm9yKGY9cy5sZW5ndGg7Zi0tOylzW2ZdJiYodT1zW2ZdLm5hbWUsdS5pbmRleE9mKCJkYXRhLSIpPT09MCYmKHU9eSh1LnNsaWNlKDUpKSxldShpLHUsZVt1XSkpKTtyLnNldChpLCJoYXNEYXRhQXR0cnMiLCEwKX1yZXR1cm4gZX1yZXR1cm4gdHlwZW9mIG49PSJvYmplY3QiP3RoaXMuZWFjaChmdW5jdGlvbigpe28uc2V0KHRoaXMsbil9KTp3KHRoaXMsZnVuY3Rpb24odCl7dmFyIHI7aWYoaSYmdD09PXVuZGVmaW5lZClyZXR1cm4ocj1vLmdldChpLG4pLHIhPT11bmRlZmluZWQpP3I6KHI9ZXUoaSxuKSxyIT09dW5kZWZpbmVkKT9yOnZvaWQgMDt0aGlzLmVhY2goZnVuY3Rpb24oKXtvLnNldCh0aGlzLG4sdCl9KX0sbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5yZW1vdmUodGhpcyxuKX0pfX0pO2kuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihuLHQsdSl7dmFyIGY7aWYobilyZXR1cm4gdD0odHx8ImZ4IikrInF1ZXVlIixmPXIuZ2V0KG4sdCksdSYmKCFmfHxBcnJheS5pc0FycmF5KHUpP2Y9ci5hY2Nlc3Mobix0LGkubWFrZUFycmF5KHUpKTpmLnB1c2godSkpLGZ8fFtdfSxkZXF1ZXVlOmZ1bmN0aW9uKG4sdCl7dD10fHwiZngiO3ZhciByPWkucXVldWUobix0KSxlPXIubGVuZ3RoLHU9ci5zaGlmdCgpLGY9aS5fcXVldWVIb29rcyhuLHQpLG89ZnVuY3Rpb24oKXtpLmRlcXVldWUobix0KX07dT09PSJpbnByb2dyZXNzIiYmKHU9ci5zaGlmdCgpLGUtLSk7dSYmKHQ9PT0iZngiJiZyLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLHUuY2FsbChuLG8sZikpOyFlJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24obix0KXt2YXIgdT10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gci5nZXQobix1KXx8ci5hY2Nlc3Mobix1LHtlbXB0eTppLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtyLnJlbW92ZShuLFt0KyJxdWV1ZSIsdV0pfSl9KX19KTtpLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0KXt2YXIgcj0yO3JldHVybih0eXBlb2YgbiE9InN0cmluZyImJih0PW4sbj0iZngiLHItLSksYXJndW1lbnRzLmxlbmd0aDxyKT9pLnF1ZXVlKHRoaXNbMF0sbik6dD09PXVuZGVmaW5lZD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciByPWkucXVldWUodGhpcyxuLHQpO2kuX3F1ZXVlSG9va3ModGhpcyxuKTtuPT09ImZ4IiYmclswXSE9PSJpbnByb2dyZXNzIiYmaS5kZXF1ZXVlKHRoaXMsbil9KX0sZGVxdWV1ZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aS5kZXF1ZXVlKHRoaXMsbil9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5xdWV1ZShufHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihuLHQpe3ZhciB1LGU9MSxvPWkuRGVmZXJyZWQoKSxmPXRoaXMscz10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1lfHxvLnJlc29sdmVXaXRoKGYsW2ZdKX07Zm9yKHR5cGVvZiBuIT0ic3RyaW5nIiYmKHQ9bixuPXVuZGVmaW5lZCksbj1ufHwiZngiO3MtLTspdT1yLmdldChmW3NdLG4rInF1ZXVlSG9va3MiKSx1JiZ1LmVtcHR5JiYoZSsrLHUuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLG8ucHJvbWlzZSh0KX19KTt2YXIgb3U9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2Usd3Q9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK291KyIpKFthLXolXSopJCIsImkiKSxiPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sZz1mLmRvY3VtZW50RWxlbWVudCxvdD1mdW5jdGlvbihuKXtyZXR1cm4gaS5jb250YWlucyhuLm93bmVyRG9jdW1lbnQsbil9LGxlPXtjb21wb3NlZDohMH07Zy5nZXRSb290Tm9kZSYmKG90PWZ1bmN0aW9uKG4pe3JldHVybiBpLmNvbnRhaW5zKG4ub3duZXJEb2N1bWVudCxuKXx8bi5nZXRSb290Tm9kZShsZSk9PT1uLm93bmVyRG9jdW1lbnR9KTtidD1mdW5jdGlvbihuLHQpe3JldHVybiBuPXR8fG4sbi5zdHlsZS5kaXNwbGF5PT09Im5vbmUifHxuLnN0eWxlLmRpc3BsYXk9PT0iIiYmb3QobikmJmkuY3NzKG4sImRpc3BsYXkiKT09PSJub25lIn07cGk9e307aS5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gc3QodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gc3QodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG49PSJib29sZWFuIj9uP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe2J0KHRoaXMpP2kodGhpcykuc2hvdygpOmkodGhpcykuaGlkZSgpfSl9fSk7dmFyIGt0PS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLGh1PS88KFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKS9pLGN1PS9eJHxebW9kdWxlJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaTsoZnVuY3Rpb24oKXt2YXIgaT1mLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxuPWkuYXBwZW5kQ2hpbGQoZi5jcmVhdGVFbGVtZW50KCJkaXYiKSksdD1mLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpO3Quc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO3Quc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpO24uYXBwZW5kQ2hpbGQodCk7ZS5jaGVja0Nsb25lPW4uY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkO24uaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDxcL3RleHRhcmVhPiI7ZS5ub0Nsb25lQ2hlY2tlZD0hIW4uY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO24uaW5uZXJIVE1MPSI8b3B0aW9uPjxcL29wdGlvbj4iO2Uub3B0aW9uPSEhbi5sYXN0Q2hpbGR9KSgpO2M9e3RoZWFkOlsxLCI8dGFibGU+IiwiPFwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjxcL2NvbGdyb3VwPjxcL3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjxcL3Rib2R5PjxcL3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8XC90cj48XC90Ym9keT48XC90YWJsZT4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O2MudGJvZHk9Yy50Zm9vdD1jLmNvbGdyb3VwPWMuY2FwdGlvbj1jLnRoZWFkO2MudGg9Yy50ZDtlLm9wdGlvbnx8KGMub3B0Z3JvdXA9Yy5vcHRpb249WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8XC9zZWxlY3Q+Il0pO2x1PS88fCYjP1x3KzsvO2JpPS9eKFteLl0qKSg/OlwuKC4rKXwpLztpLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKG4sdCx1LGYsZSl7dmFyIGwsdix3LHksYixoLHMsYyxvLGssZCxwPXIuZ2V0KG4pO2lmKGV0KG4pKWZvcih1LmhhbmRsZXImJihsPXUsdT1sLmhhbmRsZXIsZT1sLnNlbGVjdG9yKSxlJiZpLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGcsZSksdS5ndWlkfHwodS5ndWlkPWkuZ3VpZCsrKSwoeT1wLmV2ZW50cyl8fCh5PXAuZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCkpLCh2PXAuaGFuZGxlKXx8KHY9cC5oYW5kbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiBpIT0idW5kZWZpbmVkIiYmaS5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGU/aS5ldmVudC5kaXNwYXRjaC5hcHBseShuLGFyZ3VtZW50cyk6dW5kZWZpbmVkfSksdD0odHx8IiIpLm1hdGNoKGEpfHxbIiJdLGI9dC5sZW5ndGg7Yi0tOykodz1iaS5leGVjKHRbYl0pfHxbXSxvPWQ9d1sxXSxrPSh3WzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbykmJihzPWkuZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZT9zLmRlbGVnYXRlVHlwZTpzLmJpbmRUeXBlKXx8byxzPWkuZXZlbnQuc3BlY2lhbFtvXXx8e30saD1pLmV4dGVuZCh7dHlwZTpvLG9yaWdUeXBlOmQsZGF0YTpmLGhhbmRsZXI6dSxndWlkOnUuZ3VpZCxzZWxlY3RvcjplLG5lZWRzQ29udGV4dDplJiZpLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoZSksbmFtZXNwYWNlOmsuam9pbigiLiIpfSxsKSwoYz15W29dKXx8KGM9eVtvXT1bXSxjLmRlbGVnYXRlQ291bnQ9MCxzLnNldHVwJiZzLnNldHVwLmNhbGwobixmLGssdikhPT0hMXx8bi5hZGRFdmVudExpc3RlbmVyJiZuLmFkZEV2ZW50TGlzdGVuZXIobyx2KSkscy5hZGQmJihzLmFkZC5jYWxsKG4saCksaC5oYW5kbGVyLmd1aWR8fChoLmhhbmRsZXIuZ3VpZD11Lmd1aWQpKSxlP2Muc3BsaWNlKGMuZGVsZWdhdGVDb3VudCsrLDAsaCk6Yy5wdXNoKGgpLGkuZXZlbnQuZ2xvYmFsW29dPSEwKX0scmVtb3ZlOmZ1bmN0aW9uKG4sdCx1LGYsZSl7dmFyIHksayxoLHYscCxzLGMsbCxvLGIsZCx3PXIuaGFzRGF0YShuKSYmci5nZXQobik7aWYodyYmKHY9dy5ldmVudHMpKXtmb3IodD0odHx8IiIpLm1hdGNoKGEpfHxbIiJdLHA9dC5sZW5ndGg7cC0tOyl7aWYoaD1iaS5leGVjKHRbcF0pfHxbXSxvPWQ9aFsxXSxiPShoWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksIW8pe2ZvcihvIGluIHYpaS5ldmVudC5yZW1vdmUobixvK3RbcF0sdSxmLCEwKTtjb250aW51ZX1mb3IoYz1pLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGY/Yy5kZWxlZ2F0ZVR5cGU6Yy5iaW5kVHlwZSl8fG8sbD12W29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksaz15PWwubGVuZ3RoO3ktLTspcz1sW3ldLChlfHxkPT09cy5vcmlnVHlwZSkmJighdXx8dS5ndWlkPT09cy5ndWlkKSYmKCFofHxoLnRlc3Qocy5uYW1lc3BhY2UpKSYmKCFmfHxmPT09cy5zZWxlY3Rvcnx8Zj09PSIqKiImJnMuc2VsZWN0b3IpJiYobC5zcGxpY2UoeSwxKSxzLnNlbGVjdG9yJiZsLmRlbGVnYXRlQ291bnQtLSxjLnJlbW92ZSYmYy5yZW1vdmUuY2FsbChuLHMpKTtrJiYhbC5sZW5ndGgmJihjLnRlYXJkb3duJiZjLnRlYXJkb3duLmNhbGwobixiLHcuaGFuZGxlKSE9PSExfHxpLnJlbW92ZUV2ZW50KG4sbyx3LmhhbmRsZSksZGVsZXRlIHZbb10pfWkuaXNFbXB0eU9iamVjdCh2KSYmci5yZW1vdmUobiwiaGFuZGxlIGV2ZW50cyIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24obil7dmFyIHUsYyxzLGUsZixsLGg9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHQ9aS5ldmVudC5maXgobiksYT0oci5nZXQodGhpcywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW3QudHlwZV18fFtdLG89aS5ldmVudC5zcGVjaWFsW3QudHlwZV18fHt9O2ZvcihoWzBdPXQsdT0xO3U8YXJndW1lbnRzLmxlbmd0aDt1KyspaFt1XT1hcmd1bWVudHNbdV07aWYodC5kZWxlZ2F0ZVRhcmdldD10aGlzLCFvLnByZURpc3BhdGNofHxvLnByZURpc3BhdGNoLmNhbGwodGhpcyx0KSE9PSExKXtmb3IobD1pLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyx0LGEpLHU9MDsoZT1sW3UrK10pJiYhdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylmb3IodC5jdXJyZW50VGFyZ2V0PWUuZWxlbSxjPTA7KGY9ZS5oYW5kbGVyc1tjKytdKSYmIXQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKTspKCF0LnJuYW1lc3BhY2V8fGYubmFtZXNwYWNlPT09ITF8fHQucm5hbWVzcGFjZS50ZXN0KGYubmFtZXNwYWNlKSkmJih0LmhhbmRsZU9iaj1mLHQuZGF0YT1mLmRhdGEscz0oKGkuZXZlbnQuc3BlY2lhbFtmLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zi5oYW5kbGVyKS5hcHBseShlLmVsZW0saCkscyE9PXVuZGVmaW5lZCYmKHQucmVzdWx0PXMpPT09ITEmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSkpO3JldHVybiBvLnBvc3REaXNwYXRjaCYmby5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHQpLHQucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24obix0KXt2YXIgZixlLHUsbyxzLGM9W10saD10LmRlbGVnYXRlQ291bnQscj1uLnRhcmdldDtpZihoJiZyLm5vZGVUeXBlJiYhKG4udHlwZT09PSJjbGljayImJm4uYnV0dG9uPj0xKSlmb3IoO3IhPT10aGlzO3I9ci5wYXJlbnROb2RlfHx0aGlzKWlmKHIubm9kZVR5cGU9PT0xJiYhKG4udHlwZT09PSJjbGljayImJnIuZGlzYWJsZWQ9PT0hMCkpe2ZvcihvPVtdLHM9e30sZj0wO2Y8aDtmKyspZT10W2ZdLHU9ZS5zZWxlY3RvcisiICIsc1t1XT09PXVuZGVmaW5lZCYmKHNbdV09ZS5uZWVkc0NvbnRleHQ/aSh1LHRoaXMpLmluZGV4KHIpPi0xOmkuZmluZCh1LHRoaXMsbnVsbCxbcl0pLmxlbmd0aCksc1t1XSYmby5wdXNoKGUpO28ubGVuZ3RoJiZjLnB1c2goe2VsZW06cixoYW5kbGVyczpvfSl9cmV0dXJuIHI9dGhpcyxoPHQubGVuZ3RoJiZjLnB1c2goe2VsZW06cixoYW5kbGVyczp0LnNsaWNlKGgpfSksY30sYWRkUHJvcDpmdW5jdGlvbihuLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkV2ZW50LnByb3RvdHlwZSxuLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6dSh0KT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdCh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W25dfSxzZXQ6ZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfX0pfSxmaXg6ZnVuY3Rpb24obil7cmV0dXJuIG5baS5leHBhbmRvXT9uOm5ldyBpLkV2ZW50KG4pfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXN8fG47cmV0dXJuIGt0LnRlc3QodC50eXBlKSYmdC5jbGljayYmbCh0LCJpbnB1dCIpJiZlaSh0LCJjbGljayIsaHQpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXN8fG47cmV0dXJuIGt0LnRlc3QodC50eXBlKSYmdC5jbGljayYmbCh0LCJpbnB1dCIpJiZlaSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihuKXt2YXIgdD1uLnRhcmdldDtyZXR1cm4ga3QudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZsKHQsImlucHV0IikmJnIuZ2V0KHQsImNsaWNrIil8fGwodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24obil7bi5yZXN1bHQhPT11bmRlZmluZWQmJm4ub3JpZ2luYWxFdmVudCYmKG4ub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1uLnJlc3VsdCl9fX19O2kucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24obix0LGkpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lciYmbi5yZW1vdmVFdmVudExpc3RlbmVyKHQsaSl9O2kuRXZlbnQ9ZnVuY3Rpb24obix0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBpLkV2ZW50KSlyZXR1cm4gbmV3IGkuRXZlbnQobix0KTtuJiZuLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1uLHRoaXMudHlwZT1uLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9bi5kZWZhdWx0UHJldmVudGVkfHxuLmRlZmF1bHRQcmV2ZW50ZWQ9PT11bmRlZmluZWQmJm4ucmV0dXJuVmFsdWU9PT0hMT9odDpjdCx0aGlzLnRhcmdldD1uLnRhcmdldCYmbi50YXJnZXQubm9kZVR5cGU9PT0zP24udGFyZ2V0LnBhcmVudE5vZGU6bi50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PW4uY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9bi5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9bjt0JiZpLmV4dGVuZCh0aGlzLHQpO3RoaXMudGltZVN0YW1wPW4mJm4udGltZVN0YW1wfHxEYXRlLm5vdygpO3RoaXNbaS5leHBhbmRvXT0hMH07aS5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmkuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmN0LGlzUHJvcGFnYXRpb25TdG9wcGVkOmN0LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmN0LGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWh0O24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWh0O24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1odDtuJiYhdGhpcy5pc1NpbXVsYXRlZCYmbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX07aS5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLGNoYXI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDohMH0saS5ldmVudC5hZGRQcm9wKTtpLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4sdCl7aS5ldmVudC5zcGVjaWFsW25dPXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBlaSh0aGlzLG4sdmUpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIGVpKHRoaXMsbiksITB9LF9kZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGRlbGVnYXRlVHlwZTp0fX0pO2kuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24obix0KXtpLmV2ZW50LnNwZWNpYWxbbl09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKG4pe3ZhciB1LGY9dGhpcyxyPW4ucmVsYXRlZFRhcmdldCxlPW4uaGFuZGxlT2JqO3JldHVybiByJiYocj09PWZ8fGkuY29udGFpbnMoZixyKSl8fChuLnR5cGU9ZS5vcmlnVHlwZSx1PWUuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksbi50eXBlPXQpLHV9fX0pO2kuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4ga2kodGhpcyxuLHQsaSxyKX0sb25lOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiBraSh0aGlzLG4sdCxpLHIsMSl9LG9mZjpmdW5jdGlvbihuLHQscil7dmFyIHUsZjtpZihuJiZuLnByZXZlbnREZWZhdWx0JiZuLmhhbmRsZU9iailyZXR1cm4gdT1uLmhhbmRsZU9iaixpKG4uZGVsZWdhdGVUYXJnZXQpLm9mZih1Lm5hbWVzcGFjZT91Lm9yaWdUeXBlKyIuIit1Lm5hbWVzcGFjZTp1Lm9yaWdUeXBlLHUuc2VsZWN0b3IsdS5oYW5kbGVyKSx0aGlzO2lmKHR5cGVvZiBuPT0ib2JqZWN0Iil7Zm9yKGYgaW4gbil0aGlzLm9mZihmLHQsbltmXSk7cmV0dXJuIHRoaXN9cmV0dXJuKHQ9PT0hMXx8dHlwZW9mIHQ9PSJmdW5jdGlvbiIpJiYocj10LHQ9dW5kZWZpbmVkKSxyPT09ITEmJihyPWN0KSx0aGlzLmVhY2goZnVuY3Rpb24oKXtpLmV2ZW50LnJlbW92ZSh0aGlzLG4scix0KX0pfX0pO3ZhciBwZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSx3ZT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxiZT0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2c7aS5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIG59LGNsb25lOmZ1bmN0aW9uKG4sdCxyKXt2YXIgdSxjLG8sZixoPW4uY2xvbmVOb2RlKCEwKSxsPW90KG4pO2lmKCFlLm5vQ2xvbmVDaGVja2VkJiYobi5ub2RlVHlwZT09PTF8fG4ubm9kZVR5cGU9PT0xMSkmJiFpLmlzWE1MRG9jKG4pKWZvcihmPXMoaCksbz1zKG4pLHU9MCxjPW8ubGVuZ3RoO3U8Yzt1KyspZ2Uob1t1XSxmW3VdKTtpZih0KWlmKHIpZm9yKG89b3x8cyhuKSxmPWZ8fHMoaCksdT0wLGM9by5sZW5ndGg7dTxjO3UrKyl5dShvW3VdLGZbdV0pO2Vsc2UgeXUobixoKTtyZXR1cm4gZj1zKGgsInNjcmlwdCIpLGYubGVuZ3RoPjAmJndpKGYsIWwmJnMobiwic2NyaXB0IikpLGh9LGNsZWFuRGF0YTpmdW5jdGlvbihuKXtmb3IodmFyIHUsdCxmLHM9aS5ldmVudC5zcGVjaWFsLGU9MDsodD1uW2VdKSE9PXVuZGVmaW5lZDtlKyspaWYoZXQodCkpe2lmKHU9dFtyLmV4cGFuZG9dKXtpZih1LmV2ZW50cylmb3IoZiBpbiB1LmV2ZW50cylzW2ZdP2kuZXZlbnQucmVtb3ZlKHQsZik6aS5yZW1vdmVFdmVudCh0LGYsdS5oYW5kbGUpO3Rbci5leHBhbmRvXT11bmRlZmluZWR9dFtvLmV4cGFuZG9dJiYodFtvLmV4cGFuZG9dPXVuZGVmaW5lZCl9fX0pO2kuZm4uZXh0ZW5kKHtkZXRhY2g6ZnVuY3Rpb24obil7cmV0dXJuIHB1KHRoaXMsbiwhMCl9LHJlbW92ZTpmdW5jdGlvbihuKXtyZXR1cm4gcHUodGhpcyxuKX0sdGV4dDpmdW5jdGlvbihuKXtyZXR1cm4gdyh0aGlzLGZ1bmN0aW9uKG4pe3JldHVybiBuPT09dW5kZWZpbmVkP2kudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbigpeyh0aGlzLm5vZGVUeXBlPT09MXx8dGhpcy5ub2RlVHlwZT09PTExfHx0aGlzLm5vZGVUeXBlPT09OSkmJih0aGlzLnRleHRDb250ZW50PW4pfSl9LG51bGwsbixhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIGx0KHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKG4pe2lmKHRoaXMubm9kZVR5cGU9PT0xfHx0aGlzLm5vZGVUeXBlPT09MTF8fHRoaXMubm9kZVR5cGU9PT05KXt2YXIgdD12dSh0aGlzLG4pO3QuYXBwZW5kQ2hpbGQobil9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7aWYodGhpcy5ub2RlVHlwZT09PTF8fHRoaXMubm9kZVR5cGU9PT0xMXx8dGhpcy5ub2RlVHlwZT09PTkpe3ZhciB0PXZ1KHRoaXMsbik7dC5pbnNlcnRCZWZvcmUobix0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gbHQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbHQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIG4sdD0wOyhuPXRoaXNbdF0pIT1udWxsO3QrKyluLm5vZGVUeXBlPT09MSYmKGkuY2xlYW5EYXRhKHMobiwhMSkpLG4udGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihuLHQpe3JldHVybiBuPW49PW51bGw/ITE6bix0PXQ9PW51bGw/bjp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGkuY2xvbmUodGhpcyxuLHQpfSl9LGh0bWw6ZnVuY3Rpb24obil7cmV0dXJuIHcodGhpcyxmdW5jdGlvbihuKXt2YXIgdD10aGlzWzBdfHx7fSxyPTAsdT10aGlzLmxlbmd0aDtpZihuPT09dW5kZWZpbmVkJiZ0Lm5vZGVUeXBlPT09MSlyZXR1cm4gdC5pbm5lckhUTUw7aWYodHlwZW9mIG49PSJzdHJpbmciJiYhcGUudGVzdChuKSYmIWNbKGh1LmV4ZWMobil8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtuPWkuaHRtbFByZWZpbHRlcihuKTt0cnl7Zm9yKDtyPHU7cisrKXQ9dGhpc1tyXXx8e30sdC5ub2RlVHlwZT09PTEmJihpLmNsZWFuRGF0YShzKHQsITEpKSx0LmlubmVySFRNTD1uKTt0PTB9Y2F0Y2goZil7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKG4pfSxudWxsLG4sYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIGx0KHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKHQpe3ZhciByPXRoaXMucGFyZW50Tm9kZTtpLmluQXJyYXkodGhpcyxuKTwwJiYoaS5jbGVhbkRhdGEocyh0aGlzKSksciYmci5yZXBsYWNlQ2hpbGQodCx0aGlzKSl9LG4pfX0pO2kuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKG4sdCl7aS5mbltuXT1mdW5jdGlvbihuKXtmb3IodmFyIHUsZj1bXSxlPWkobiksbz1lLmxlbmd0aC0xLHI9MDtyPD1vO3IrKyl1PXI9PT1vP3RoaXM6dGhpcy5jbG9uZSghMCksaShlW3JdKVt0XSh1KSxsaS5hcHBseShmLHUuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhmKX19KTt2YXIgZGk9bmV3IFJlZ0V4cCgiXigiK291KyIpKD8hcHgpW2EteiVdKyQiLCJpIiksb2k9ZnVuY3Rpb24odCl7dmFyIGk9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBpJiZpLm9wZW5lcnx8KGk9biksaS5nZXRDb21wdXRlZFN0eWxlKHQpfSx3dT1mdW5jdGlvbihuLHQsaSl7dmFyIHUscixmPXt9O2ZvcihyIGluIHQpZltyXT1uLnN0eWxlW3JdLG4uc3R5bGVbcl09dFtyXTt1PWkuY2FsbChuKTtmb3IociBpbiB0KW4uc3R5bGVbcl09ZltyXTtyZXR1cm4gdX0sbm89bmV3IFJlZ0V4cChiLmpvaW4oInwiKSwiaSIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXtpZih0KXtzLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiO3Quc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSI7Zy5hcHBlbmRDaGlsZChzKS5hcHBlbmRDaGlsZCh0KTt2YXIgaT1uLmdldENvbXB1dGVkU3R5bGUodCk7aD1pLnRvcCE9PSIxJSI7dj11KGkubWFyZ2luTGVmdCk9PT0xMjt0LnN0eWxlLnJpZ2h0PSI2MCUiO2E9dShpLnJpZ2h0KT09PTM2O2M9dShpLndpZHRoKT09PTM2O3Quc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsPXUodC5vZmZzZXRXaWR0aC8zKT09PTEyO2cucmVtb3ZlQ2hpbGQocyk7dD1udWxsfX1mdW5jdGlvbiB1KG4pe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobikpfXZhciBoLGMsbCxhLG8sdixzPWYuY3JlYXRlRWxlbWVudCgiZGl2IiksdD1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Quc3R5bGUmJih0LnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsdC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGUuY2xlYXJDbG9uZVN0eWxlPXQuc3R5bGUuYmFja2dyb3VuZENsaXA9PT0iY29udGVudC1ib3giLGkuZXh0ZW5kKGUse2JveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxjfSxwaXhlbEJveFN0eWxlczpmdW5jdGlvbigpe3JldHVybiByKCksYX0scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiByKCksaH0scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSx2fSxzY3JvbGxib3hTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxsfSxyZWxpYWJsZVRyRGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciBpLHQscix1O3JldHVybiBvPT1udWxsJiYoaT1mLmNyZWF0ZUVsZW1lbnQoInRhYmxlIiksdD1mLmNyZWF0ZUVsZW1lbnQoInRyIikscj1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGkuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDtib3JkZXItY29sbGFwc2U6c2VwYXJhdGUiLHQuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjFweCBzb2xpZCIsdC5zdHlsZS5oZWlnaHQ9IjFweCIsci5zdHlsZS5oZWlnaHQ9IjlweCIsci5zdHlsZS5kaXNwbGF5PSJibG9jayIsZy5hcHBlbmRDaGlsZChpKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChyKSx1PW4uZ2V0Q29tcHV0ZWRTdHlsZSh0KSxvPXBhcnNlSW50KHUuaGVpZ2h0LDEwKStwYXJzZUludCh1LmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludCh1LmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LGcucmVtb3ZlQ2hpbGQoaSkpLG99fSkpfSkoKTt2YXIga3U9WyJXZWJraXQiLCJNb3oiLCJtcyJdLGR1PWYuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsZ3U9e307dmFyIGlvPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxuZj0vXi0tLyxybz17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sdGY9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9O2kuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKG4sdCl7aWYodCl7dmFyIGk9ZHQobiwib3BhY2l0eSIpO3JldHVybiBpPT09IiI/IjEiOml9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKG4sdCxyLHUpe2lmKG4mJm4ubm9kZVR5cGUhPT0zJiZuLm5vZGVUeXBlIT09OCYmbi5zdHlsZSl7dmFyIGYscyxvLGM9eSh0KSxsPW5mLnRlc3QodCksaD1uLnN0eWxlO2lmKGx8fCh0PWdpKGMpKSxvPWkuY3NzSG9va3NbdF18fGkuY3NzSG9va3NbY10sciE9PXVuZGVmaW5lZCl7aWYocz10eXBlb2YgcixzPT09InN0cmluZyImJihmPXd0LmV4ZWMocikpJiZmWzFdJiYocj1zdShuLHQsZikscz0ibnVtYmVyIikscj09bnVsbHx8ciE9PXIpcmV0dXJuO3MhPT0ibnVtYmVyInx8bHx8KHIrPWYmJmZbM118fChpLmNzc051bWJlcltjXT8iIjoicHgiKSk7ZS5jbGVhckNsb25lU3R5bGV8fHIhPT0iInx8dC5pbmRleE9mKCJiYWNrZ3JvdW5kIikhPT0wfHwoaFt0XT0iaW5oZXJpdCIpO28mJiJzZXQiaW4gbyYmKHI9by5zZXQobixyLHUpKT09PXVuZGVmaW5lZHx8KGw/aC5zZXRQcm9wZXJ0eSh0LHIpOmhbdF09cil9ZWxzZSByZXR1cm4gbyYmImdldCJpbiBvJiYoZj1vLmdldChuLCExLHUpKSE9PXVuZGVmaW5lZD9mOmhbdF19fSxjc3M6ZnVuY3Rpb24obix0LHIsdSl7dmFyIGYsbyxlLHM9eSh0KSxoPW5mLnRlc3QodCk7cmV0dXJuKGh8fCh0PWdpKHMpKSxlPWkuY3NzSG9va3NbdF18fGkuY3NzSG9va3Nbc10sZSYmImdldCJpbiBlJiYoZj1lLmdldChuLCEwLHIpKSxmPT09dW5kZWZpbmVkJiYoZj1kdChuLHQsdSkpLGY9PT0ibm9ybWFsIiYmdCBpbiB0ZiYmKGY9dGZbdF0pLHI9PT0iInx8cik/KG89cGFyc2VGbG9hdChmKSxyPT09ITB8fGlzRmluaXRlKG8pP298fDA6Zik6Zn19KTtpLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKG4sdCl7aS5jc3NIb29rc1t0XT17Z2V0OmZ1bmN0aW9uKG4scix1KXtpZihyKXJldHVybiBpby50ZXN0KGkuY3NzKG4sImRpc3BsYXkiKSkmJighbi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aHx8IW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpP3d1KG4scm8sZnVuY3Rpb24oKXtyZXR1cm4gdWYobix0LHUpfSk6dWYobix0LHUpfSxzZXQ6ZnVuY3Rpb24obixyLHUpe3ZhciBzLGY9b2kobiksaD0hZS5zY3JvbGxib3hTaXplKCkmJmYucG9zaXRpb249PT0iYWJzb2x1dGUiLGw9aHx8dSxjPWwmJmkuY3NzKG4sImJveFNpemluZyIsITEsZik9PT0iYm9yZGVyLWJveCIsbz11P25yKG4sdCx1LGMsZik6MDtyZXR1cm4gYyYmaCYmKG8tPU1hdGguY2VpbChuWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1wYXJzZUZsb2F0KGZbdF0pLW5yKG4sdCwiYm9yZGVyIiwhMSxmKS0uNSkpLG8mJihzPXd0LmV4ZWMocikpJiYoc1szXXx8InB4IikhPT0icHgiJiYobi5zdHlsZVt0XT1yLHI9aS5jc3Mobix0KSkscmYobixyLG8pfX19KTtpLmNzc0hvb2tzLm1hcmdpbkxlZnQ9YnUoZS5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24obix0KXtpZih0KXJldHVybihwYXJzZUZsb2F0KGR0KG4sIm1hcmdpbkxlZnQiKSl8fG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC13dShuLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKSsicHgifSk7aS5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW24rdF09e2V4cGFuZDpmdW5jdGlvbihpKXtmb3IodmFyIHI9MCxmPXt9LHU9dHlwZW9mIGk9PSJzdHJpbmciP2kuc3BsaXQoIiAiKTpbaV07cjw0O3IrKylmW24rYltyXSt0XT11W3JdfHx1W3ItMl18fHVbMF07cmV0dXJuIGZ9fTtuIT09Im1hcmdpbiImJihpLmNzc0hvb2tzW24rdF0uc2V0PXJmKX0pO2kuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24obix0KXtyZXR1cm4gdyh0aGlzLGZ1bmN0aW9uKG4sdCxyKXt2YXIgZixlLG89e30sdT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihmPW9pKG4pLGU9dC5sZW5ndGg7dTxlO3UrKylvW3RbdV1dPWkuY3NzKG4sdFt1XSwhMSxmKTtyZXR1cm4gb31yZXR1cm4gciE9PXVuZGVmaW5lZD9pLnN0eWxlKG4sdCxyKTppLmNzcyhuLHQpfSxuLHQsYXJndW1lbnRzLmxlbmd0aD4xKX19KTtpLlR3ZWVuPWg7aC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmgsaW5pdDpmdW5jdGlvbihuLHQscix1LGYsZSl7dGhpcy5lbGVtPW47dGhpcy5wcm9wPXI7dGhpcy5lYXNpbmc9Znx8aS5lYXNpbmcuX2RlZmF1bHQ7dGhpcy5vcHRpb25zPXQ7dGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpO3RoaXMuZW5kPXU7dGhpcy51bml0PWV8fChpLmNzc051bWJlcltyXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIG49aC5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gbiYmbi5nZXQ/bi5nZXQodGhpcyk6aC5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24obil7dmFyIHQscj1oLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz10aGlzLm9wdGlvbnMuZHVyYXRpb24/dD1pLmVhc2luZ1t0aGlzLmVhc2luZ10obix0aGlzLm9wdGlvbnMuZHVyYXRpb24qbiwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0PW4sdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksciYmci5zZXQ/ci5zZXQodGhpcyk6aC5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fTtoLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1oLnByb3RvdHlwZTtoLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gbi5lbGVtLm5vZGVUeXBlIT09MXx8bi5lbGVtW24ucHJvcF0hPW51bGwmJm4uZWxlbS5zdHlsZVtuLnByb3BdPT1udWxsP24uZWxlbVtuLnByb3BdOih0PWkuY3NzKG4uZWxlbSxuLnByb3AsIiIpLCF0fHx0PT09ImF1dG8iPzA6dCl9LHNldDpmdW5jdGlvbihuKXtpLmZ4LnN0ZXBbbi5wcm9wXT9pLmZ4LnN0ZXBbbi5wcm9wXShuKTpuLmVsZW0ubm9kZVR5cGU9PT0xJiYoaS5jc3NIb29rc1tuLnByb3BdfHxuLmVsZW0uc3R5bGVbZ2kobi5wcm9wKV0hPW51bGwpP2kuc3R5bGUobi5lbGVtLG4ucHJvcCxuLm5vdytuLnVuaXQpOm4uZWxlbVtuLnByb3BdPW4ubm93fX19O2gucHJvcEhvb2tzLnNjcm9sbFRvcD1oLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24obil7bi5lbGVtLm5vZGVUeXBlJiZuLmVsZW0ucGFyZW50Tm9kZSYmKG4uZWxlbVtuLnByb3BdPW4ubm93KX19O2kuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24obil7cmV0dXJuIG59LHN3aW5nOmZ1bmN0aW9uKG4pe3JldHVybi41LU1hdGguY29zKG4qTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn07aS5meD1oLnByb3RvdHlwZS5pbml0O2kuZnguc3RlcD17fTtmZj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC87ZWY9L3F1ZXVlSG9va3MkLztpLkFuaW1hdGlvbj1pLmV4dGVuZCh2LHt0d2VlbmVyczp7IioiOltmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuY3JlYXRlVHdlZW4obix0KTtyZXR1cm4gc3UoaS5lbGVtLG4sd3QuZXhlYyh0KSxpKSxpfV19LHR3ZWVuZXI6ZnVuY3Rpb24obix0KXt1KG4pPyh0PW4sbj1bIioiXSk6bj1uLm1hdGNoKGEpO2Zvcih2YXIgaSxyPTAsZj1uLmxlbmd0aDtyPGY7cisrKWk9bltyXSx2LnR3ZWVuZXJzW2ldPXYudHdlZW5lcnNbaV18fFtdLHYudHdlZW5lcnNbaV0udW5zaGlmdCh0KX0scHJlZmlsdGVyczpbdW9dLHByZWZpbHRlcjpmdW5jdGlvbihuLHQpe3Q/di5wcmVmaWx0ZXJzLnVuc2hpZnQobik6di5wcmVmaWx0ZXJzLnB1c2gobil9fSk7aS5zcGVlZD1mdW5jdGlvbihuLHQscil7dmFyIGY9biYmdHlwZW9mIG49PSJvYmplY3QiP2kuZXh0ZW5kKHt9LG4pOntjb21wbGV0ZTpyfHwhciYmdHx8dShuKSYmbixkdXJhdGlvbjpuLGVhc2luZzpyJiZ0fHx0JiYhdSh0KSYmdH07cmV0dXJuIGkuZngub2ZmP2YuZHVyYXRpb249MDp0eXBlb2YgZi5kdXJhdGlvbiE9Im51bWJlciImJihmLmR1cmF0aW9uPWYuZHVyYXRpb24gaW4gaS5meC5zcGVlZHM/aS5meC5zcGVlZHNbZi5kdXJhdGlvbl06aS5meC5zcGVlZHMuX2RlZmF1bHQpLChmLnF1ZXVlPT1udWxsfHxmLnF1ZXVlPT09ITApJiYoZi5xdWV1ZT0iZngiKSxmLm9sZD1mLmNvbXBsZXRlLGYuY29tcGxldGU9ZnVuY3Rpb24oKXt1KGYub2xkKSYmZi5vbGQuY2FsbCh0aGlzKTtmLnF1ZXVlJiZpLmRlcXVldWUodGhpcyxmLnF1ZXVlKX0sZn07aS5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gdGhpcy5maWx0ZXIoYnQpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6dH0sbixpLHIpfSxhbmltYXRlOmZ1bmN0aW9uKG4sdCx1LGYpe3ZhciBzPWkuaXNFbXB0eU9iamVjdChuKSxvPWkuc3BlZWQodCx1LGYpLGU9ZnVuY3Rpb24oKXt2YXIgdD12KHRoaXMsaS5leHRlbmQoe30sbiksbyk7KHN8fHIuZ2V0KHRoaXMsImZpbmlzaCIpKSYmdC5zdG9wKCEwKX07cmV0dXJuIGUuZmluaXNoPWUsc3x8by5xdWV1ZT09PSExP3RoaXMuZWFjaChlKTp0aGlzLnF1ZXVlKG8ucXVldWUsZSl9LHN0b3A6ZnVuY3Rpb24obix0LHUpe3ZhciBmPWZ1bmN0aW9uKG4pe3ZhciB0PW4uc3RvcDtkZWxldGUgbi5zdG9wO3QodSl9O3JldHVybiB0eXBlb2YgbiE9InN0cmluZyImJih1PXQsdD1uLG49dW5kZWZpbmVkKSx0JiZ0aGlzLnF1ZXVlKG58fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBzPSEwLHQ9biE9bnVsbCYmbisicXVldWVIb29rcyIsbz1pLnRpbWVycyxlPXIuZ2V0KHRoaXMpO2lmKHQpZVt0XSYmZVt0XS5zdG9wJiZmKGVbdF0pO2Vsc2UgZm9yKHQgaW4gZSllW3RdJiZlW3RdLnN0b3AmJmVmLnRlc3QodCkmJmYoZVt0XSk7Zm9yKHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW09PT10aGlzJiYobj09bnVsbHx8b1t0XS5xdWV1ZT09PW4pJiYob1t0XS5hbmltLnN0b3AodSkscz0hMSxvLnNwbGljZSh0LDEpKTsoc3x8IXUpJiZpLmRlcXVldWUodGhpcyxuKX0pfSxmaW5pc2g6ZnVuY3Rpb24obil7cmV0dXJuIG4hPT0hMSYmKG49bnx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsZT1yLmdldCh0aGlzKSx1PWVbbisicXVldWUiXSxvPWVbbisicXVldWVIb29rcyJdLGY9aS50aW1lcnMscz11P3UubGVuZ3RoOjA7Zm9yKGUuZmluaXNoPSEwLGkucXVldWUodGhpcyxuLFtdKSxvJiZvLnN0b3AmJm8uc3RvcC5jYWxsKHRoaXMsITApLHQ9Zi5sZW5ndGg7dC0tOylmW3RdLmVsZW09PT10aGlzJiZmW3RdLnF1ZXVlPT09biYmKGZbdF0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZSh0LDEpKTtmb3IodD0wO3Q8czt0KyspdVt0XSYmdVt0XS5maW5pc2gmJnVbdF0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGUuZmluaXNofSl9fSk7aS5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihuLHQpe3ZhciByPWkuZm5bdF07aS5mblt0XT1mdW5jdGlvbihuLGksdSl7cmV0dXJuIG49PW51bGx8fHR5cGVvZiBuPT0iYm9vbGVhbiI/ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGhpKHQsITApLG4saSx1KX19KTtpLmVhY2goe3NsaWRlRG93bjpoaSgic2hvdyIpLHNsaWRlVXA6aGkoImhpZGUiKSxzbGlkZVRvZ2dsZTpoaSgidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihuLHQpe2kuZm5bbl09ZnVuY3Rpb24obixpLHIpe3JldHVybiB0aGlzLmFuaW1hdGUodCxuLGkscil9fSk7aS50aW1lcnM9W107aS5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIHIsbj0wLHQ9aS50aW1lcnM7Zm9yKGF0PURhdGUubm93KCk7bjx0Lmxlbmd0aDtuKyspcj10W25dLHIoKXx8dFtuXSE9PXJ8fHQuc3BsaWNlKG4tLSwxKTt0Lmxlbmd0aHx8aS5meC5zdG9wKCk7YXQ9dW5kZWZpbmVkfTtpLmZ4LnRpbWVyPWZ1bmN0aW9uKG4pe2kudGltZXJzLnB1c2gobik7aS5meC5zdGFydCgpfTtpLmZ4LmludGVydmFsPTEzO2kuZnguc3RhcnQ9ZnVuY3Rpb24oKXtzaXx8KHNpPSEwLHRyKCkpfTtpLmZ4LnN0b3A9ZnVuY3Rpb24oKXtzaT1udWxsfTtpLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfTtpLmZuLmRlbGF5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ9aS5meD9pLmZ4LnNwZWVkc1t0XXx8dDp0LHI9cnx8ImZ4Iix0aGlzLnF1ZXVlKHIsZnVuY3Rpb24oaSxyKXt2YXIgdT1uLnNldFRpbWVvdXQoaSx0KTtyLnN0b3A9ZnVuY3Rpb24oKXtuLmNsZWFyVGltZW91dCh1KX19KX0sZnVuY3Rpb24oKXt2YXIgbj1mLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksdD1mLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGk9dC5hcHBlbmRDaGlsZChmLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtuLnR5cGU9ImNoZWNrYm94IjtlLmNoZWNrT249bi52YWx1ZSE9PSIiO2Uub3B0U2VsZWN0ZWQ9aS5zZWxlY3RlZDtuPWYuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtuLnZhbHVlPSJ0IjtuLnR5cGU9InJhZGlvIjtlLnJhZGlvVmFsdWU9bi52YWx1ZT09PSJ0In0oKTt2dD1pLmV4cHIuYXR0ckhhbmRsZTtpLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihuLHQpe3JldHVybiB3KHRoaXMsaS5hdHRyLG4sdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpLnJlbW92ZUF0dHIodGhpcyxuKX0pfX0pO2kuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKG4sdCxyKXt2YXIgdSxmLGU9bi5ub2RlVHlwZTtpZihlIT09MyYmZSE9PTgmJmUhPT0yKXtpZih0eXBlb2Ygbi5nZXRBdHRyaWJ1dGU9PSJ1bmRlZmluZWQiKXJldHVybiBpLnByb3Aobix0LHIpO2lmKGU9PT0xJiZpLmlzWE1MRG9jKG4pfHwoZj1pLmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwoaS5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9oZjp1bmRlZmluZWQpKSxyIT09dW5kZWZpbmVkKXtpZihyPT09bnVsbCl7aS5yZW1vdmVBdHRyKG4sdCk7cmV0dXJufXJldHVybiBmJiYic2V0ImluIGYmJih1PWYuc2V0KG4scix0KSkhPT11bmRlZmluZWQ/dToobi5zZXRBdHRyaWJ1dGUodCxyKyIiKSxyKX1yZXR1cm4gZiYmImdldCJpbiBmJiYodT1mLmdldChuLHQpKSE9PW51bGw/dToodT1pLmZpbmQuYXR0cihuLHQpLHU9PW51bGw/dW5kZWZpbmVkOnUpfX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24obix0KXtpZighZS5yYWRpb1ZhbHVlJiZ0PT09InJhZGlvIiYmbChuLCJpbnB1dCIpKXt2YXIgaT1uLnZhbHVlO3JldHVybiBuLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksaSYmKG4udmFsdWU9aSksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihuLHQpe3ZhciBpLHU9MCxyPXQmJnQubWF0Y2goYSk7aWYociYmbi5ub2RlVHlwZT09PTEpd2hpbGUoaT1yW3UrK10pbi5yZW1vdmVBdHRyaWJ1dGUoaSl9fSk7aGY9e3NldDpmdW5jdGlvbihuLHQscil7cmV0dXJuIHQ9PT0hMT9pLnJlbW92ZUF0dHIobixyKTpuLnNldEF0dHJpYnV0ZShyLHIpLHJ9fTtpLmVhY2goaS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24obix0KXt2YXIgcj12dFt0XXx8aS5maW5kLmF0dHI7dnRbdF09ZnVuY3Rpb24obix0LGkpe3ZhciBmLGUsdT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIGl8fChlPXZ0W3VdLHZ0W3VdPWYsZj1yKG4sdCxpKSE9bnVsbD91Om51bGwsdnRbdV09ZSksZn19KTtjZj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pO2xmPS9eKD86YXxhcmVhKSQvaTtpLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihuLHQpe3JldHVybiB3KHRoaXMsaS5wcm9wLG4sdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tpLnByb3BGaXhbbl18fG5dfSl9fSk7aS5leHRlbmQoe3Byb3A6ZnVuY3Rpb24obix0LHIpe3ZhciBmLHUsZT1uLm5vZGVUeXBlO2lmKGUhPT0zJiZlIT09OCYmZSE9PTIpcmV0dXJuKGU9PT0xJiZpLmlzWE1MRG9jKG4pfHwodD1pLnByb3BGaXhbdF18fHQsdT1pLnByb3BIb29rc1t0XSksciE9PXVuZGVmaW5lZCk/dSYmInNldCJpbiB1JiYoZj11LnNldChuLHIsdCkpIT09dW5kZWZpbmVkP2Y6blt0XT1yOnUmJiJnZXQiaW4gdSYmKGY9dS5nZXQobix0KSkhPT1udWxsP2Y6blt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PWkuZmluZC5hdHRyKG4sInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6Y2YudGVzdChuLm5vZGVOYW1lKXx8bGYudGVzdChuLm5vZGVOYW1lKSYmbi5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSk7ZS5vcHRTZWxlY3RlZHx8KGkucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KTtpLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe2kucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTtpLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24obil7dmFyIGYscix0LGUsbyxoLHMsYz0wO2lmKHUobikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLmFkZENsYXNzKG4uY2FsbCh0aGlzLHQsdHQodGhpcykpKX0pO2lmKGY9aXIobiksZi5sZW5ndGgpd2hpbGUocj10aGlzW2MrK10paWYoZT10dChyKSx0PXIubm9kZVR5cGU9PT0xJiYiICIrbnQoZSkrIiAiLHQpe2ZvcihoPTA7bz1mW2grK107KXQuaW5kZXhPZigiICIrbysiICIpPDAmJih0Kz1vKyIgIik7cz1udCh0KTtlIT09cyYmci5zZXRBdHRyaWJ1dGUoImNsYXNzIixzKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24obil7dmFyIGYscix0LGUsbyxoLHMsYz0wO2lmKHUobikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLnJlbW92ZUNsYXNzKG4uY2FsbCh0aGlzLHQsdHQodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoZj1pcihuKSxmLmxlbmd0aCl3aGlsZShyPXRoaXNbYysrXSlpZihlPXR0KHIpLHQ9ci5ub2RlVHlwZT09PTEmJiIgIitudChlKSsiICIsdCl7Zm9yKGg9MDtvPWZbaCsrXTspd2hpbGUodC5pbmRleE9mKCIgIitvKyIgIik+LTEpdD10LnJlcGxhY2UoIiAiK28rIiAiLCIgIik7cz1udCh0KTtlIT09cyYmci5zZXRBdHRyaWJ1dGUoImNsYXNzIixzKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obix0KXt2YXIgZj10eXBlb2YgbixlPWY9PT0ic3RyaW5nInx8QXJyYXkuaXNBcnJheShuKTtyZXR1cm4gdHlwZW9mIHQ9PSJib29sZWFuIiYmZT90P3RoaXMuYWRkQ2xhc3Mobik6dGhpcy5yZW1vdmVDbGFzcyhuKTp1KG4pP3RoaXMuZWFjaChmdW5jdGlvbihyKXtpKHRoaXMpLnRvZ2dsZUNsYXNzKG4uY2FsbCh0aGlzLHIsdHQodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxvLHUscztpZihlKWZvcihvPTAsdT1pKHRoaXMpLHM9aXIobik7dD1zW28rK107KXUuaGFzQ2xhc3ModCk/dS5yZW1vdmVDbGFzcyh0KTp1LmFkZENsYXNzKHQpO2Vsc2Uobj09PXVuZGVmaW5lZHx8Zj09PSJib29sZWFuIikmJih0PXR0KHRoaXMpLHQmJnIuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHQpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHR8fG49PT0hMT8iIjpyLmdldCh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24obil7Zm9yKHZhciB0LHI9MCxpPSIgIituKyIgIjt0PXRoaXNbcisrXTspaWYodC5ub2RlVHlwZT09PTEmJigiICIrbnQodHQodCkpKyIgIikuaW5kZXhPZihpKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTthZj0vXHIvZztpLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKG4pe3ZhciB0LHIsZSxmPXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dShuKSx0aGlzLmVhY2goZnVuY3Rpb24ocil7dmFyIHU7dGhpcy5ub2RlVHlwZT09PTEmJih1PWU/bi5jYWxsKHRoaXMscixpKHRoaXMpLnZhbCgpKTpuLHU9PW51bGw/dT0iIjp0eXBlb2YgdT09Im51bWJlciI/dSs9IiI6QXJyYXkuaXNBcnJheSh1KSYmKHU9aS5tYXAodSxmdW5jdGlvbihuKXtyZXR1cm4gbj09bnVsbD8iIjpuKyIifSkpLHQ9aS52YWxIb29rc1t0aGlzLnR5cGVdfHxpLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sdCYmInNldCJpbiB0JiZ0LnNldCh0aGlzLHUsInZhbHVlIikhPT11bmRlZmluZWR8fCh0aGlzLnZhbHVlPXUpKX0pKTpmPyh0PWkudmFsSG9va3NbZi50eXBlXXx8aS52YWxIb29rc1tmLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLHQmJiJnZXQiaW4gdCYmKHI9dC5nZXQoZiwidmFsdWUiKSkhPT11bmRlZmluZWQpP3I6KHI9Zi52YWx1ZSx0eXBlb2Ygcj09InN0cmluZyIpP3IucmVwbGFjZShhZiwiIik6cj09bnVsbD8iIjpyOnZvaWQgMH19KTtpLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PWkuZmluZC5hdHRyKG4sInZhbHVlIik7cmV0dXJuIHQhPW51bGw/dDpudChpLnRleHQobikpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24obil7Zm9yKHZhciBlLHQsbz1uLm9wdGlvbnMsdT1uLnNlbGVjdGVkSW5kZXgsZj1uLnR5cGU9PT0ic2VsZWN0LW9uZSIscz1mP251bGw6W10saD1mP3UrMTpvLmxlbmd0aCxyPXU8MD9oOmY/dTowO3I8aDtyKyspaWYodD1vW3JdLCh0LnNlbGVjdGVkfHxyPT09dSkmJiF0LmRpc2FibGVkJiYoIXQucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWwodC5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoZT1pKHQpLnZhbCgpLGYpcmV0dXJuIGU7cy5wdXNoKGUpfXJldHVybiBzfSxzZXQ6ZnVuY3Rpb24obix0KXtmb3IodmFyIHUscixmPW4ub3B0aW9ucyxlPWkubWFrZUFycmF5KHQpLG89Zi5sZW5ndGg7by0tOylyPWZbb10sKHIuc2VsZWN0ZWQ9aS5pbkFycmF5KGkudmFsSG9va3Mub3B0aW9uLmdldChyKSxlKT4tMSkmJih1PSEwKTtyZXR1cm4gdXx8KG4uc2VsZWN0ZWRJbmRleD0tMSksZX19fX0pO2kuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe2kudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihuLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIG4uY2hlY2tlZD1pLmluQXJyYXkoaShuKS52YWwoKSx0KT4tMX19O2UuY2hlY2tPbnx8KGkudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKG4pe3JldHVybiBuLmdldEF0dHJpYnV0ZSgidmFsdWUiKT09PW51bGw/Im9uIjpuLnZhbHVlfSl9KTtlLmZvY3VzaW49Im9uZm9jdXNpbiJpbiBuO3JyPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLzt1cj1mdW5jdGlvbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpfTtpLmV4dGVuZChpLmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKHQsZSxvLHMpe3ZhciBrLGMsbCxkLHYseSxhLHcsYj1bb3x8Zl0saD1paS5jYWxsKHQsInR5cGUiKT90LnR5cGU6dCxwPWlpLmNhbGwodCwibmFtZXNwYWNlIik/dC5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZigoYz13PWw9bz1vfHxmLG8ubm9kZVR5cGUhPT0zJiZvLm5vZGVUeXBlIT09OCkmJiFyci50ZXN0KGgraS5ldmVudC50cmlnZ2VyZWQpJiYoaC5pbmRleE9mKCIuIik+LTEmJihwPWguc3BsaXQoIi4iKSxoPXAuc2hpZnQoKSxwLnNvcnQoKSksdj1oLmluZGV4T2YoIjoiKTwwJiYib24iK2gsdD10W2kuZXhwYW5kb10/dDpuZXcgaS5FdmVudChoLHR5cGVvZiB0PT0ib2JqZWN0IiYmdCksdC5pc1RyaWdnZXI9cz8yOjMsdC5uYW1lc3BhY2U9cC5qb2luKCIuIiksdC5ybmFtZXNwYWNlPXQubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Auam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCx0LnJlc3VsdD11bmRlZmluZWQsdC50YXJnZXR8fCh0LnRhcmdldD1vKSxlPWU9PW51bGw/W3RdOmkubWFrZUFycmF5KGUsW3RdKSxhPWkuZXZlbnQuc3BlY2lhbFtoXXx8e30sc3x8IWEudHJpZ2dlcnx8YS50cmlnZ2VyLmFwcGx5KG8sZSkhPT0hMSkpe2lmKCFzJiYhYS5ub0J1YmJsZSYmIWl0KG8pKXtmb3IoZD1hLmRlbGVnYXRlVHlwZXx8aCxyci50ZXN0KGQraCl8fChjPWMucGFyZW50Tm9kZSk7YztjPWMucGFyZW50Tm9kZSliLnB1c2goYyksbD1jO2w9PT0oby5vd25lckRvY3VtZW50fHxmKSYmYi5wdXNoKGwuZGVmYXVsdFZpZXd8fGwucGFyZW50V2luZG93fHxuKX1mb3Ioaz0wOyhjPWJbaysrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KXc9Yyx0LnR5cGU9az4xP2Q6YS5iaW5kVHlwZXx8aCx5PShyLmdldChjLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdC50eXBlXSYmci5nZXQoYywiaGFuZGxlIikseSYmeS5hcHBseShjLGUpLHk9diYmY1t2XSx5JiZ5LmFwcGx5JiZldChjKSYmKHQucmVzdWx0PXkuYXBwbHkoYyxlKSx0LnJlc3VsdD09PSExJiZ0LnByZXZlbnREZWZhdWx0KCkpO3JldHVybiB0LnR5cGU9aCxzfHx0LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoIWEuX2RlZmF1bHR8fGEuX2RlZmF1bHQuYXBwbHkoYi5wb3AoKSxlKT09PSExKSYmZXQobykmJnYmJnUob1toXSkmJiFpdChvKSYmKGw9b1t2XSxsJiYob1t2XT1udWxsKSxpLmV2ZW50LnRyaWdnZXJlZD1oLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmdy5hZGRFdmVudExpc3RlbmVyKGgsdXIpLG9baF0oKSx0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJncucmVtb3ZlRXZlbnRMaXN0ZW5lcihoLHVyKSxpLmV2ZW50LnRyaWdnZXJlZD11bmRlZmluZWQsbCYmKG9bdl09bCkpLHQucmVzdWx0fX0sc2ltdWxhdGU6ZnVuY3Rpb24obix0LHIpe3ZhciB1PWkuZXh0ZW5kKG5ldyBpLkV2ZW50LHIse3R5cGU6bixpc1NpbXVsYXRlZDohMH0pO2kuZXZlbnQudHJpZ2dlcih1LG51bGwsdCl9fSk7aS5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC50cmlnZ2VyKG4sdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihuLHQpe3ZhciByPXRoaXNbMF07aWYocilyZXR1cm4gaS5ldmVudC50cmlnZ2VyKG4sdCxyLCEwKX19KTtlLmZvY3VzaW58fGkuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24obix0KXt2YXIgdT1mdW5jdGlvbihuKXtpLmV2ZW50LnNpbXVsYXRlKHQsbi50YXJnZXQsaS5ldmVudC5maXgobikpfTtpLmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLmRvY3VtZW50fHx0aGlzLGY9ci5hY2Nlc3MoaSx0KTtmfHxpLmFkZEV2ZW50TGlzdGVuZXIobix1LCEwKTtyLmFjY2VzcyhpLHQsKGZ8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBpPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyxmPXIuYWNjZXNzKGksdCktMTtmP3IuYWNjZXNzKGksdCxmKTooaS5yZW1vdmVFdmVudExpc3RlbmVyKG4sdSwhMCksci5yZW1vdmUoaSx0KSl9fX0pO3ZhciBndD1uLmxvY2F0aW9uLHZmPXtndWlkOkRhdGUubm93KCl9LGZyPS9cPy87aS5wYXJzZVhNTD1mdW5jdGlvbih0KXt2YXIgcix1O2lmKCF0fHx0eXBlb2YgdCE9InN0cmluZyIpcmV0dXJuIG51bGw7dHJ5e3I9KG5ldyBuLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsInRleHQveG1sIil9Y2F0Y2goZil7fXJldHVybiB1PXImJnIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIilbMF0sKCFyfHx1KSYmaS5lcnJvcigiSW52YWxpZCBYTUw6ICIrKHU/aS5tYXAodS5jaGlsZE5vZGVzLGZ1bmN0aW9uKG4pe3JldHVybiBuLnRleHRDb250ZW50fSkuam9pbigiXG4iKTp0KSkscn07dmFyIGVvPS9cW1xdJC8seWY9L1xyP1xuL2csb289L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLHNvPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtpLnBhcmFtPWZ1bmN0aW9uKG4sdCl7dmFyIHIsZj1bXSxlPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dSh0KT90KCk6dDtmW2YubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQobikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChpPT1udWxsPyIiOmkpfTtpZihuPT1udWxsKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkobil8fG4uanF1ZXJ5JiYhaS5pc1BsYWluT2JqZWN0KG4pKWkuZWFjaChuLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihyIGluIG4pZXIocixuW3JdLHQsZSk7cmV0dXJuIGYuam9pbigiJiIpfTtpLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGkucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgbj1pLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gbj9pLm1ha2VBcnJheShuKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIG49dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFpKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmc28udGVzdCh0aGlzLm5vZGVOYW1lKSYmIW9vLnRlc3QobikmJih0aGlzLmNoZWNrZWR8fCFrdC50ZXN0KG4pKX0pLm1hcChmdW5jdGlvbihuLHQpe3ZhciByPWkodGhpcykudmFsKCk7cmV0dXJuIHI9PW51bGw/bnVsbDpBcnJheS5pc0FycmF5KHIpP2kubWFwKHIsZnVuY3Rpb24obil7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZSh5ZiwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpyLnJlcGxhY2UoeWYsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgaG89LyUyMC9nLGNvPS8jLiokLyxsbz0vKFs/Jl0pXz1bXiZdKi8sYW89L14oLio/KTpbIFx0XSooW15cclxuXSopJC9tZyx2bz0vXig/OkdFVHxIRUFEKSQvLHlvPS9eXC9cLy8scGY9e30sb3I9e30sd2Y9IiovIi5jb25jYXQoIioiKSxzcj1mLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gc3IuaHJlZj1ndC5ocmVmLGkuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpndC5ocmVmLHR5cGU6IkdFVCIsaXNMb2NhbDovXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLy50ZXN0KGd0LnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOndmLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi9cYnhtbFxiLyxodG1sOi9cYmh0bWwvLGpzb246L1xianNvblxiL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOkpTT04ucGFyc2UsInRleHQgeG1sIjppLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24obix0KXtyZXR1cm4gdD9ocihocihuLGkuYWpheFNldHRpbmdzKSx0KTpocihpLmFqYXhTZXR0aW5ncyxuKX0sYWpheFByZWZpbHRlcjpiZihwZiksYWpheFRyYW5zcG9ydDpiZihvciksYWpheDpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIGIodCxyLGYsbCl7dmFyIHYscnQsZyxwLGIsYT1yO3N8fChzPSEwLGQmJm4uY2xlYXJUaW1lb3V0KGQpLGM9dW5kZWZpbmVkLGs9bHx8IiIsZS5yZWFkeVN0YXRlPXQ+MD80OjAsdj10Pj0yMDAmJnQ8MzAwfHx0PT09MzA0LGYmJihwPXBvKHUsZSxmKSksIXYmJmkuaW5BcnJheSgic2NyaXB0Iix1LmRhdGFUeXBlcyk+LTEmJmkuaW5BcnJheSgianNvbiIsdS5kYXRhVHlwZXMpPDAmJih1LmNvbnZlcnRlcnNbInRleHQgc2NyaXB0Il09ZnVuY3Rpb24oKXt9KSxwPXdvKHUscCxlLHYpLHY/KHUuaWZNb2RpZmllZCYmKGI9ZS5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLGImJihpLmxhc3RNb2RpZmllZFtvXT1iKSxiPWUuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSxiJiYoaS5ldGFnW29dPWIpKSx0PT09MjA0fHx1LnR5cGU9PT0iSEVBRCI/YT0ibm9jb250ZW50Ijp0PT09MzA0P2E9Im5vdG1vZGlmaWVkIjooYT1wLnN0YXRlLHJ0PXAuZGF0YSxnPXAuZXJyb3Isdj0hZykpOihnPWEsKHR8fCFhKSYmKGE9ImVycm9yIix0PDAmJih0PTApKSksZS5zdGF0dXM9dCxlLnN0YXR1c1RleHQ9KHJ8fGEpKyIiLHY/dHQucmVzb2x2ZVdpdGgoaCxbcnQsYSxlXSk6dHQucmVqZWN0V2l0aChoLFtlLGEsZ10pLGUuc3RhdHVzQ29kZSh3KSx3PXVuZGVmaW5lZCx5JiZudC50cmlnZ2VyKHY/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbZSx1LHY/cnQ6Z10pLGl0LmZpcmVXaXRoKGgsW2UsYV0pLHkmJihudC50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtlLHVdKSwtLWkuYWN0aXZlfHxpLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX10eXBlb2YgdD09Im9iamVjdCImJihyPXQsdD11bmRlZmluZWQpO3I9cnx8e307dmFyIGMsbyxrLHYsZCxsLHMseSxnLHAsdT1pLmFqYXhTZXR1cCh7fSxyKSxoPXUuY29udGV4dHx8dSxudD11LmNvbnRleHQmJihoLm5vZGVUeXBlfHxoLmpxdWVyeSk/aShoKTppLmV2ZW50LHR0PWkuRGVmZXJyZWQoKSxpdD1pLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXUuc3RhdHVzQ29kZXx8e30scnQ9e30sdXQ9e30sZnQ9ImNhbmNlbGVkIixlPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24obil7dmFyIHQ7aWYocyl7aWYoIXYpZm9yKHY9e307dD1hby5leGVjKGspOyl2W3RbMV0udG9Mb3dlckNhc2UoKSsiICJdPSh2W3RbMV0udG9Mb3dlckNhc2UoKSsiICJdfHxbXSkuY29uY2F0KHRbMl0pO3Q9dltuLnRvTG93ZXJDYXNlKCkrIiAiXX1yZXR1cm4gdD09bnVsbD9udWxsOnQuam9pbigiLCAiKX0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHM/azpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHM9PW51bGwmJihuPXV0W24udG9Mb3dlckNhc2UoKV09dXRbbi50b0xvd2VyQ2FzZSgpXXx8bixydFtuXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKG4pe3JldHVybiBzPT1udWxsJiYodS5taW1lVHlwZT1uKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKG4pe3ZhciB0O2lmKG4paWYocyllLmFsd2F5cyhuW2Uuc3RhdHVzXSk7ZWxzZSBmb3IodCBpbiBuKXdbdF09W3dbdF0sblt0XV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKG4pe3ZhciB0PW58fGZ0O3JldHVybiBjJiZjLmFib3J0KHQpLGIoMCx0KSx0aGlzfX07aWYodHQucHJvbWlzZShlKSx1LnVybD0oKHR8fHUudXJsfHxndC5ocmVmKSsiIikucmVwbGFjZSh5byxndC5wcm90b2NvbCsiLy8iKSx1LnR5cGU9ci5tZXRob2R8fHIudHlwZXx8dS5tZXRob2R8fHUudHlwZSx1LmRhdGFUeXBlcz0odS5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKGEpfHxbIiJdLHUuY3Jvc3NEb21haW49PW51bGwpe2w9Zi5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e2wuaHJlZj11LnVybDtsLmhyZWY9bC5ocmVmO3UuY3Jvc3NEb21haW49c3IucHJvdG9jb2wrIi8vIitzci5ob3N0IT1sLnByb3RvY29sKyIvLyIrbC5ob3N0fWNhdGNoKGV0KXt1LmNyb3NzRG9tYWluPSEwfX1pZih1LmRhdGEmJnUucHJvY2Vzc0RhdGEmJnR5cGVvZiB1LmRhdGEhPSJzdHJpbmciJiYodS5kYXRhPWkucGFyYW0odS5kYXRhLHUudHJhZGl0aW9uYWwpKSxrZihwZix1LHIsZSkscylyZXR1cm4gZTt5PWkuZXZlbnQmJnUuZ2xvYmFsO3kmJmkuYWN0aXZlKys9PTAmJmkuZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0Iik7dS50eXBlPXUudHlwZS50b1VwcGVyQ2FzZSgpO3UuaGFzQ29udGVudD0hdm8udGVzdCh1LnR5cGUpO289dS51cmwucmVwbGFjZShjbywiIik7dS5oYXNDb250ZW50P3UuZGF0YSYmdS5wcm9jZXNzRGF0YSYmKHUuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKT09PTAmJih1LmRhdGE9dS5kYXRhLnJlcGxhY2UoaG8sIisiKSk6KHA9dS51cmwuc2xpY2Uoby5sZW5ndGgpLHUuZGF0YSYmKHUucHJvY2Vzc0RhdGF8fHR5cGVvZiB1LmRhdGE9PSJzdHJpbmciKSYmKG8rPShmci50ZXN0KG8pPyImIjoiPyIpK3UuZGF0YSxkZWxldGUgdS5kYXRhKSx1LmNhY2hlPT09ITEmJihvPW8ucmVwbGFjZShsbywiJDEiKSxwPShmci50ZXN0KG8pPyImIjoiPyIpKyJfPSIrdmYuZ3VpZCsrK3ApLHUudXJsPW8rcCk7dS5pZk1vZGlmaWVkJiYoaS5sYXN0TW9kaWZpZWRbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGkubGFzdE1vZGlmaWVkW29dKSxpLmV0YWdbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsaS5ldGFnW29dKSk7KHUuZGF0YSYmdS5oYXNDb250ZW50JiZ1LmNvbnRlbnRUeXBlIT09ITF8fHIuY29udGVudFR5cGUpJiZlLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdS5jb250ZW50VHlwZSk7ZS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLHUuZGF0YVR5cGVzWzBdJiZ1LmFjY2VwdHNbdS5kYXRhVHlwZXNbMF1dP3UuYWNjZXB0c1t1LmRhdGFUeXBlc1swXV0rKHUuZGF0YVR5cGVzWzBdIT09IioiPyIsICIrd2YrIjsgcT0wLjAxIjoiIik6dS5hY2NlcHRzWyIqIl0pO2ZvcihnIGluIHUuaGVhZGVycyllLnNldFJlcXVlc3RIZWFkZXIoZyx1LmhlYWRlcnNbZ10pO2lmKHUuYmVmb3JlU2VuZCYmKHUuYmVmb3JlU2VuZC5jYWxsKGgsZSx1KT09PSExfHxzKSlyZXR1cm4gZS5hYm9ydCgpO2lmKGZ0PSJhYm9ydCIsaXQuYWRkKHUuY29tcGxldGUpLGUuZG9uZSh1LnN1Y2Nlc3MpLGUuZmFpbCh1LmVycm9yKSxjPWtmKG9yLHUscixlKSxjKXtpZihlLnJlYWR5U3RhdGU9MSx5JiZudC50cmlnZ2VyKCJhamF4U2VuZCIsW2UsdV0pLHMpcmV0dXJuIGU7dS5hc3luYyYmdS50aW1lb3V0PjAmJihkPW4uc2V0VGltZW91dChmdW5jdGlvbigpe2UuYWJvcnQoInRpbWVvdXQiKX0sdS50aW1lb3V0KSk7dHJ5e3M9ITE7Yy5zZW5kKHJ0LGIpfWNhdGNoKGV0KXtpZihzKXRocm93IGV0O2IoLTEsZXQpfX1lbHNlIGIoLTEsIk5vIFRyYW5zcG9ydCIpO3JldHVybiBlfSxnZXRKU09OOmZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaS5nZXQobix0LHIsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIGkuZ2V0KG4sdW5kZWZpbmVkLHQsInNjcmlwdCIpfX0pLGkuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihuLHQpe2lbdF09ZnVuY3Rpb24obixyLGYsZSl7cmV0dXJuIHUocikmJihlPWV8fGYsZj1yLHI9dW5kZWZpbmVkKSxpLmFqYXgoaS5leHRlbmQoe3VybDpuLHR5cGU6dCxkYXRhVHlwZTplLGRhdGE6cixzdWNjZXNzOmZ9LGkuaXNQbGFpbk9iamVjdChuKSYmbikpfX0pLGkuYWpheFByZWZpbHRlcihmdW5jdGlvbihuKXtmb3IodmFyIHQgaW4gbi5oZWFkZXJzKXQudG9Mb3dlckNhc2UoKT09PSJjb250ZW50LXR5cGUiJiYobi5jb250ZW50VHlwZT1uLmhlYWRlcnNbdF18fCIiKX0pLGkuX2V2YWxVcmw9ZnVuY3Rpb24obix0LHIpe3JldHVybiBpLmFqYXgoe3VybDpuLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKG4pe2kuZ2xvYmFsRXZhbChuLHQscil9fSl9LGkuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiB0aGlzWzBdJiYodShuKSYmKG49bi5jYWxsKHRoaXNbMF0pKSx0PWkobix0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXRoaXM7bi5maXJzdEVsZW1lbnRDaGlsZDspbj1uLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBufSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24obil7cmV0dXJuIHUobik/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2kodGhpcykud3JhcElubmVyKG4uY2FsbCh0aGlzLHQpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PWkodGhpcykscj10LmNvbnRlbnRzKCk7ci5sZW5ndGg/ci53cmFwQWxsKG4pOnQuYXBwZW5kKG4pfSl9LHdyYXA6ZnVuY3Rpb24obil7dmFyIHQ9dShuKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHIpe2kodGhpcykud3JhcEFsbCh0P24uY2FsbCh0aGlzLHIpOm4pfSl9LHVud3JhcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wYXJlbnQobikubm90KCJib2R5IikuZWFjaChmdW5jdGlvbigpe2kodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLHRoaXN9fSksaS5leHByLnBzZXVkb3MuaGlkZGVuPWZ1bmN0aW9uKG4pe3JldHVybiFpLmV4cHIucHNldWRvcy52aXNpYmxlKG4pfSxpLmV4cHIucHNldWRvcy52aXNpYmxlPWZ1bmN0aW9uKG4pe3JldHVybiEhKG4ub2Zmc2V0V2lkdGh8fG4ub2Zmc2V0SGVpZ2h0fHxuLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKX0saS5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgbi5YTUxIdHRwUmVxdWVzdH1jYXRjaCh0KXt9fSxkZj17MDoyMDAsMTIyMzoyMDR9LHl0PWkuYWpheFNldHRpbmdzLnhocigpLGUuY29ycz0hIXl0JiYid2l0aENyZWRlbnRpYWxzImluIHl0LGUuYWpheD15dD0hIXl0LGkuYWpheFRyYW5zcG9ydChmdW5jdGlvbih0KXt2YXIgaSxyO2lmKGUuY29yc3x8eXQmJiF0LmNyb3NzRG9tYWluKXJldHVybntzZW5kOmZ1bmN0aW9uKHUsZil7dmFyIG8sZT10LnhocigpO2lmKGUub3Blbih0LnR5cGUsdC51cmwsdC5hc3luYyx0LnVzZXJuYW1lLHQucGFzc3dvcmQpLHQueGhyRmllbGRzKWZvcihvIGluIHQueGhyRmllbGRzKWVbb109dC54aHJGaWVsZHNbb107dC5taW1lVHlwZSYmZS5vdmVycmlkZU1pbWVUeXBlJiZlLm92ZXJyaWRlTWltZVR5cGUodC5taW1lVHlwZSk7dC5jcm9zc0RvbWFpbnx8dVsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwodVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO2ZvcihvIGluIHUpZS5zZXRSZXF1ZXN0SGVhZGVyKG8sdVtvXSk7aT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtpJiYoaT1yPWUub25sb2FkPWUub25lcnJvcj1lLm9uYWJvcnQ9ZS5vbnRpbWVvdXQ9ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxuPT09ImFib3J0Ij9lLmFib3J0KCk6bj09PSJlcnJvciI/dHlwZW9mIGUuc3RhdHVzIT0ibnVtYmVyIj9mKDAsImVycm9yIik6ZihlLnN0YXR1cyxlLnN0YXR1c1RleHQpOmYoZGZbZS5zdGF0dXNdfHxlLnN0YXR1cyxlLnN0YXR1c1RleHQsKGUucmVzcG9uc2VUeXBlfHwidGV4dCIpIT09InRleHQifHx0eXBlb2YgZS5yZXNwb25zZVRleHQhPSJzdHJpbmciP3tiaW5hcnk6ZS5yZXNwb25zZX06e3RleHQ6ZS5yZXNwb25zZVRleHR9LGUuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19O2Uub25sb2FkPWkoKTtyPWUub25lcnJvcj1lLm9udGltZW91dD1pKCJlcnJvciIpO2Uub25hYm9ydCE9PXVuZGVmaW5lZD9lLm9uYWJvcnQ9cjplLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2UucmVhZHlTdGF0ZT09PTQmJm4uc2V0VGltZW91dChmdW5jdGlvbigpe2kmJnIoKX0pfTtpPWkoImFib3J0Iik7dHJ5e2Uuc2VuZCh0Lmhhc0NvbnRlbnQmJnQuZGF0YXx8bnVsbCl9Y2F0Y2gocyl7aWYoaSl0aHJvdyBzO319LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KSxpLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24obil7bi5jcm9zc0RvbWFpbiYmKG4uY29udGVudHMuc2NyaXB0PSExKX0pLGkuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKG4pe3JldHVybiBpLmdsb2JhbEV2YWwobiksbn19fSksaS5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKG4pe24uY2FjaGU9PT11bmRlZmluZWQmJihuLmNhY2hlPSExKTtuLmNyb3NzRG9tYWluJiYobi50eXBlPSJHRVQiKX0pLGkuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihuKXtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXt2YXIgcix0O3JldHVybntzZW5kOmZ1bmN0aW9uKHUsZSl7cj1pKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIix0PWZ1bmN0aW9uKG4pe3IucmVtb3ZlKCk7dD1udWxsO24mJmUobi50eXBlPT09ImVycm9yIj80MDQ6MjAwLG4udHlwZSl9KTtmLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7dCYmdCgpfX19fSksY3I9W10sY2k9Lyg9KVw/KD89JnwkKXxcP1w/LyxpLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIG49Y3IucG9wKCl8fGkuZXhwYW5kbysiXyIrdmYuZ3VpZCsrO3JldHVybiB0aGlzW25dPSEwLG59fSksaS5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbih0LHIsZil7dmFyIGUsbyxzLGg9dC5qc29ucCE9PSExJiYoY2kudGVzdCh0LnVybCk/InVybCI6dHlwZW9mIHQuZGF0YT09InN0cmluZyImJih0LmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIik9PT0wJiZjaS50ZXN0KHQuZGF0YSkmJiJkYXRhIik7aWYoaHx8dC5kYXRhVHlwZXNbMF09PT0ianNvbnAiKXJldHVybiBlPXQuanNvbnBDYWxsYmFjaz11KHQuanNvbnBDYWxsYmFjayk/dC5qc29ucENhbGxiYWNrKCk6dC5qc29ucENhbGxiYWNrLGg/dFtoXT10W2hdLnJlcGxhY2UoY2ksIiQxIitlKTp0Lmpzb25wIT09ITEmJih0LnVybCs9KGZyLnRlc3QodC51cmwpPyImIjoiPyIpK3QuanNvbnArIj0iK2UpLHQuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBzfHxpLmVycm9yKGUrIiB3YXMgbm90IGNhbGxlZCIpLHNbMF19LHQuZGF0YVR5cGVzWzBdPSJqc29uIixvPW5bZV0sbltlXT1mdW5jdGlvbigpe3M9YXJndW1lbnRzfSxmLmFsd2F5cyhmdW5jdGlvbigpe289PT11bmRlZmluZWQ/aShuKS5yZW1vdmVQcm9wKGUpOm5bZV09bzt0W2VdJiYodC5qc29ucENhbGxiYWNrPXIuanNvbnBDYWxsYmFjayxjci5wdXNoKGUpKTtzJiZ1KG8pJiZvKHNbMF0pO3M9bz11bmRlZmluZWR9KSwic2NyaXB0In0pLGUuY3JlYXRlSFRNTERvY3VtZW50PWZ1bmN0aW9uKCl7dmFyIG49Zi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHk7cmV0dXJuIG4uaW5uZXJIVE1MPSI8Zm9ybT48XC9mb3JtPjxmb3JtPjxcL2Zvcm0+IixuLmNoaWxkTm9kZXMubGVuZ3RoPT09Mn0oKSxpLnBhcnNlSFRNTD1mdW5jdGlvbihuLHQscil7aWYodHlwZW9mIG4hPSJzdHJpbmciKXJldHVybltdO3R5cGVvZiB0PT0iYm9vbGVhbiImJihyPXQsdD0hMSk7dmFyIHMsdSxvO3JldHVybih0fHwoZS5jcmVhdGVIVE1MRG9jdW1lbnQ/KHQ9Zi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLHM9dC5jcmVhdGVFbGVtZW50KCJiYXNlIikscy5ocmVmPWYubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocykpOnQ9ZiksdT12aS5leGVjKG4pLG89IXImJltdLHUpP1t0LmNyZWF0ZUVsZW1lbnQodVsxXSldOih1PWF1KFtuXSx0LG8pLG8mJm8ubGVuZ3RoJiZpKG8pLnJlbW92ZSgpLGkubWVyZ2UoW10sdS5jaGlsZE5vZGVzKSl9LGkuZm4ubG9hZD1mdW5jdGlvbihuLHQscil7dmFyIGYscyxoLGU9dGhpcyxvPW4uaW5kZXhPZigiICIpO3JldHVybiBvPi0xJiYoZj1udChuLnNsaWNlKG8pKSxuPW4uc2xpY2UoMCxvKSksdSh0KT8ocj10LHQ9dW5kZWZpbmVkKTp0JiZ0eXBlb2YgdD09Im9iamVjdCImJihzPSJQT1NUIiksZS5sZW5ndGg+MCYmaS5hamF4KHt1cmw6bix0eXBlOnN8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKG4pe2g9YXJndW1lbnRzO2UuaHRtbChmP2koIjxkaXY+IikuYXBwZW5kKGkucGFyc2VIVE1MKG4pKS5maW5kKGYpOm4pfSkuYWx3YXlzKHImJmZ1bmN0aW9uKG4sdCl7ZS5lYWNoKGZ1bmN0aW9uKCl7ci5hcHBseSh0aGlzLGh8fFtuLnJlc3BvbnNlVGV4dCx0LG5dKX0pfSksdGhpc30saS5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24obil7cmV0dXJuIGkuZ3JlcChpLnRpbWVycyxmdW5jdGlvbih0KXtyZXR1cm4gbj09PXQuZWxlbX0pLmxlbmd0aH0saS5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihuLHQscil7dmFyIG8scyxoLGMsZixsLHksYT1pLmNzcyhuLCJwb3NpdGlvbiIpLHY9aShuKSxlPXt9O2E9PT0ic3RhdGljIiYmKG4uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7Zj12Lm9mZnNldCgpO2g9aS5jc3MobiwidG9wIik7bD1pLmNzcyhuLCJsZWZ0Iik7eT0oYT09PSJhYnNvbHV0ZSJ8fGE9PT0iZml4ZWQiKSYmKGgrbCkuaW5kZXhPZigiYXV0byIpPi0xO3k/KG89di5wb3NpdGlvbigpLGM9by50b3Ascz1vLmxlZnQpOihjPXBhcnNlRmxvYXQoaCl8fDAscz1wYXJzZUZsb2F0KGwpfHwwKTt1KHQpJiYodD10LmNhbGwobixyLGkuZXh0ZW5kKHt9LGYpKSk7dC50b3AhPW51bGwmJihlLnRvcD10LnRvcC1mLnRvcCtjKTt0LmxlZnQhPW51bGwmJihlLmxlZnQ9dC5sZWZ0LWYubGVmdCtzKTsidXNpbmciaW4gdD90LnVzaW5nLmNhbGwobixlKTp2LmNzcyhlKX19LGkuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24obil7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbj09PXVuZGVmaW5lZD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbih0KXtpLm9mZnNldC5zZXRPZmZzZXQodGhpcyxuLHQpfSk7dmFyIHIsdSx0PXRoaXNbMF07aWYodClyZXR1cm4gdC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8ocj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHU9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LHt0b3A6ci50b3ArdS5wYWdlWU9mZnNldCxsZWZ0OnIubGVmdCt1LnBhZ2VYT2Zmc2V0fSk6e3RvcDowLGxlZnQ6MH19LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIG4sdSxmLHQ9dGhpc1swXSxyPXt0b3A6MCxsZWZ0OjB9O2lmKGkuY3NzKHQsInBvc2l0aW9uIik9PT0iZml4ZWQiKXU9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle2Zvcih1PXRoaXMub2Zmc2V0KCksZj10Lm93bmVyRG9jdW1lbnQsbj10Lm9mZnNldFBhcmVudHx8Zi5kb2N1bWVudEVsZW1lbnQ7biYmKG49PT1mLmJvZHl8fG49PT1mLmRvY3VtZW50RWxlbWVudCkmJmkuY3NzKG4sInBvc2l0aW9uIik9PT0ic3RhdGljIjspbj1uLnBhcmVudE5vZGU7biYmbiE9PXQmJm4ubm9kZVR5cGU9PT0xJiYocj1pKG4pLm9mZnNldCgpLHIudG9wKz1pLmNzcyhuLCJib3JkZXJUb3BXaWR0aCIsITApLHIubGVmdCs9aS5jc3MobiwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpfXJldHVybnt0b3A6dS50b3Atci50b3AtaS5jc3ModCwibWFyZ2luVG9wIiwhMCksbGVmdDp1LmxlZnQtci5sZWZ0LWkuY3NzKHQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIG49dGhpcy5vZmZzZXRQYXJlbnQ7biYmaS5jc3MobiwicG9zaXRpb24iKT09PSJzdGF0aWMiOyluPW4ub2Zmc2V0UGFyZW50O3JldHVybiBufHxnfSl9fSksaS5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKG4sdCl7dmFyIHI9InBhZ2VZT2Zmc2V0Ij09PXQ7aS5mbltuXT1mdW5jdGlvbihpKXtyZXR1cm4gdyh0aGlzLGZ1bmN0aW9uKG4saSx1KXt2YXIgZjtpZihpdChuKT9mPW46bi5ub2RlVHlwZT09PTkmJihmPW4uZGVmYXVsdFZpZXcpLHU9PT11bmRlZmluZWQpcmV0dXJuIGY/Zlt0XTpuW2ldO2Y/Zi5zY3JvbGxUbyhyP2YucGFnZVhPZmZzZXQ6dSxyP3U6Zi5wYWdlWU9mZnNldCk6bltpXT11fSxuLGksYXJndW1lbnRzLmxlbmd0aCl9fSksaS5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKG4sdCl7aS5jc3NIb29rc1t0XT1idShlLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24obixyKXtpZihyKXJldHVybiByPWR0KG4sdCksZGkudGVzdChyKT9pKG4pLnBvc2l0aW9uKClbdF0rInB4IjpyfSl9KSxpLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihuLHQpe2kuZWFjaCh7cGFkZGluZzoiaW5uZXIiK24sY29udGVudDp0LCIiOiJvdXRlciIrbn0sZnVuY3Rpb24ocix1KXtpLmZuW3VdPWZ1bmN0aW9uKGYsZSl7dmFyIG89YXJndW1lbnRzLmxlbmd0aCYmKHJ8fHR5cGVvZiBmIT0iYm9vbGVhbiIpLHM9cnx8KGY9PT0hMHx8ZT09PSEwPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gdyh0aGlzLGZ1bmN0aW9uKHQscixmKXt2YXIgZTtyZXR1cm4gaXQodCk/dS5pbmRleE9mKCJvdXRlciIpPT09MD90WyJpbm5lciIrbl06dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrbl06dC5ub2RlVHlwZT09PTk/KGU9dC5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgodC5ib2R5WyJzY3JvbGwiK25dLGVbInNjcm9sbCIrbl0sdC5ib2R5WyJvZmZzZXQiK25dLGVbIm9mZnNldCIrbl0sZVsiY2xpZW50IituXSkpOmY9PT11bmRlZmluZWQ/aS5jc3ModCxyLHMpOmkuc3R5bGUodCxyLGYscyl9LHQsbz9mOnVuZGVmaW5lZCxvKX19KX0pLGkuZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKG4sdCl7aS5mblt0XT1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5vbih0LG4pfX0pLGkuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5vbihuLG51bGwsdCxpKX0sdW5iaW5kOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub2ZmKG4sbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIHRoaXMub24odCxuLGkscil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24obix0LGkpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPT09MT90aGlzLm9mZihuLCIqKiIpOnRoaXMub2ZmKHQsbnx8IioqIixpKX0saG92ZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKG4pLm1vdXNlbGVhdmUodHx8bil9fSksaS5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7aS5mblt0XT1mdW5jdGlvbihuLGkpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbih0LG51bGwsbixpKTp0aGlzLnRyaWdnZXIodCl9fSksZ2Y9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLGkucHJveHk9ZnVuY3Rpb24obix0KXt2YXIgZixlLHI7cmV0dXJuKHR5cGVvZiB0PT0ic3RyaW5nIiYmKGY9blt0XSx0PW4sbj1mKSwhdShuKSk/dW5kZWZpbmVkOihlPWsuY2FsbChhcmd1bWVudHMsMikscj1mdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHR8fHRoaXMsZS5jb25jYXQoay5jYWxsKGFyZ3VtZW50cykpKX0sci5ndWlkPW4uZ3VpZD1uLmd1aWR8fGkuZ3VpZCsrLHIpfSxpLmhvbGRSZWFkeT1mdW5jdGlvbihuKXtuP2kucmVhZHlXYWl0Kys6aS5yZWFkeSghMCl9LGkuaXNBcnJheT1BcnJheS5pc0FycmF5LGkucGFyc2VKU09OPUpTT04ucGFyc2UsaS5ub2RlTmFtZT1sLGkuaXNGdW5jdGlvbj11LGkuaXNXaW5kb3c9aXQsaS5jYW1lbENhc2U9eSxpLnR5cGU9cnQsaS5ub3c9RGF0ZS5ub3csaS5pc051bWVyaWM9ZnVuY3Rpb24obil7dmFyIHQ9aS50eXBlKG4pO3JldHVybih0PT09Im51bWJlciJ8fHQ9PT0ic3RyaW5nIikmJiFpc05hTihuLXBhcnNlRmxvYXQobikpfSxpLnRyaW09ZnVuY3Rpb24obil7cmV0dXJuIG49PW51bGw/IiI6KG4rIiIpLnJlcGxhY2UoZ2YsIiIpfSx0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gaX0pLG5lPW4ualF1ZXJ5LHRlPW4uJCxpLm5vQ29uZmxpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG4uJD09PWkmJihuLiQ9dGUpLHQmJm4ualF1ZXJ5PT09aSYmKG4ualF1ZXJ5PW5lKSxpfSx0eXBlb2YgdD09InVuZGVmaW5lZCImJihuLmpRdWVyeT1uLiQ9aSksaX0pOyFmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxuKToidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlKCJqcXVlcnkiKSk6bihqUXVlcnkpfShmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIHQ9d2luZG93LlNsaWNrfHx7fTsodD1mdW5jdGlvbigpe3ZhciB0PTA7cmV0dXJuIGZ1bmN0aW9uKGkscil7dmFyIGYsdT10aGlzO3UuZGVmYXVsdHM9e2FjY2Vzc2liaWxpdHk6ITAsYWRhcHRpdmVIZWlnaHQ6ITEsYXBwZW5kQXJyb3dzOm4oaSksYXBwZW5kRG90czpuKGkpLGFycm93czohMCxhc05hdkZvcjpudWxsLHByZXZBcnJvdzonPGJ1dHRvbiBjbGFzcz0ic2xpY2stcHJldiIgYXJpYS1sYWJlbD0iUHJldmlvdXMiIHR5cGU9ImJ1dHRvbiI+UHJldmlvdXM8XC9idXR0b24+JyxuZXh0QXJyb3c6JzxidXR0b24gY2xhc3M9InNsaWNrLW5leHQiIGFyaWEtbGFiZWw9Ik5leHQiIHR5cGU9ImJ1dHRvbiI+TmV4dDxcL2J1dHRvbj4nLGF1dG9wbGF5OiExLGF1dG9wbGF5U3BlZWQ6M2UzLGNlbnRlck1vZGU6ITEsY2VudGVyUGFkZGluZzoiNTBweCIsY3NzRWFzZToiZWFzZSIsY3VzdG9tUGFnaW5nOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4oJzxidXR0b24gdHlwZT0iYnV0dG9uIiAvPicpLnRleHQoaSsxKX0sZG90czohMSxkb3RzQ2xhc3M6InNsaWNrLWRvdHMiLGRyYWdnYWJsZTohMCxlYXNpbmc6ImxpbmVhciIsZWRnZUZyaWN0aW9uOi4zNSxmYWRlOiExLGZvY3VzT25TZWxlY3Q6ITEsZm9jdXNPbkNoYW5nZTohMSxpbmZpbml0ZTohMCxpbml0aWFsU2xpZGU6MCxsYXp5TG9hZDoib25kZW1hbmQiLG1vYmlsZUZpcnN0OiExLHBhdXNlT25Ib3ZlcjohMCxwYXVzZU9uRm9jdXM6ITAscGF1c2VPbkRvdHNIb3ZlcjohMSxyZXNwb25kVG86IndpbmRvdyIscmVzcG9uc2l2ZTpudWxsLHJvd3M6MSxydGw6ITEsc2xpZGU6IiIsc2xpZGVzUGVyUm93OjEsc2xpZGVzVG9TaG93OjEsc2xpZGVzVG9TY3JvbGw6MSxzcGVlZDo1MDAsc3dpcGU6ITAsc3dpcGVUb1NsaWRlOiExLHRvdWNoTW92ZTohMCx0b3VjaFRocmVzaG9sZDo1LHVzZUNTUzohMCx1c2VUcmFuc2Zvcm06ITAsdmFyaWFibGVXaWR0aDohMSx2ZXJ0aWNhbDohMSx2ZXJ0aWNhbFN3aXBpbmc6ITEsd2FpdEZvckFuaW1hdGU6ITAsekluZGV4OjFlM307dS5pbml0aWFscz17YW5pbWF0aW5nOiExLGRyYWdnaW5nOiExLGF1dG9QbGF5VGltZXI6bnVsbCxjdXJyZW50RGlyZWN0aW9uOjAsY3VycmVudExlZnQ6bnVsbCxjdXJyZW50U2xpZGU6MCxkaXJlY3Rpb246MSwkZG90czpudWxsLGxpc3RXaWR0aDpudWxsLGxpc3RIZWlnaHQ6bnVsbCxsb2FkSW5kZXg6MCwkbmV4dEFycm93Om51bGwsJHByZXZBcnJvdzpudWxsLHNjcm9sbGluZzohMSxzbGlkZUNvdW50Om51bGwsc2xpZGVXaWR0aDpudWxsLCRzbGlkZVRyYWNrOm51bGwsJHNsaWRlczpudWxsLHNsaWRpbmc6ITEsc2xpZGVPZmZzZXQ6MCxzd2lwZUxlZnQ6bnVsbCxzd2lwaW5nOiExLCRsaXN0Om51bGwsdG91Y2hPYmplY3Q6e30sdHJhbnNmb3Jtc0VuYWJsZWQ6ITEsdW5zbGlja2VkOiExfTtuLmV4dGVuZCh1LHUuaW5pdGlhbHMpO3UuYWN0aXZlQnJlYWtwb2ludD1udWxsO3UuYW5pbVR5cGU9bnVsbDt1LmFuaW1Qcm9wPW51bGw7dS5icmVha3BvaW50cz1bXTt1LmJyZWFrcG9pbnRTZXR0aW5ncz1bXTt1LmNzc1RyYW5zaXRpb25zPSExO3UuZm9jdXNzZWQ9ITE7dS5pbnRlcnJ1cHRlZD0hMTt1LmhpZGRlbj0iaGlkZGVuIjt1LnBhdXNlZD0hMDt1LnBvc2l0aW9uUHJvcD1udWxsO3UucmVzcG9uZFRvPW51bGw7dS5yb3dDb3VudD0xO3Uuc2hvdWxkQ2xpY2s9ITA7dS4kc2xpZGVyPW4oaSk7dS4kc2xpZGVzQ2FjaGU9bnVsbDt1LnRyYW5zZm9ybVR5cGU9bnVsbDt1LnRyYW5zaXRpb25UeXBlPW51bGw7dS52aXNpYmlsaXR5Q2hhbmdlPSJ2aXNpYmlsaXR5Y2hhbmdlIjt1LndpbmRvd1dpZHRoPTA7dS53aW5kb3dUaW1lcj1udWxsO2Y9bihpKS5kYXRhKCJzbGljayIpfHx7fTt1Lm9wdGlvbnM9bi5leHRlbmQoe30sdS5kZWZhdWx0cyxyLGYpO3UuY3VycmVudFNsaWRlPXUub3B0aW9ucy5pbml0aWFsU2xpZGU7dS5vcmlnaW5hbFNldHRpbmdzPXUub3B0aW9uczt2b2lkIDAhPT1kb2N1bWVudC5tb3pIaWRkZW4/KHUuaGlkZGVuPSJtb3pIaWRkZW4iLHUudmlzaWJpbGl0eUNoYW5nZT0ibW96dmlzaWJpbGl0eWNoYW5nZSIpOnZvaWQgMCE9PWRvY3VtZW50LndlYmtpdEhpZGRlbiYmKHUuaGlkZGVuPSJ3ZWJraXRIaWRkZW4iLHUudmlzaWJpbGl0eUNoYW5nZT0id2Via2l0dmlzaWJpbGl0eWNoYW5nZSIpO3UuYXV0b1BsYXk9bi5wcm94eSh1LmF1dG9QbGF5LHUpO3UuYXV0b1BsYXlDbGVhcj1uLnByb3h5KHUuYXV0b1BsYXlDbGVhcix1KTt1LmF1dG9QbGF5SXRlcmF0b3I9bi5wcm94eSh1LmF1dG9QbGF5SXRlcmF0b3IsdSk7dS5jaGFuZ2VTbGlkZT1uLnByb3h5KHUuY2hhbmdlU2xpZGUsdSk7dS5jbGlja0hhbmRsZXI9bi5wcm94eSh1LmNsaWNrSGFuZGxlcix1KTt1LnNlbGVjdEhhbmRsZXI9bi5wcm94eSh1LnNlbGVjdEhhbmRsZXIsdSk7dS5zZXRQb3NpdGlvbj1uLnByb3h5KHUuc2V0UG9zaXRpb24sdSk7dS5zd2lwZUhhbmRsZXI9bi5wcm94eSh1LnN3aXBlSGFuZGxlcix1KTt1LmRyYWdIYW5kbGVyPW4ucHJveHkodS5kcmFnSGFuZGxlcix1KTt1LmtleUhhbmRsZXI9bi5wcm94eSh1LmtleUhhbmRsZXIsdSk7dS5pbnN0YW5jZVVpZD10Kys7dS5odG1sRXhwcj0vXig/OlxzKig8W1x3XFddKz4pW14+XSopJC87dS5yZWdpc3RlckJyZWFrcG9pbnRzKCk7dS5pbml0KCEwKX19KCkpLnByb3RvdHlwZS5hY3RpdmF0ZUFEQT1mdW5jdGlvbigpe3RoaXMuJHNsaWRlVHJhY2suZmluZCgiLnNsaWNrLWFjdGl2ZSIpLmF0dHIoeyJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pLmZpbmQoImEsIGlucHV0LCBidXR0b24sIHNlbGVjdCIpLmF0dHIoe3RhYmluZGV4OiIwIn0pfTt0LnByb3RvdHlwZS5hZGRTbGlkZT10LnByb3RvdHlwZS5zbGlja0FkZD1mdW5jdGlvbih0LGkscil7dmFyIHU9dGhpcztpZigiYm9vbGVhbiI9PXR5cGVvZiBpKXI9aSxpPW51bGw7ZWxzZSBpZihpPDB8fGk+PXUuc2xpZGVDb3VudClyZXR1cm4hMTt1LnVubG9hZCgpOyJudW1iZXIiPT10eXBlb2YgaT8wPT09aSYmMD09PXUuJHNsaWRlcy5sZW5ndGg/bih0KS5hcHBlbmRUbyh1LiRzbGlkZVRyYWNrKTpyP24odCkuaW5zZXJ0QmVmb3JlKHUuJHNsaWRlcy5lcShpKSk6bih0KS5pbnNlcnRBZnRlcih1LiRzbGlkZXMuZXEoaSkpOiEwPT09cj9uKHQpLnByZXBlbmRUbyh1LiRzbGlkZVRyYWNrKTpuKHQpLmFwcGVuZFRvKHUuJHNsaWRlVHJhY2spO3UuJHNsaWRlcz11LiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSk7dS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpO3UuJHNsaWRlVHJhY2suYXBwZW5kKHUuJHNsaWRlcyk7dS4kc2xpZGVzLmVhY2goZnVuY3Rpb24odCxpKXtuKGkpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiLHQpfSk7dS4kc2xpZGVzQ2FjaGU9dS4kc2xpZGVzO3UucmVpbml0KCl9O3QucHJvdG90eXBlLmFuaW1hdGVIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ7MT09PW4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJiEwPT09bi5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0JiYhMT09PW4ub3B0aW9ucy52ZXJ0aWNhbCYmKHQ9bi4kc2xpZGVzLmVxKG4uY3VycmVudFNsaWRlKS5vdXRlckhlaWdodCghMCksbi4kbGlzdC5hbmltYXRlKHtoZWlnaHQ6dH0sbi5vcHRpb25zLnNwZWVkKSl9O3QucHJvdG90eXBlLmFuaW1hdGVTbGlkZT1mdW5jdGlvbih0LGkpe3ZhciB1PXt9LHI9dGhpcztyLmFuaW1hdGVIZWlnaHQoKTshMD09PXIub3B0aW9ucy5ydGwmJiExPT09ci5vcHRpb25zLnZlcnRpY2FsJiYodD0tdCk7ITE9PT1yLnRyYW5zZm9ybXNFbmFibGVkPyExPT09ci5vcHRpb25zLnZlcnRpY2FsP3IuJHNsaWRlVHJhY2suYW5pbWF0ZSh7bGVmdDp0fSxyLm9wdGlvbnMuc3BlZWQsci5vcHRpb25zLmVhc2luZyxpKTpyLiRzbGlkZVRyYWNrLmFuaW1hdGUoe3RvcDp0fSxyLm9wdGlvbnMuc3BlZWQsci5vcHRpb25zLmVhc2luZyxpKTohMT09PXIuY3NzVHJhbnNpdGlvbnM/KCEwPT09ci5vcHRpb25zLnJ0bCYmKHIuY3VycmVudExlZnQ9LXIuY3VycmVudExlZnQpLG4oe2FuaW1TdGFydDpyLmN1cnJlbnRMZWZ0fSkuYW5pbWF0ZSh7YW5pbVN0YXJ0OnR9LHtkdXJhdGlvbjpyLm9wdGlvbnMuc3BlZWQsZWFzaW5nOnIub3B0aW9ucy5lYXNpbmcsc3RlcDpmdW5jdGlvbihuKXtuPU1hdGguY2VpbChuKTshMT09PXIub3B0aW9ucy52ZXJ0aWNhbD8odVtyLmFuaW1UeXBlXT0idHJhbnNsYXRlKCIrbisicHgsIDBweCkiLHIuJHNsaWRlVHJhY2suY3NzKHUpKToodVtyLmFuaW1UeXBlXT0idHJhbnNsYXRlKDBweCwiK24rInB4KSIsci4kc2xpZGVUcmFjay5jc3ModSkpfSxjb21wbGV0ZTpmdW5jdGlvbigpe2kmJmkuY2FsbCgpfX0pKTooci5hcHBseVRyYW5zaXRpb24oKSx0PU1hdGguY2VpbCh0KSx1W3IuYW5pbVR5cGVdPSExPT09ci5vcHRpb25zLnZlcnRpY2FsPyJ0cmFuc2xhdGUzZCgiK3QrInB4LCAwcHgsIDBweCkiOiJ0cmFuc2xhdGUzZCgwcHgsIit0KyJweCwgMHB4KSIsci4kc2xpZGVUcmFjay5jc3ModSksaSYmc2V0VGltZW91dChmdW5jdGlvbigpe3IuZGlzYWJsZVRyYW5zaXRpb24oKTtpLmNhbGwoKX0sci5vcHRpb25zLnNwZWVkKSl9O3QucHJvdG90eXBlLmdldE5hdlRhcmdldD1mdW5jdGlvbigpe3ZhciBpPXRoaXMsdD1pLm9wdGlvbnMuYXNOYXZGb3I7cmV0dXJuIHQmJm51bGwhPT10JiYodD1uKHQpLm5vdChpLiRzbGlkZXIpKSx0fTt0LnByb3RvdHlwZS5hc05hdkZvcj1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmdldE5hdlRhcmdldCgpO251bGwhPT1pJiYib2JqZWN0Ij09dHlwZW9mIGkmJmkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuc2xpY2soImdldFNsaWNrIik7aS51bnNsaWNrZWR8fGkuc2xpZGVIYW5kbGVyKHQsITApfSl9O3QucHJvdG90eXBlLmFwcGx5VHJhbnNpdGlvbj1mdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9e307aVt0LnRyYW5zaXRpb25UeXBlXT0hMT09PXQub3B0aW9ucy5mYWRlP3QudHJhbnNmb3JtVHlwZSsiICIrdC5vcHRpb25zLnNwZWVkKyJtcyAiK3Qub3B0aW9ucy5jc3NFYXNlOiJvcGFjaXR5ICIrdC5vcHRpb25zLnNwZWVkKyJtcyAiK3Qub3B0aW9ucy5jc3NFYXNlOyExPT09dC5vcHRpb25zLmZhZGU/dC4kc2xpZGVUcmFjay5jc3MoaSk6dC4kc2xpZGVzLmVxKG4pLmNzcyhpKX07dC5wcm90b3R5cGUuYXV0b1BsYXk9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uYXV0b1BsYXlDbGVhcigpO24uc2xpZGVDb3VudD5uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYobi5hdXRvUGxheVRpbWVyPXNldEludGVydmFsKG4uYXV0b1BsYXlJdGVyYXRvcixuLm9wdGlvbnMuYXV0b3BsYXlTcGVlZCkpfTt0LnByb3RvdHlwZS5hdXRvUGxheUNsZWFyPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmF1dG9QbGF5VGltZXImJmNsZWFySW50ZXJ2YWwobi5hdXRvUGxheVRpbWVyKX07dC5wcm90b3R5cGUuYXV0b1BsYXlJdGVyYXRvcj1mdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLmN1cnJlbnRTbGlkZStuLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7bi5wYXVzZWR8fG4uaW50ZXJydXB0ZWR8fG4uZm9jdXNzZWR8fCghMT09PW4ub3B0aW9ucy5pbmZpbml0ZSYmKDE9PT1uLmRpcmVjdGlvbiYmbi5jdXJyZW50U2xpZGUrMT09PW4uc2xpZGVDb3VudC0xP24uZGlyZWN0aW9uPTA6MD09PW4uZGlyZWN0aW9uJiYodD1uLmN1cnJlbnRTbGlkZS1uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsbi5jdXJyZW50U2xpZGUtMT09MCYmKG4uZGlyZWN0aW9uPTEpKSksbi5zbGlkZUhhbmRsZXIodCkpfTt0LnByb3RvdHlwZS5idWlsZEFycm93cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7ITA9PT10Lm9wdGlvbnMuYXJyb3dzJiYodC4kcHJldkFycm93PW4odC5vcHRpb25zLnByZXZBcnJvdykuYWRkQ2xhc3MoInNsaWNrLWFycm93IiksdC4kbmV4dEFycm93PW4odC5vcHRpb25zLm5leHRBcnJvdykuYWRkQ2xhc3MoInNsaWNrLWFycm93IiksdC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3c/KHQuJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2staGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4gdGFiaW5kZXgiKSx0LiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIHRhYmluZGV4IiksdC5odG1sRXhwci50ZXN0KHQub3B0aW9ucy5wcmV2QXJyb3cpJiZ0LiRwcmV2QXJyb3cucHJlcGVuZFRvKHQub3B0aW9ucy5hcHBlbmRBcnJvd3MpLHQuaHRtbEV4cHIudGVzdCh0Lm9wdGlvbnMubmV4dEFycm93KSYmdC4kbmV4dEFycm93LmFwcGVuZFRvKHQub3B0aW9ucy5hcHBlbmRBcnJvd3MpLCEwIT09dC5vcHRpb25zLmluZmluaXRlJiZ0LiRwcmV2QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSk6dC4kcHJldkFycm93LmFkZCh0LiRuZXh0QXJyb3cpLmFkZENsYXNzKCJzbGljay1oaWRkZW4iKS5hdHRyKHsiYXJpYS1kaXNhYmxlZCI6InRydWUiLHRhYmluZGV4OiItMSJ9KSl9O3QucHJvdG90eXBlLmJ1aWxkRG90cz1mdW5jdGlvbigpe3ZhciBpLHIsdD10aGlzO2lmKCEwPT09dC5vcHRpb25zLmRvdHMpe2Zvcih0LiRzbGlkZXIuYWRkQ2xhc3MoInNsaWNrLWRvdHRlZCIpLHI9bigiPHVsIC8+IikuYWRkQ2xhc3ModC5vcHRpb25zLmRvdHNDbGFzcyksaT0wO2k8PXQuZ2V0RG90Q291bnQoKTtpKz0xKXIuYXBwZW5kKG4oIjxsaSAvPiIpLmFwcGVuZCh0Lm9wdGlvbnMuY3VzdG9tUGFnaW5nLmNhbGwodGhpcyx0LGkpKSk7dC4kZG90cz1yLmFwcGVuZFRvKHQub3B0aW9ucy5hcHBlbmREb3RzKTt0LiRkb3RzLmZpbmQoImxpIikuZmlyc3QoKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIil9fTt0LnByb3RvdHlwZS5idWlsZE91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC4kc2xpZGVzPXQuJHNsaWRlci5jaGlsZHJlbih0Lm9wdGlvbnMuc2xpZGUrIjpub3QoLnNsaWNrLWNsb25lZCkiKS5hZGRDbGFzcygic2xpY2stc2xpZGUiKTt0LnNsaWRlQ291bnQ9dC4kc2xpZGVzLmxlbmd0aDt0LiRzbGlkZXMuZWFjaChmdW5jdGlvbih0LGkpe24oaSkuYXR0cigiZGF0YS1zbGljay1pbmRleCIsdCkuZGF0YSgib3JpZ2luYWxTdHlsaW5nIixuKGkpLmF0dHIoInN0eWxlIil8fCIiKX0pO3QuJHNsaWRlci5hZGRDbGFzcygic2xpY2stc2xpZGVyIik7dC4kc2xpZGVUcmFjaz0wPT09dC5zbGlkZUNvdW50P24oJzxkaXYgY2xhc3M9InNsaWNrLXRyYWNrIi8+JykuYXBwZW5kVG8odC4kc2xpZGVyKTp0LiRzbGlkZXMud3JhcEFsbCgnPGRpdiBjbGFzcz0ic2xpY2stdHJhY2siLz4nKS5wYXJlbnQoKTt0LiRsaXN0PXQuJHNsaWRlVHJhY2sud3JhcCgnPGRpdiBjbGFzcz0ic2xpY2stbGlzdCIvPicpLnBhcmVudCgpO3QuJHNsaWRlVHJhY2suY3NzKCJvcGFjaXR5IiwwKTshMCE9PXQub3B0aW9ucy5jZW50ZXJNb2RlJiYhMCE9PXQub3B0aW9ucy5zd2lwZVRvU2xpZGV8fCh0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw9MSk7bigiaW1nW2RhdGEtbGF6eV0iLHQuJHNsaWRlcikubm90KCJbc3JjXSIpLmFkZENsYXNzKCJzbGljay1sb2FkaW5nIik7dC5zZXR1cEluZmluaXRlKCk7dC5idWlsZEFycm93cygpO3QuYnVpbGREb3RzKCk7dC51cGRhdGVEb3RzKCk7dC5zZXRTbGlkZUNsYXNzZXMoIm51bWJlciI9PXR5cGVvZiB0LmN1cnJlbnRTbGlkZT90LmN1cnJlbnRTbGlkZTowKTshMD09PXQub3B0aW9ucy5kcmFnZ2FibGUmJnQuJGxpc3QuYWRkQ2xhc3MoImRyYWdnYWJsZSIpfTt0LnByb3RvdHlwZS5idWlsZFJvd3M9ZnVuY3Rpb24oKXt2YXIgdCxpLHIsZixjLHUsZSxuPXRoaXMsbyxzLGg7aWYoZj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdT1uLiRzbGlkZXIuY2hpbGRyZW4oKSxuLm9wdGlvbnMucm93cz4xKXtmb3IoZT1uLm9wdGlvbnMuc2xpZGVzUGVyUm93Km4ub3B0aW9ucy5yb3dzLGM9TWF0aC5jZWlsKHUubGVuZ3RoL2UpLHQ9MDt0PGM7dCsrKXtmb3Iobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpPTA7aTxuLm9wdGlvbnMucm93cztpKyspe2ZvcihzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHI9MDtyPG4ub3B0aW9ucy5zbGlkZXNQZXJSb3c7cisrKWg9dCplKyhpKm4ub3B0aW9ucy5zbGlkZXNQZXJSb3crciksdS5nZXQoaCkmJnMuYXBwZW5kQ2hpbGQodS5nZXQoaCkpO28uYXBwZW5kQ2hpbGQocyl9Zi5hcHBlbmRDaGlsZChvKX1uLiRzbGlkZXIuZW1wdHkoKS5hcHBlbmQoZik7bi4kc2xpZGVyLmNoaWxkcmVuKCkuY2hpbGRyZW4oKS5jaGlsZHJlbigpLmNzcyh7d2lkdGg6MTAwL24ub3B0aW9ucy5zbGlkZXNQZXJSb3crIiUiLGRpc3BsYXk6ImlubGluZS1ibG9jayJ9KX19O3QucHJvdG90eXBlLmNoZWNrUmVzcG9uc2l2ZT1mdW5jdGlvbih0LGkpe3ZhciBmLHUsZSxyPXRoaXMsbz0hMSxzPXIuJHNsaWRlci53aWR0aCgpLGg9d2luZG93LmlubmVyV2lkdGh8fG4od2luZG93KS53aWR0aCgpO2lmKCJ3aW5kb3ciPT09ci5yZXNwb25kVG8/ZT1oOiJzbGlkZXIiPT09ci5yZXNwb25kVG8/ZT1zOiJtaW4iPT09ci5yZXNwb25kVG8mJihlPU1hdGgubWluKGgscykpLHIub3B0aW9ucy5yZXNwb25zaXZlJiZyLm9wdGlvbnMucmVzcG9uc2l2ZS5sZW5ndGgmJm51bGwhPT1yLm9wdGlvbnMucmVzcG9uc2l2ZSl7dT1udWxsO2ZvcihmIGluIHIuYnJlYWtwb2ludHMpci5icmVha3BvaW50cy5oYXNPd25Qcm9wZXJ0eShmKSYmKCExPT09ci5vcmlnaW5hbFNldHRpbmdzLm1vYmlsZUZpcnN0P2U8ci5icmVha3BvaW50c1tmXSYmKHU9ci5icmVha3BvaW50c1tmXSk6ZT5yLmJyZWFrcG9pbnRzW2ZdJiYodT1yLmJyZWFrcG9pbnRzW2ZdKSk7bnVsbCE9PXU/bnVsbCE9PXIuYWN0aXZlQnJlYWtwb2ludD8odSE9PXIuYWN0aXZlQnJlYWtwb2ludHx8aSkmJihyLmFjdGl2ZUJyZWFrcG9pbnQ9dSwidW5zbGljayI9PT1yLmJyZWFrcG9pbnRTZXR0aW5nc1t1XT9yLnVuc2xpY2sodSk6KHIub3B0aW9ucz1uLmV4dGVuZCh7fSxyLm9yaWdpbmFsU2V0dGluZ3Msci5icmVha3BvaW50U2V0dGluZ3NbdV0pLCEwPT09dCYmKHIuY3VycmVudFNsaWRlPXIub3B0aW9ucy5pbml0aWFsU2xpZGUpLHIucmVmcmVzaCh0KSksbz11KTooci5hY3RpdmVCcmVha3BvaW50PXUsInVuc2xpY2siPT09ci5icmVha3BvaW50U2V0dGluZ3NbdV0/ci51bnNsaWNrKHUpOihyLm9wdGlvbnM9bi5leHRlbmQoe30sci5vcmlnaW5hbFNldHRpbmdzLHIuYnJlYWtwb2ludFNldHRpbmdzW3VdKSwhMD09PXQmJihyLmN1cnJlbnRTbGlkZT1yLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSxyLnJlZnJlc2godCkpLG89dSk6bnVsbCE9PXIuYWN0aXZlQnJlYWtwb2ludCYmKHIuYWN0aXZlQnJlYWtwb2ludD1udWxsLHIub3B0aW9ucz1yLm9yaWdpbmFsU2V0dGluZ3MsITA9PT10JiYoci5jdXJyZW50U2xpZGU9ci5vcHRpb25zLmluaXRpYWxTbGlkZSksci5yZWZyZXNoKHQpLG89dSk7dHx8ITE9PT1vfHxyLiRzbGlkZXIudHJpZ2dlcigiYnJlYWtwb2ludCIsW3Isb10pfX07dC5wcm90b3R5cGUuY2hhbmdlU2xpZGU9ZnVuY3Rpb24odCxpKXt2YXIgZixlLG8scj10aGlzLHU9bih0LmN1cnJlbnRUYXJnZXQpLHM7c3dpdGNoKHUuaXMoImEiKSYmdC5wcmV2ZW50RGVmYXVsdCgpLHUuaXMoImxpIil8fCh1PXUuY2xvc2VzdCgibGkiKSksbz1yLnNsaWRlQ291bnQlci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT0wLGY9bz8wOihyLnNsaWRlQ291bnQtci5jdXJyZW50U2xpZGUpJXIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCx0LmRhdGEubWVzc2FnZSl7Y2FzZSJwcmV2aW91cyI6ZT0wPT09Zj9yLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6ci5vcHRpb25zLnNsaWRlc1RvU2hvdy1mO3Iuc2xpZGVDb3VudD5yLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZyLnNsaWRlSGFuZGxlcihyLmN1cnJlbnRTbGlkZS1lLCExLGkpO2JyZWFrO2Nhc2UibmV4dCI6ZT0wPT09Zj9yLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6ZjtyLnNsaWRlQ291bnQ+ci5vcHRpb25zLnNsaWRlc1RvU2hvdyYmci5zbGlkZUhhbmRsZXIoci5jdXJyZW50U2xpZGUrZSwhMSxpKTticmVhaztjYXNlImluZGV4IjpzPTA9PT10LmRhdGEuaW5kZXg/MDp0LmRhdGEuaW5kZXh8fHUuaW5kZXgoKSpyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7ci5zbGlkZUhhbmRsZXIoci5jaGVja05hdmlnYWJsZShzKSwhMSxpKTt1LmNoaWxkcmVuKCkudHJpZ2dlcigiZm9jdXMiKTticmVhaztkZWZhdWx0OnJldHVybn19O3QucHJvdG90eXBlLmNoZWNrTmF2aWdhYmxlPWZ1bmN0aW9uKG4pe3ZhciB0LGkscjtpZih0PXRoaXMuZ2V0TmF2aWdhYmxlSW5kZXhlcygpLGk9MCxuPnRbdC5sZW5ndGgtMV0pbj10W3QubGVuZ3RoLTFdO2Vsc2UgZm9yKHIgaW4gdCl7aWYobjx0W3JdKXtuPWk7YnJlYWt9aT10W3JdfXJldHVybiBufTt0LnByb3RvdHlwZS5jbGVhblVwRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0Lm9wdGlvbnMuZG90cyYmbnVsbCE9PXQuJGRvdHMmJihuKCJsaSIsdC4kZG90cykub2ZmKCJjbGljay5zbGljayIsdC5jaGFuZ2VTbGlkZSkub2ZmKCJtb3VzZWVudGVyLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITApKS5vZmYoIm1vdXNlbGVhdmUuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMSkpLCEwPT09dC5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJnQuJGRvdHMub2ZmKCJrZXlkb3duLnNsaWNrIix0LmtleUhhbmRsZXIpKTt0LiRzbGlkZXIub2ZmKCJmb2N1cy5zbGljayBibHVyLnNsaWNrIik7ITA9PT10Lm9wdGlvbnMuYXJyb3dzJiZ0LnNsaWRlQ291bnQ+dC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKHQuJHByZXZBcnJvdyYmdC4kcHJldkFycm93Lm9mZigiY2xpY2suc2xpY2siLHQuY2hhbmdlU2xpZGUpLHQuJG5leHRBcnJvdyYmdC4kbmV4dEFycm93Lm9mZigiY2xpY2suc2xpY2siLHQuY2hhbmdlU2xpZGUpLCEwPT09dC5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJih0LiRwcmV2QXJyb3cmJnQuJHByZXZBcnJvdy5vZmYoImtleWRvd24uc2xpY2siLHQua2V5SGFuZGxlciksdC4kbmV4dEFycm93JiZ0LiRuZXh0QXJyb3cub2ZmKCJrZXlkb3duLnNsaWNrIix0LmtleUhhbmRsZXIpKSk7dC4kbGlzdC5vZmYoInRvdWNoc3RhcnQuc2xpY2sgbW91c2Vkb3duLnNsaWNrIix0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vZmYoInRvdWNobW92ZS5zbGljayBtb3VzZW1vdmUuc2xpY2siLHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9mZigidG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGljayIsdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub2ZmKCJ0b3VjaGNhbmNlbC5zbGljayBtb3VzZWxlYXZlLnNsaWNrIix0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vZmYoImNsaWNrLnNsaWNrIix0LmNsaWNrSGFuZGxlcik7bihkb2N1bWVudCkub2ZmKHQudmlzaWJpbGl0eUNoYW5nZSx0LnZpc2liaWxpdHkpO3QuY2xlYW5VcFNsaWRlRXZlbnRzKCk7ITA9PT10Lm9wdGlvbnMuYWNjZXNzaWJpbGl0eSYmdC4kbGlzdC5vZmYoImtleWRvd24uc2xpY2siLHQua2V5SGFuZGxlcik7ITA9PT10Lm9wdGlvbnMuZm9jdXNPblNlbGVjdCYmbih0LiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9mZigiY2xpY2suc2xpY2siLHQuc2VsZWN0SGFuZGxlcik7bih3aW5kb3cpLm9mZigib3JpZW50YXRpb25jaGFuZ2Uuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLHQub3JpZW50YXRpb25DaGFuZ2UpO24od2luZG93KS5vZmYoInJlc2l6ZS5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsdC5yZXNpemUpO24oIltkcmFnZ2FibGUhPXRydWVdIix0LiRzbGlkZVRyYWNrKS5vZmYoImRyYWdzdGFydCIsdC5wcmV2ZW50RGVmYXVsdCk7bih3aW5kb3cpLm9mZigibG9hZC5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsdC5zZXRQb3NpdGlvbil9O3QucHJvdG90eXBlLmNsZWFuVXBTbGlkZUV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC4kbGlzdC5vZmYoIm1vdXNlZW50ZXIuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMCkpO3QuJGxpc3Qub2ZmKCJtb3VzZWxlYXZlLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITEpKX07dC5wcm90b3R5cGUuY2xlYW5VcFJvd3M9ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXM7bi5vcHRpb25zLnJvd3M+MSYmKCh0PW4uJHNsaWRlcy5jaGlsZHJlbigpLmNoaWxkcmVuKCkpLnJlbW92ZUF0dHIoInN0eWxlIiksbi4kc2xpZGVyLmVtcHR5KCkuYXBwZW5kKHQpKX07dC5wcm90b3R5cGUuY2xpY2tIYW5kbGVyPWZ1bmN0aW9uKG4peyExPT09dGhpcy5zaG91bGRDbGljayYmKG4uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksbi5zdG9wUHJvcGFnYXRpb24oKSxuLnByZXZlbnREZWZhdWx0KCkpfTt0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7aS5hdXRvUGxheUNsZWFyKCk7aS50b3VjaE9iamVjdD17fTtpLmNsZWFuVXBFdmVudHMoKTtuKCIuc2xpY2stY2xvbmVkIixpLiRzbGlkZXIpLmRldGFjaCgpO2kuJGRvdHMmJmkuJGRvdHMucmVtb3ZlKCk7aS4kcHJldkFycm93JiZpLiRwcmV2QXJyb3cubGVuZ3RoJiYoaS4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCBzbGljay1hcnJvdyBzbGljay1oaWRkZW4iKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYmluZGV4IikuY3NzKCJkaXNwbGF5IiwiIiksaS5odG1sRXhwci50ZXN0KGkub3B0aW9ucy5wcmV2QXJyb3cpJiZpLiRwcmV2QXJyb3cucmVtb3ZlKCkpO2kuJG5leHRBcnJvdyYmaS4kbmV4dEFycm93Lmxlbmd0aCYmKGkuJG5leHRBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQgc2xpY2stYXJyb3cgc2xpY2staGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJpbmRleCIpLmNzcygiZGlzcGxheSIsIiIpLGkuaHRtbEV4cHIudGVzdChpLm9wdGlvbnMubmV4dEFycm93KSYmaS4kbmV4dEFycm93LnJlbW92ZSgpKTtpLiRzbGlkZXMmJihpLiRzbGlkZXMucmVtb3ZlQ2xhc3MoInNsaWNrLXNsaWRlIHNsaWNrLWFjdGl2ZSBzbGljay1jZW50ZXIgc2xpY2stdmlzaWJsZSBzbGljay1jdXJyZW50IikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4iKS5yZW1vdmVBdHRyKCJkYXRhLXNsaWNrLWluZGV4IikuZWFjaChmdW5jdGlvbigpe24odGhpcykuYXR0cigic3R5bGUiLG4odGhpcykuZGF0YSgib3JpZ2luYWxTdHlsaW5nIikpfSksaS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpLGkuJHNsaWRlVHJhY2suZGV0YWNoKCksaS4kbGlzdC5kZXRhY2goKSxpLiRzbGlkZXIuYXBwZW5kKGkuJHNsaWRlcykpO2kuY2xlYW5VcFJvd3MoKTtpLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLXNsaWRlciIpO2kuJHNsaWRlci5yZW1vdmVDbGFzcygic2xpY2staW5pdGlhbGl6ZWQiKTtpLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLWRvdHRlZCIpO2kudW5zbGlja2VkPSEwO3R8fGkuJHNsaWRlci50cmlnZ2VyKCJkZXN0cm95IixbaV0pfTt0LnByb3RvdHlwZS5kaXNhYmxlVHJhbnNpdGlvbj1mdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9e307aVt0LnRyYW5zaXRpb25UeXBlXT0iIjshMT09PXQub3B0aW9ucy5mYWRlP3QuJHNsaWRlVHJhY2suY3NzKGkpOnQuJHNsaWRlcy5lcShuKS5jc3MoaSl9O3QucHJvdG90eXBlLmZhZGVTbGlkZT1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXM7ITE9PT1pLmNzc1RyYW5zaXRpb25zPyhpLiRzbGlkZXMuZXEobikuY3NzKHt6SW5kZXg6aS5vcHRpb25zLnpJbmRleH0pLGkuJHNsaWRlcy5lcShuKS5hbmltYXRlKHtvcGFjaXR5OjF9LGkub3B0aW9ucy5zcGVlZCxpLm9wdGlvbnMuZWFzaW5nLHQpKTooaS5hcHBseVRyYW5zaXRpb24obiksaS4kc2xpZGVzLmVxKG4pLmNzcyh7b3BhY2l0eToxLHpJbmRleDppLm9wdGlvbnMuekluZGV4fSksdCYmc2V0VGltZW91dChmdW5jdGlvbigpe2kuZGlzYWJsZVRyYW5zaXRpb24obik7dC5jYWxsKCl9LGkub3B0aW9ucy5zcGVlZCkpfTt0LnByb3RvdHlwZS5mYWRlU2xpZGVPdXQ9ZnVuY3Rpb24obil7dmFyIHQ9dGhpczshMT09PXQuY3NzVHJhbnNpdGlvbnM/dC4kc2xpZGVzLmVxKG4pLmFuaW1hdGUoe29wYWNpdHk6MCx6SW5kZXg6dC5vcHRpb25zLnpJbmRleC0yfSx0Lm9wdGlvbnMuc3BlZWQsdC5vcHRpb25zLmVhc2luZyk6KHQuYXBwbHlUcmFuc2l0aW9uKG4pLHQuJHNsaWRlcy5lcShuKS5jc3Moe29wYWNpdHk6MCx6SW5kZXg6dC5vcHRpb25zLnpJbmRleC0yfSkpfTt0LnByb3RvdHlwZS5maWx0ZXJTbGlkZXM9dC5wcm90b3R5cGUuc2xpY2tGaWx0ZXI9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztudWxsIT09biYmKHQuJHNsaWRlc0NhY2hlPXQuJHNsaWRlcyx0LnVubG9hZCgpLHQuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSx0LiRzbGlkZXNDYWNoZS5maWx0ZXIobikuYXBwZW5kVG8odC4kc2xpZGVUcmFjayksdC5yZWluaXQoKSl9O3QucHJvdG90eXBlLmZvY3VzSGFuZGxlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC4kc2xpZGVyLm9mZigiZm9jdXMuc2xpY2sgYmx1ci5zbGljayIpLm9uKCJmb2N1cy5zbGljayBibHVyLnNsaWNrIiwiKiIsZnVuY3Rpb24oaSl7aS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt2YXIgcj1uKHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0Lm9wdGlvbnMucGF1c2VPbkZvY3VzJiYodC5mb2N1c3NlZD1yLmlzKCI6Zm9jdXMiKSx0LmF1dG9QbGF5KCkpfSwwKX0pfTt0LnByb3RvdHlwZS5nZXRDdXJyZW50PXQucHJvdG90eXBlLnNsaWNrQ3VycmVudFNsaWRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudFNsaWRlfTt0LnByb3RvdHlwZS5nZXREb3RDb3VudD1mdW5jdGlvbigpe3ZhciBuPXRoaXMsaT0wLHI9MCx0PTA7aWYoITA9PT1uLm9wdGlvbnMuaW5maW5pdGUpaWYobi5zbGlkZUNvdW50PD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93KSsrdDtlbHNlIGZvcig7aTxuLnNsaWRlQ291bnQ7KSsrdCxpPXIrbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLHIrPW4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDw9bi5vcHRpb25zLnNsaWRlc1RvU2hvdz9uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6bi5vcHRpb25zLnNsaWRlc1RvU2hvdztlbHNlIGlmKCEwPT09bi5vcHRpb25zLmNlbnRlck1vZGUpdD1uLnNsaWRlQ291bnQ7ZWxzZSBpZihuLm9wdGlvbnMuYXNOYXZGb3IpZm9yKDtpPG4uc2xpZGVDb3VudDspKyt0LGk9cituLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwscis9bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93P24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpuLm9wdGlvbnMuc2xpZGVzVG9TaG93O2Vsc2UgdD0xK01hdGguY2VpbCgobi5zbGlkZUNvdW50LW4ub3B0aW9ucy5zbGlkZXNUb1Nob3cpL24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCk7cmV0dXJuIHQtMX07dC5wcm90b3R5cGUuZ2V0TGVmdD1mdW5jdGlvbihuKXt2YXIgZixyLGksZSx0PXRoaXMsdT0wO3JldHVybiB0LnNsaWRlT2Zmc2V0PTAscj10LiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCghMCksITA9PT10Lm9wdGlvbnMuaW5maW5pdGU/KHQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93JiYodC5zbGlkZU9mZnNldD10LnNsaWRlV2lkdGgqdC5vcHRpb25zLnNsaWRlc1RvU2hvdyotMSxlPS0xLCEwPT09dC5vcHRpb25zLnZlcnRpY2FsJiYhMD09PXQub3B0aW9ucy5jZW50ZXJNb2RlJiYoMj09PXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/ZT0tMS41OjE9PT10Lm9wdGlvbnMuc2xpZGVzVG9TaG93JiYoZT0tMikpLHU9cip0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KmUpLHQuc2xpZGVDb3VudCV0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwhPTAmJm4rdC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPnQuc2xpZGVDb3VudCYmdC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihuPnQuc2xpZGVDb3VudD8odC5zbGlkZU9mZnNldD0odC5vcHRpb25zLnNsaWRlc1RvU2hvdy0obi10LnNsaWRlQ291bnQpKSp0LnNsaWRlV2lkdGgqLTEsdT0odC5vcHRpb25zLnNsaWRlc1RvU2hvdy0obi10LnNsaWRlQ291bnQpKSpyKi0xKToodC5zbGlkZU9mZnNldD10LnNsaWRlQ291bnQldC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKnQuc2xpZGVXaWR0aCotMSx1PXQuc2xpZGVDb3VudCV0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwqciotMSkpKTpuK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3c+dC5zbGlkZUNvdW50JiYodC5zbGlkZU9mZnNldD0obit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LXQuc2xpZGVDb3VudCkqdC5zbGlkZVdpZHRoLHU9KG4rdC5vcHRpb25zLnNsaWRlc1RvU2hvdy10LnNsaWRlQ291bnQpKnIpLHQuc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKHQuc2xpZGVPZmZzZXQ9MCx1PTApLCEwPT09dC5vcHRpb25zLmNlbnRlck1vZGUmJnQuc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvdz90LnNsaWRlT2Zmc2V0PXQuc2xpZGVXaWR0aCpNYXRoLmZsb29yKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cpLzItdC5zbGlkZVdpZHRoKnQuc2xpZGVDb3VudC8yOiEwPT09dC5vcHRpb25zLmNlbnRlck1vZGUmJiEwPT09dC5vcHRpb25zLmluZmluaXRlP3Quc2xpZGVPZmZzZXQrPXQuc2xpZGVXaWR0aCpNYXRoLmZsb29yKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMiktdC5zbGlkZVdpZHRoOiEwPT09dC5vcHRpb25zLmNlbnRlck1vZGUmJih0LnNsaWRlT2Zmc2V0PTAsdC5zbGlkZU9mZnNldCs9dC5zbGlkZVdpZHRoKk1hdGguZmxvb3IodC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKSksZj0hMT09PXQub3B0aW9ucy52ZXJ0aWNhbD9uKnQuc2xpZGVXaWR0aCotMSt0LnNsaWRlT2Zmc2V0Om4qciotMSt1LCEwPT09dC5vcHRpb25zLnZhcmlhYmxlV2lkdGgmJihpPXQuc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvd3x8ITE9PT10Lm9wdGlvbnMuaW5maW5pdGU/dC4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEobik6dC4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEobit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KSxmPSEwPT09dC5vcHRpb25zLnJ0bD9pWzBdPy0xKih0LiRzbGlkZVRyYWNrLndpZHRoKCktaVswXS5vZmZzZXRMZWZ0LWkud2lkdGgoKSk6MDppWzBdPy0xKmlbMF0ub2Zmc2V0TGVmdDowLCEwPT09dC5vcHRpb25zLmNlbnRlck1vZGUmJihpPXQuc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvd3x8ITE9PT10Lm9wdGlvbnMuaW5maW5pdGU/dC4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEobik6dC4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEobit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KzEpLGY9ITA9PT10Lm9wdGlvbnMucnRsP2lbMF0/LTEqKHQuJHNsaWRlVHJhY2sud2lkdGgoKS1pWzBdLm9mZnNldExlZnQtaS53aWR0aCgpKTowOmlbMF0/LTEqaVswXS5vZmZzZXRMZWZ0OjAsZis9KHQuJGxpc3Qud2lkdGgoKS1pLm91dGVyV2lkdGgoKSkvMikpLGZ9O3QucHJvdG90eXBlLmdldE9wdGlvbj10LnByb3RvdHlwZS5zbGlja0dldE9wdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5vcHRpb25zW25dfTt0LnByb3RvdHlwZS5nZXROYXZpZ2FibGVJbmRleGVzPWZ1bmN0aW9uKCl7dmFyIGksbj10aGlzLHQ9MCxyPTAsdT1bXTtmb3IoITE9PT1uLm9wdGlvbnMuaW5maW5pdGU/aT1uLnNsaWRlQ291bnQ6KHQ9LTEqbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLHI9LTEqbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLGk9MipuLnNsaWRlQ291bnQpO3Q8aTspdS5wdXNoKHQpLHQ9cituLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwscis9bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93P24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpuLm9wdGlvbnMuc2xpZGVzVG9TaG93O3JldHVybiB1fTt0LnByb3RvdHlwZS5nZXRTbGljaz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LnByb3RvdHlwZS5nZXRTbGlkZUNvdW50PWZ1bmN0aW9uKCl7dmFyIGkscix0PXRoaXM7cmV0dXJuIHI9ITA9PT10Lm9wdGlvbnMuY2VudGVyTW9kZT90LnNsaWRlV2lkdGgqTWF0aC5mbG9vcih0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpOjAsITA9PT10Lm9wdGlvbnMuc3dpcGVUb1NsaWRlPyh0LiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1zbGlkZSIpLmVhY2goZnVuY3Rpb24odSxmKXtpZihmLm9mZnNldExlZnQtcituKGYpLm91dGVyV2lkdGgoKS8yPi0xKnQuc3dpcGVMZWZ0KXJldHVybiBpPWYsITF9KSxNYXRoLmFicyhuKGkpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiKS10LmN1cnJlbnRTbGlkZSl8fDEpOnQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbH07dC5wcm90b3R5cGUuZ29Ubz10LnByb3RvdHlwZS5zbGlja0dvVG89ZnVuY3Rpb24obix0KXt0aGlzLmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOiJpbmRleCIsaW5kZXg6cGFyc2VJbnQobil9fSx0KX07dC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXt2YXIgaT10aGlzO24oaS4kc2xpZGVyKS5oYXNDbGFzcygic2xpY2staW5pdGlhbGl6ZWQiKXx8KG4oaS4kc2xpZGVyKS5hZGRDbGFzcygic2xpY2staW5pdGlhbGl6ZWQiKSxpLmJ1aWxkUm93cygpLGkuYnVpbGRPdXQoKSxpLnNldFByb3BzKCksaS5zdGFydExvYWQoKSxpLmxvYWRTbGlkZXIoKSxpLmluaXRpYWxpemVFdmVudHMoKSxpLnVwZGF0ZUFycm93cygpLGkudXBkYXRlRG90cygpLGkuY2hlY2tSZXNwb25zaXZlKCEwKSxpLmZvY3VzSGFuZGxlcigpKTt0JiZpLiRzbGlkZXIudHJpZ2dlcigiaW5pdCIsW2ldKTshMD09PWkub3B0aW9ucy5hY2Nlc3NpYmlsaXR5JiZpLmluaXRBREEoKTtpLm9wdGlvbnMuYXV0b3BsYXkmJihpLnBhdXNlZD0hMSxpLmF1dG9QbGF5KCkpfTt0LnByb3RvdHlwZS5pbml0QURBPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxmPU1hdGguY2VpbCh0LnNsaWRlQ291bnQvdC5vcHRpb25zLnNsaWRlc1RvU2hvdykscj10LmdldE5hdmlnYWJsZUluZGV4ZXMoKS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG4+PTAmJm48dC5zbGlkZUNvdW50fSksaSx1O2Zvcih0LiRzbGlkZXMuYWRkKHQuJHNsaWRlVHJhY2suZmluZCgiLnNsaWNrLWNsb25lZCIpKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIix0YWJpbmRleDoiLTEifSkuZmluZCgiYSwgaW5wdXQsIGJ1dHRvbiwgc2VsZWN0IikuYXR0cih7dGFiaW5kZXg6Ii0xIn0pLG51bGwhPT10LiRkb3RzJiYodC4kc2xpZGVzLm5vdCh0LiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1jbG9uZWQiKSkuZWFjaChmdW5jdGlvbihpKXt2YXIgdT1yLmluZGV4T2YoaSk7bih0aGlzKS5hdHRyKHtyb2xlOiJ0YWJwYW5lbCIsaWQ6InNsaWNrLXNsaWRlIit0Lmluc3RhbmNlVWlkK2ksdGFiaW5kZXg6LTF9KTstMSE9PXUmJm4odGhpcykuYXR0cih7ImFyaWEtZGVzY3JpYmVkYnkiOiJzbGljay1zbGlkZS1jb250cm9sIit0Lmluc3RhbmNlVWlkK3V9KX0pLHQuJGRvdHMuYXR0cigicm9sZSIsInRhYmxpc3QiKS5maW5kKCJsaSIpLmVhY2goZnVuY3Rpb24oaSl7dmFyIHU9cltpXTtuKHRoaXMpLmF0dHIoe3JvbGU6InByZXNlbnRhdGlvbiJ9KTtuKHRoaXMpLmZpbmQoImJ1dHRvbiIpLmZpcnN0KCkuYXR0cih7cm9sZToidGFiIixpZDoic2xpY2stc2xpZGUtY29udHJvbCIrdC5pbnN0YW5jZVVpZCtpLCJhcmlhLWNvbnRyb2xzIjoic2xpY2stc2xpZGUiK3QuaW5zdGFuY2VVaWQrdSwiYXJpYS1sYWJlbCI6aSsxKyIgb2YgIitmLCJhcmlhLXNlbGVjdGVkIjpudWxsLHRhYmluZGV4OiItMSJ9KX0pLmVxKHQuY3VycmVudFNsaWRlKS5maW5kKCJidXR0b24iKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLHRhYmluZGV4OiIwIn0pLmVuZCgpKSxpPXQuY3VycmVudFNsaWRlLHU9aSt0Lm9wdGlvbnMuc2xpZGVzVG9TaG93O2k8dTtpKyspdC4kc2xpZGVzLmVxKGkpLmF0dHIoInRhYmluZGV4IiwwKTt0LmFjdGl2YXRlQURBKCl9O3QucHJvdG90eXBlLmluaXRBcnJvd0V2ZW50cz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7ITA9PT1uLm9wdGlvbnMuYXJyb3dzJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKG4uJHByZXZBcnJvdy5vZmYoImNsaWNrLnNsaWNrIikub24oImNsaWNrLnNsaWNrIix7bWVzc2FnZToicHJldmlvdXMifSxuLmNoYW5nZVNsaWRlKSxuLiRuZXh0QXJyb3cub2ZmKCJjbGljay5zbGljayIpLm9uKCJjbGljay5zbGljayIse21lc3NhZ2U6Im5leHQifSxuLmNoYW5nZVNsaWRlKSwhMD09PW4ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5JiYobi4kcHJldkFycm93Lm9uKCJrZXlkb3duLnNsaWNrIixuLmtleUhhbmRsZXIpLG4uJG5leHRBcnJvdy5vbigia2V5ZG93bi5zbGljayIsbi5rZXlIYW5kbGVyKSkpfTt0LnByb3RvdHlwZS5pbml0RG90RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczshMD09PXQub3B0aW9ucy5kb3RzJiYobigibGkiLHQuJGRvdHMpLm9uKCJjbGljay5zbGljayIse21lc3NhZ2U6ImluZGV4In0sdC5jaGFuZ2VTbGlkZSksITA9PT10Lm9wdGlvbnMuYWNjZXNzaWJpbGl0eSYmdC4kZG90cy5vbigia2V5ZG93bi5zbGljayIsdC5rZXlIYW5kbGVyKSk7ITA9PT10Lm9wdGlvbnMuZG90cyYmITA9PT10Lm9wdGlvbnMucGF1c2VPbkRvdHNIb3ZlciYmbigibGkiLHQuJGRvdHMpLm9uKCJtb3VzZWVudGVyLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITApKS5vbigibW91c2VsZWF2ZS5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCExKSl9O3QucHJvdG90eXBlLmluaXRTbGlkZUV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5vcHRpb25zLnBhdXNlT25Ib3ZlciYmKHQuJGxpc3Qub24oIm1vdXNlZW50ZXIuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMCkpLHQuJGxpc3Qub24oIm1vdXNlbGVhdmUuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMSkpKX07dC5wcm90b3R5cGUuaW5pdGlhbGl6ZUV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5pbml0QXJyb3dFdmVudHMoKTt0LmluaXREb3RFdmVudHMoKTt0LmluaXRTbGlkZUV2ZW50cygpO3QuJGxpc3Qub24oInRvdWNoc3RhcnQuc2xpY2sgbW91c2Vkb3duLnNsaWNrIix7YWN0aW9uOiJzdGFydCJ9LHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9uKCJ0b3VjaG1vdmUuc2xpY2sgbW91c2Vtb3ZlLnNsaWNrIix7YWN0aW9uOiJtb3ZlIn0sdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub24oInRvdWNoZW5kLnNsaWNrIG1vdXNldXAuc2xpY2siLHthY3Rpb246ImVuZCJ9LHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9uKCJ0b3VjaGNhbmNlbC5zbGljayBtb3VzZWxlYXZlLnNsaWNrIix7YWN0aW9uOiJlbmQifSx0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vbigiY2xpY2suc2xpY2siLHQuY2xpY2tIYW5kbGVyKTtuKGRvY3VtZW50KS5vbih0LnZpc2liaWxpdHlDaGFuZ2Usbi5wcm94eSh0LnZpc2liaWxpdHksdCkpOyEwPT09dC5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJnQuJGxpc3Qub24oImtleWRvd24uc2xpY2siLHQua2V5SGFuZGxlcik7ITA9PT10Lm9wdGlvbnMuZm9jdXNPblNlbGVjdCYmbih0LiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9uKCJjbGljay5zbGljayIsdC5zZWxlY3RIYW5kbGVyKTtuKHdpbmRvdykub24oIm9yaWVudGF0aW9uY2hhbmdlLnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCxuLnByb3h5KHQub3JpZW50YXRpb25DaGFuZ2UsdCkpO24od2luZG93KS5vbigicmVzaXplLnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCxuLnByb3h5KHQucmVzaXplLHQpKTtuKCJbZHJhZ2dhYmxlIT10cnVlXSIsdC4kc2xpZGVUcmFjaykub24oImRyYWdzdGFydCIsdC5wcmV2ZW50RGVmYXVsdCk7bih3aW5kb3cpLm9uKCJsb2FkLnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCx0LnNldFBvc2l0aW9uKTtuKHQuc2V0UG9zaXRpb24pfTt0LnByb3RvdHlwZS5pbml0VUk9ZnVuY3Rpb24oKXt2YXIgbj10aGlzOyEwPT09bi5vcHRpb25zLmFycm93cyYmbi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihuLiRwcmV2QXJyb3cuc2hvdygpLG4uJG5leHRBcnJvdy5zaG93KCkpOyEwPT09bi5vcHRpb25zLmRvdHMmJm4uc2xpZGVDb3VudD5uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZuLiRkb3RzLnNob3coKX07dC5wcm90b3R5cGUua2V5SGFuZGxlcj1mdW5jdGlvbihuKXt2YXIgdD10aGlzO24udGFyZ2V0LnRhZ05hbWUubWF0Y2goIlRFWFRBUkVBfElOUFVUfFNFTEVDVCIpfHwoMzc9PT1uLmtleUNvZGUmJiEwPT09dC5vcHRpb25zLmFjY2Vzc2liaWxpdHk/dC5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZTohMD09PXQub3B0aW9ucy5ydGw/Im5leHQiOiJwcmV2aW91cyJ9fSk6Mzk9PT1uLmtleUNvZGUmJiEwPT09dC5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJnQuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6ITA9PT10Lm9wdGlvbnMucnRsPyJwcmV2aW91cyI6Im5leHQifX0pKX07dC5wcm90b3R5cGUubGF6eUxvYWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGkpe24oImltZ1tkYXRhLWxhenldIixpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKSxyPW4odGhpcykuYXR0cigiZGF0YS1sYXp5IiksZj1uKHRoaXMpLmF0dHIoImRhdGEtc3Jjc2V0IiksZT1uKHRoaXMpLmF0dHIoImRhdGEtc2l6ZXMiKXx8dC4kc2xpZGVyLmF0dHIoImRhdGEtc2l6ZXMiKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO3Uub25sb2FkPWZ1bmN0aW9uKCl7aS5hbmltYXRlKHtvcGFjaXR5OjB9LDEwMCxmdW5jdGlvbigpe2YmJihpLmF0dHIoInNyY3NldCIsZiksZSYmaS5hdHRyKCJzaXplcyIsZSkpO2kuYXR0cigic3JjIixyKS5hbmltYXRlKHtvcGFjaXR5OjF9LDIwMCxmdW5jdGlvbigpe2kucmVtb3ZlQXR0cigiZGF0YS1sYXp5IGRhdGEtc3Jjc2V0IGRhdGEtc2l6ZXMiKS5yZW1vdmVDbGFzcygic2xpY2stbG9hZGluZyIpfSk7dC4kc2xpZGVyLnRyaWdnZXIoImxhenlMb2FkZWQiLFt0LGkscl0pfSl9O3Uub25lcnJvcj1mdW5jdGlvbigpe2kucmVtb3ZlQXR0cigiZGF0YS1sYXp5IikucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKS5hZGRDbGFzcygic2xpY2stbGF6eWxvYWQtZXJyb3IiKTt0LiRzbGlkZXIudHJpZ2dlcigibGF6eUxvYWRFcnJvciIsW3QsaSxyXSl9O3Uuc3JjPXJ9KX12YXIgdSxpLHIsdD10aGlzO2lmKCEwPT09dC5vcHRpb25zLmNlbnRlck1vZGU/ITA9PT10Lm9wdGlvbnMuaW5maW5pdGU/cj0oaT10LmN1cnJlbnRTbGlkZSsodC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKzEpKSt0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KzI6KGk9TWF0aC5tYXgoMCx0LmN1cnJlbnRTbGlkZS0odC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKzEpKSxyPXQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMisxKzIrdC5jdXJyZW50U2xpZGUpOihpPXQub3B0aW9ucy5pbmZpbml0ZT90Lm9wdGlvbnMuc2xpZGVzVG9TaG93K3QuY3VycmVudFNsaWRlOnQuY3VycmVudFNsaWRlLHI9TWF0aC5jZWlsKGkrdC5vcHRpb25zLnNsaWRlc1RvU2hvdyksITA9PT10Lm9wdGlvbnMuZmFkZSYmKGk+MCYmaS0tLHI8PXQuc2xpZGVDb3VudCYmcisrKSksdT10LiRzbGlkZXIuZmluZCgiLnNsaWNrLXNsaWRlIikuc2xpY2UoaSxyKSwiYW50aWNpcGF0ZWQiPT09dC5vcHRpb25zLmxhenlMb2FkKWZvcih2YXIgZT1pLTEsbz1yLHM9dC4kc2xpZGVyLmZpbmQoIi5zbGljay1zbGlkZSIpLGg9MDtoPHQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtoKyspZTwwJiYoZT10LnNsaWRlQ291bnQtMSksdT0odT11LmFkZChzLmVxKGUpKSkuYWRkKHMuZXEobykpLGUtLSxvKys7Zih1KTt0LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/Zih0LiRzbGlkZXIuZmluZCgiLnNsaWNrLXNsaWRlIikpOnQuY3VycmVudFNsaWRlPj10LnNsaWRlQ291bnQtdC5vcHRpb25zLnNsaWRlc1RvU2hvdz9mKHQuJHNsaWRlci5maW5kKCIuc2xpY2stY2xvbmVkIikuc2xpY2UoMCx0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KSk6MD09PXQuY3VycmVudFNsaWRlJiZmKHQuJHNsaWRlci5maW5kKCIuc2xpY2stY2xvbmVkIikuc2xpY2UoLTEqdC5vcHRpb25zLnNsaWRlc1RvU2hvdykpfTt0LnByb3RvdHlwZS5sb2FkU2xpZGVyPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLnNldFBvc2l0aW9uKCk7bi4kc2xpZGVUcmFjay5jc3Moe29wYWNpdHk6MX0pO24uJHNsaWRlci5yZW1vdmVDbGFzcygic2xpY2stbG9hZGluZyIpO24uaW5pdFVJKCk7InByb2dyZXNzaXZlIj09PW4ub3B0aW9ucy5sYXp5TG9hZCYmbi5wcm9ncmVzc2l2ZUxhenlMb2FkKCl9O3QucHJvdG90eXBlLm5leHQ9dC5wcm90b3R5cGUuc2xpY2tOZXh0PWZ1bmN0aW9uKCl7dGhpcy5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZToibmV4dCJ9fSl9O3QucHJvdG90eXBlLm9yaWVudGF0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmNoZWNrUmVzcG9uc2l2ZSgpO24uc2V0UG9zaXRpb24oKX07dC5wcm90b3R5cGUucGF1c2U9dC5wcm90b3R5cGUuc2xpY2tQYXVzZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5hdXRvUGxheUNsZWFyKCk7bi5wYXVzZWQ9ITB9O3QucHJvdG90eXBlLnBsYXk9dC5wcm90b3R5cGUuc2xpY2tQbGF5PWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmF1dG9QbGF5KCk7bi5vcHRpb25zLmF1dG9wbGF5PSEwO24ucGF1c2VkPSExO24uZm9jdXNzZWQ9ITE7bi5pbnRlcnJ1cHRlZD0hMX07dC5wcm90b3R5cGUucG9zdFNsaWRlPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7aS51bnNsaWNrZWR8fChpLiRzbGlkZXIudHJpZ2dlcigiYWZ0ZXJDaGFuZ2UiLFtpLHRdKSxpLmFuaW1hdGluZz0hMSxpLnNsaWRlQ291bnQ+aS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmaS5zZXRQb3NpdGlvbigpLGkuc3dpcGVMZWZ0PW51bGwsaS5vcHRpb25zLmF1dG9wbGF5JiZpLmF1dG9QbGF5KCksITA9PT1pLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSYmKGkuaW5pdEFEQSgpLGkub3B0aW9ucy5mb2N1c09uQ2hhbmdlJiZuKGkuJHNsaWRlcy5nZXQoaS5jdXJyZW50U2xpZGUpKS5hdHRyKCJ0YWJpbmRleCIsMCkuZm9jdXMoKSkpfTt0LnByb3RvdHlwZS5wcmV2PXQucHJvdG90eXBlLnNsaWNrUHJldj1mdW5jdGlvbigpe3RoaXMuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6InByZXZpb3VzIn19KX07dC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfTt0LnByb3RvdHlwZS5wcm9ncmVzc2l2ZUxhenlMb2FkPWZ1bmN0aW9uKHQpe3Q9dHx8MTt2YXIgcix1LGYsZSxvLGk9dGhpcyxzPW4oImltZ1tkYXRhLWxhenldIixpLiRzbGlkZXIpO3MubGVuZ3RoPyhyPXMuZmlyc3QoKSx1PXIuYXR0cigiZGF0YS1sYXp5IiksZj1yLmF0dHIoImRhdGEtc3Jjc2V0IiksZT1yLmF0dHIoImRhdGEtc2l6ZXMiKXx8aS4kc2xpZGVyLmF0dHIoImRhdGEtc2l6ZXMiKSwobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSkub25sb2FkPWZ1bmN0aW9uKCl7ZiYmKHIuYXR0cigic3Jjc2V0IixmKSxlJiZyLmF0dHIoInNpemVzIixlKSk7ci5hdHRyKCJzcmMiLHUpLnJlbW92ZUF0dHIoImRhdGEtbGF6eSBkYXRhLXNyY3NldCBkYXRhLXNpemVzIikucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKTshMD09PWkub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCYmaS5zZXRQb3NpdGlvbigpO2kuJHNsaWRlci50cmlnZ2VyKCJsYXp5TG9hZGVkIixbaSxyLHVdKTtpLnByb2dyZXNzaXZlTGF6eUxvYWQoKX0sby5vbmVycm9yPWZ1bmN0aW9uKCl7dDwzP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnByb2dyZXNzaXZlTGF6eUxvYWQodCsxKX0sNTAwKTooci5yZW1vdmVBdHRyKCJkYXRhLWxhenkiKS5yZW1vdmVDbGFzcygic2xpY2stbG9hZGluZyIpLmFkZENsYXNzKCJzbGljay1sYXp5bG9hZC1lcnJvciIpLGkuJHNsaWRlci50cmlnZ2VyKCJsYXp5TG9hZEVycm9yIixbaSxyLHVdKSxpLnByb2dyZXNzaXZlTGF6eUxvYWQoKSl9LG8uc3JjPXUpOmkuJHNsaWRlci50cmlnZ2VyKCJhbGxJbWFnZXNMb2FkZWQiLFtpXSl9O3QucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24odCl7dmFyIHIsdSxpPXRoaXM7dT1pLnNsaWRlQ291bnQtaS5vcHRpb25zLnNsaWRlc1RvU2hvdzshaS5vcHRpb25zLmluZmluaXRlJiZpLmN1cnJlbnRTbGlkZT51JiYoaS5jdXJyZW50U2xpZGU9dSk7aS5zbGlkZUNvdW50PD1pLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYoaS5jdXJyZW50U2xpZGU9MCk7cj1pLmN1cnJlbnRTbGlkZTtpLmRlc3Ryb3koITApO24uZXh0ZW5kKGksaS5pbml0aWFscyx7Y3VycmVudFNsaWRlOnJ9KTtpLmluaXQoKTt0fHxpLmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOiJpbmRleCIsaW5kZXg6cn19LCExKX07dC5wcm90b3R5cGUucmVnaXN0ZXJCcmVha3BvaW50cz1mdW5jdGlvbigpe3ZhciB1LGYsaSx0PXRoaXMscj10Lm9wdGlvbnMucmVzcG9uc2l2ZXx8bnVsbDtpZigiYXJyYXkiPT09bi50eXBlKHIpJiZyLmxlbmd0aCl7dC5yZXNwb25kVG89dC5vcHRpb25zLnJlc3BvbmRUb3x8IndpbmRvdyI7Zm9yKHUgaW4gcilpZihpPXQuYnJlYWtwb2ludHMubGVuZ3RoLTEsci5oYXNPd25Qcm9wZXJ0eSh1KSl7Zm9yKGY9clt1XS5icmVha3BvaW50O2k+PTA7KXQuYnJlYWtwb2ludHNbaV0mJnQuYnJlYWtwb2ludHNbaV09PT1mJiZ0LmJyZWFrcG9pbnRzLnNwbGljZShpLDEpLGktLTt0LmJyZWFrcG9pbnRzLnB1c2goZik7dC5icmVha3BvaW50U2V0dGluZ3NbZl09clt1XS5zZXR0aW5nc310LmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24obixpKXtyZXR1cm4gdC5vcHRpb25zLm1vYmlsZUZpcnN0P24taTppLW59KX19O3QucHJvdG90eXBlLnJlaW5pdD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC4kc2xpZGVzPXQuJHNsaWRlVHJhY2suY2hpbGRyZW4odC5vcHRpb25zLnNsaWRlKS5hZGRDbGFzcygic2xpY2stc2xpZGUiKTt0LnNsaWRlQ291bnQ9dC4kc2xpZGVzLmxlbmd0aDt0LmN1cnJlbnRTbGlkZT49dC5zbGlkZUNvdW50JiYwIT09dC5jdXJyZW50U2xpZGUmJih0LmN1cnJlbnRTbGlkZT10LmN1cnJlbnRTbGlkZS10Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpO3Quc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKHQuY3VycmVudFNsaWRlPTApO3QucmVnaXN0ZXJCcmVha3BvaW50cygpO3Quc2V0UHJvcHMoKTt0LnNldHVwSW5maW5pdGUoKTt0LmJ1aWxkQXJyb3dzKCk7dC51cGRhdGVBcnJvd3MoKTt0LmluaXRBcnJvd0V2ZW50cygpO3QuYnVpbGREb3RzKCk7dC51cGRhdGVEb3RzKCk7dC5pbml0RG90RXZlbnRzKCk7dC5jbGVhblVwU2xpZGVFdmVudHMoKTt0LmluaXRTbGlkZUV2ZW50cygpO3QuY2hlY2tSZXNwb25zaXZlKCExLCEwKTshMD09PXQub3B0aW9ucy5mb2N1c09uU2VsZWN0JiZuKHQuJHNsaWRlVHJhY2spLmNoaWxkcmVuKCkub24oImNsaWNrLnNsaWNrIix0LnNlbGVjdEhhbmRsZXIpO3Quc2V0U2xpZGVDbGFzc2VzKCJudW1iZXIiPT10eXBlb2YgdC5jdXJyZW50U2xpZGU/dC5jdXJyZW50U2xpZGU6MCk7dC5zZXRQb3NpdGlvbigpO3QuZm9jdXNIYW5kbGVyKCk7dC5wYXVzZWQ9IXQub3B0aW9ucy5hdXRvcGxheTt0LmF1dG9QbGF5KCk7dC4kc2xpZGVyLnRyaWdnZXIoInJlSW5pdCIsW3RdKX07dC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztuKHdpbmRvdykud2lkdGgoKSE9PXQud2luZG93V2lkdGgmJihjbGVhclRpbWVvdXQodC53aW5kb3dEZWxheSksdC53aW5kb3dEZWxheT13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3Qud2luZG93V2lkdGg9bih3aW5kb3cpLndpZHRoKCk7dC5jaGVja1Jlc3BvbnNpdmUoKTt0LnVuc2xpY2tlZHx8dC5zZXRQb3NpdGlvbigpfSw1MCkpfTt0LnByb3RvdHlwZS5yZW1vdmVTbGlkZT10LnByb3RvdHlwZS5zbGlja1JlbW92ZT1mdW5jdGlvbihuLHQsaSl7dmFyIHI9dGhpcztpZihuPSJib29sZWFuIj09dHlwZW9mIG4/ITA9PT0odD1uKT8wOnIuc2xpZGVDb3VudC0xOiEwPT09dD8tLW46bixyLnNsaWRlQ291bnQ8MXx8bjwwfHxuPnIuc2xpZGVDb3VudC0xKXJldHVybiExO3IudW5sb2FkKCk7ITA9PT1pP3IuJHNsaWRlVHJhY2suY2hpbGRyZW4oKS5yZW1vdmUoKTpyLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZXEobikucmVtb3ZlKCk7ci4kc2xpZGVzPXIuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKTtyLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCk7ci4kc2xpZGVUcmFjay5hcHBlbmQoci4kc2xpZGVzKTtyLiRzbGlkZXNDYWNoZT1yLiRzbGlkZXM7ci5yZWluaXQoKX07dC5wcm90b3R5cGUuc2V0Q1NTPWZ1bmN0aW9uKG4pe3ZhciByLHUsdD10aGlzLGk9e307ITA9PT10Lm9wdGlvbnMucnRsJiYobj0tbik7cj0ibGVmdCI9PXQucG9zaXRpb25Qcm9wP01hdGguY2VpbChuKSsicHgiOiIwcHgiO3U9InRvcCI9PXQucG9zaXRpb25Qcm9wP01hdGguY2VpbChuKSsicHgiOiIwcHgiO2lbdC5wb3NpdGlvblByb3BdPW47ITE9PT10LnRyYW5zZm9ybXNFbmFibGVkP3QuJHNsaWRlVHJhY2suY3NzKGkpOihpPXt9LCExPT09dC5jc3NUcmFuc2l0aW9ucz8oaVt0LmFuaW1UeXBlXT0idHJhbnNsYXRlKCIrcisiLCAiK3UrIikiLHQuJHNsaWRlVHJhY2suY3NzKGkpKTooaVt0LmFuaW1UeXBlXT0idHJhbnNsYXRlM2QoIityKyIsICIrdSsiLCAwcHgpIix0LiRzbGlkZVRyYWNrLmNzcyhpKSkpfTt0LnByb3RvdHlwZS5zZXREaW1lbnNpb25zPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0OyExPT09bi5vcHRpb25zLnZlcnRpY2FsPyEwPT09bi5vcHRpb25zLmNlbnRlck1vZGUmJm4uJGxpc3QuY3NzKHtwYWRkaW5nOiIwcHggIituLm9wdGlvbnMuY2VudGVyUGFkZGluZ30pOihuLiRsaXN0LmhlaWdodChuLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCghMCkqbi5vcHRpb25zLnNsaWRlc1RvU2hvdyksITA9PT1uLm9wdGlvbnMuY2VudGVyTW9kZSYmbi4kbGlzdC5jc3Moe3BhZGRpbmc6bi5vcHRpb25zLmNlbnRlclBhZGRpbmcrIiAwcHgifSkpO24ubGlzdFdpZHRoPW4uJGxpc3Qud2lkdGgoKTtuLmxpc3RIZWlnaHQ9bi4kbGlzdC5oZWlnaHQoKTshMT09PW4ub3B0aW9ucy52ZXJ0aWNhbCYmITE9PT1uLm9wdGlvbnMudmFyaWFibGVXaWR0aD8obi5zbGlkZVdpZHRoPU1hdGguY2VpbChuLmxpc3RXaWR0aC9uLm9wdGlvbnMuc2xpZGVzVG9TaG93KSxuLiRzbGlkZVRyYWNrLndpZHRoKE1hdGguY2VpbChuLnNsaWRlV2lkdGgqbi4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikubGVuZ3RoKSkpOiEwPT09bi5vcHRpb25zLnZhcmlhYmxlV2lkdGg/bi4kc2xpZGVUcmFjay53aWR0aCg1ZTMqbi5zbGlkZUNvdW50KToobi5zbGlkZVdpZHRoPU1hdGguY2VpbChuLmxpc3RXaWR0aCksbi4kc2xpZGVUcmFjay5oZWlnaHQoTWF0aC5jZWlsKG4uJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KCEwKSpuLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS5sZW5ndGgpKSk7dD1uLiRzbGlkZXMuZmlyc3QoKS5vdXRlcldpZHRoKCEwKS1uLiRzbGlkZXMuZmlyc3QoKS53aWR0aCgpOyExPT09bi5vcHRpb25zLnZhcmlhYmxlV2lkdGgmJm4uJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLndpZHRoKG4uc2xpZGVXaWR0aC10KX07dC5wcm90b3R5cGUuc2V0RmFkZT1mdW5jdGlvbigpe3ZhciBpLHQ9dGhpczt0LiRzbGlkZXMuZWFjaChmdW5jdGlvbihyLHUpe2k9dC5zbGlkZVdpZHRoKnIqLTE7ITA9PT10Lm9wdGlvbnMucnRsP24odSkuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLHJpZ2h0OmksdG9wOjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMixvcGFjaXR5OjB9KTpuKHUpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixsZWZ0OmksdG9wOjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMixvcGFjaXR5OjB9KX0pO3QuJHNsaWRlcy5lcSh0LmN1cnJlbnRTbGlkZSkuY3NzKHt6SW5kZXg6dC5vcHRpb25zLnpJbmRleC0xLG9wYWNpdHk6MX0pfTt0LnByb3RvdHlwZS5zZXRIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ7MT09PW4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJiEwPT09bi5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0JiYhMT09PW4ub3B0aW9ucy52ZXJ0aWNhbCYmKHQ9bi4kc2xpZGVzLmVxKG4uY3VycmVudFNsaWRlKS5vdXRlckhlaWdodCghMCksbi4kbGlzdC5jc3MoImhlaWdodCIsdCkpfTt0LnByb3RvdHlwZS5zZXRPcHRpb249dC5wcm90b3R5cGUuc2xpY2tTZXRPcHRpb249ZnVuY3Rpb24oKXt2YXIgdSxmLGUsaSxyLHQ9dGhpcyxvPSExO2lmKCJvYmplY3QiPT09bi50eXBlKGFyZ3VtZW50c1swXSk/KGU9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHI9Im11bHRpcGxlIik6InN0cmluZyI9PT1uLnR5cGUoYXJndW1lbnRzWzBdKSYmKGU9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLG89YXJndW1lbnRzWzJdLCJyZXNwb25zaXZlIj09PWFyZ3VtZW50c1swXSYmImFycmF5Ij09PW4udHlwZShhcmd1bWVudHNbMV0pP3I9InJlc3BvbnNpdmUiOnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmKHI9InNpbmdsZSIpKSwic2luZ2xlIj09PXIpdC5vcHRpb25zW2VdPWk7ZWxzZSBpZigibXVsdGlwbGUiPT09ciluLmVhY2goZSxmdW5jdGlvbihuLGkpe3Qub3B0aW9uc1tuXT1pfSk7ZWxzZSBpZigicmVzcG9uc2l2ZSI9PT1yKWZvcihmIGluIGkpaWYoImFycmF5IiE9PW4udHlwZSh0Lm9wdGlvbnMucmVzcG9uc2l2ZSkpdC5vcHRpb25zLnJlc3BvbnNpdmU9W2lbZl1dO2Vsc2V7Zm9yKHU9dC5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoLTE7dT49MDspdC5vcHRpb25zLnJlc3BvbnNpdmVbdV0uYnJlYWtwb2ludD09PWlbZl0uYnJlYWtwb2ludCYmdC5vcHRpb25zLnJlc3BvbnNpdmUuc3BsaWNlKHUsMSksdS0tO3Qub3B0aW9ucy5yZXNwb25zaXZlLnB1c2goaVtmXSl9byYmKHQudW5sb2FkKCksdC5yZWluaXQoKSl9O3QucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLnNldERpbWVuc2lvbnMoKTtuLnNldEhlaWdodCgpOyExPT09bi5vcHRpb25zLmZhZGU/bi5zZXRDU1Mobi5nZXRMZWZ0KG4uY3VycmVudFNsaWRlKSk6bi5zZXRGYWRlKCk7bi4kc2xpZGVyLnRyaWdnZXIoInNldFBvc2l0aW9uIixbbl0pfTt0LnByb3RvdHlwZS5zZXRQcm9wcz1mdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1kb2N1bWVudC5ib2R5LnN0eWxlO24ucG9zaXRpb25Qcm9wPSEwPT09bi5vcHRpb25zLnZlcnRpY2FsPyJ0b3AiOiJsZWZ0IjsidG9wIj09PW4ucG9zaXRpb25Qcm9wP24uJHNsaWRlci5hZGRDbGFzcygic2xpY2stdmVydGljYWwiKTpuLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLXZlcnRpY2FsIik7dm9pZCAwPT09dC5XZWJraXRUcmFuc2l0aW9uJiZ2b2lkIDA9PT10Lk1velRyYW5zaXRpb24mJnZvaWQgMD09PXQubXNUcmFuc2l0aW9ufHwhMD09PW4ub3B0aW9ucy51c2VDU1MmJihuLmNzc1RyYW5zaXRpb25zPSEwKTtuLm9wdGlvbnMuZmFkZSYmKCJudW1iZXIiPT10eXBlb2Ygbi5vcHRpb25zLnpJbmRleD9uLm9wdGlvbnMuekluZGV4PDMmJihuLm9wdGlvbnMuekluZGV4PTMpOm4ub3B0aW9ucy56SW5kZXg9bi5kZWZhdWx0cy56SW5kZXgpO3ZvaWQgMCE9PXQuT1RyYW5zZm9ybSYmKG4uYW5pbVR5cGU9Ik9UcmFuc2Zvcm0iLG4udHJhbnNmb3JtVHlwZT0iLW8tdHJhbnNmb3JtIixuLnRyYW5zaXRpb25UeXBlPSJPVHJhbnNpdGlvbiIsdm9pZCAwPT09dC5wZXJzcGVjdGl2ZVByb3BlcnR5JiZ2b2lkIDA9PT10LndlYmtpdFBlcnNwZWN0aXZlJiYobi5hbmltVHlwZT0hMSkpO3ZvaWQgMCE9PXQuTW96VHJhbnNmb3JtJiYobi5hbmltVHlwZT0iTW96VHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9Ii1tb3otdHJhbnNmb3JtIixuLnRyYW5zaXRpb25UeXBlPSJNb3pUcmFuc2l0aW9uIix2b2lkIDA9PT10LnBlcnNwZWN0aXZlUHJvcGVydHkmJnZvaWQgMD09PXQuTW96UGVyc3BlY3RpdmUmJihuLmFuaW1UeXBlPSExKSk7dm9pZCAwIT09dC53ZWJraXRUcmFuc2Zvcm0mJihuLmFuaW1UeXBlPSJ3ZWJraXRUcmFuc2Zvcm0iLG4udHJhbnNmb3JtVHlwZT0iLXdlYmtpdC10cmFuc2Zvcm0iLG4udHJhbnNpdGlvblR5cGU9IndlYmtpdFRyYW5zaXRpb24iLHZvaWQgMD09PXQucGVyc3BlY3RpdmVQcm9wZXJ0eSYmdm9pZCAwPT09dC53ZWJraXRQZXJzcGVjdGl2ZSYmKG4uYW5pbVR5cGU9ITEpKTt2b2lkIDAhPT10Lm1zVHJhbnNmb3JtJiYobi5hbmltVHlwZT0ibXNUcmFuc2Zvcm0iLG4udHJhbnNmb3JtVHlwZT0iLW1zLXRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0ibXNUcmFuc2l0aW9uIix2b2lkIDA9PT10Lm1zVHJhbnNmb3JtJiYobi5hbmltVHlwZT0hMSkpO3ZvaWQgMCE9PXQudHJhbnNmb3JtJiYhMSE9PW4uYW5pbVR5cGUmJihuLmFuaW1UeXBlPSJ0cmFuc2Zvcm0iLG4udHJhbnNmb3JtVHlwZT0idHJhbnNmb3JtIixuLnRyYW5zaXRpb25UeXBlPSJ0cmFuc2l0aW9uIik7bi50cmFuc2Zvcm1zRW5hYmxlZD1uLm9wdGlvbnMudXNlVHJhbnNmb3JtJiZudWxsIT09bi5hbmltVHlwZSYmITEhPT1uLmFuaW1UeXBlfTt0LnByb3RvdHlwZS5zZXRTbGlkZUNsYXNzZXM9ZnVuY3Rpb24obil7dmFyIHUsaSxyLGYsdD10aGlzLGU7KGk9dC4kc2xpZGVyLmZpbmQoIi5zbGljay1zbGlkZSIpLnJlbW92ZUNsYXNzKCJzbGljay1hY3RpdmUgc2xpY2stY2VudGVyIHNsaWNrLWN1cnJlbnQiKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKSx0LiRzbGlkZXMuZXEobikuYWRkQ2xhc3MoInNsaWNrLWN1cnJlbnQiKSwhMD09PXQub3B0aW9ucy5jZW50ZXJNb2RlKT8oZT10Lm9wdGlvbnMuc2xpZGVzVG9TaG93JTI9PTA/MTowLHU9TWF0aC5mbG9vcih0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpLCEwPT09dC5vcHRpb25zLmluZmluaXRlJiYobj49dSYmbjw9dC5zbGlkZUNvdW50LTEtdT90LiRzbGlkZXMuc2xpY2Uobi11K2Usbit1KzEpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIik6KHI9dC5vcHRpb25zLnNsaWRlc1RvU2hvdytuLGkuc2xpY2Uoci11KzErZSxyK3UrMikuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKSksMD09PW4/aS5lcShpLmxlbmd0aC0xLXQub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1jZW50ZXIiKTpuPT09dC5zbGlkZUNvdW50LTEmJmkuZXEodC5vcHRpb25zLnNsaWRlc1RvU2hvdykuYWRkQ2xhc3MoInNsaWNrLWNlbnRlciIpKSx0LiRzbGlkZXMuZXEobikuYWRkQ2xhc3MoInNsaWNrLWNlbnRlciIpKTpuPj0wJiZuPD10LnNsaWRlQ291bnQtdC5vcHRpb25zLnNsaWRlc1RvU2hvdz90LiRzbGlkZXMuc2xpY2UobixuK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIik6aS5sZW5ndGg8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/aS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpOihmPXQuc2xpZGVDb3VudCV0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LHI9ITA9PT10Lm9wdGlvbnMuaW5maW5pdGU/dC5vcHRpb25zLnNsaWRlc1RvU2hvdytuOm4sdC5vcHRpb25zLnNsaWRlc1RvU2hvdz09dC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsJiZ0LnNsaWRlQ291bnQtbjx0Lm9wdGlvbnMuc2xpZGVzVG9TaG93P2kuc2xpY2Uoci0odC5vcHRpb25zLnNsaWRlc1RvU2hvdy1mKSxyK2YpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIik6aS5zbGljZShyLHIrdC5vcHRpb25zLnNsaWRlc1RvU2hvdykuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKSk7Im9uZGVtYW5kIiE9PXQub3B0aW9ucy5sYXp5TG9hZCYmImFudGljaXBhdGVkIiE9PXQub3B0aW9ucy5sYXp5TG9hZHx8dC5sYXp5TG9hZCgpfTt0LnByb3RvdHlwZS5zZXR1cEluZmluaXRlPWZ1bmN0aW9uKCl7dmFyIGkscix1LHQ9dGhpcztpZighMD09PXQub3B0aW9ucy5mYWRlJiYodC5vcHRpb25zLmNlbnRlck1vZGU9ITEpLCEwPT09dC5vcHRpb25zLmluZmluaXRlJiYhMT09PXQub3B0aW9ucy5mYWRlJiYocj1udWxsLHQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93KSl7Zm9yKHU9ITA9PT10Lm9wdGlvbnMuY2VudGVyTW9kZT90Lm9wdGlvbnMuc2xpZGVzVG9TaG93KzE6dC5vcHRpb25zLnNsaWRlc1RvU2hvdyxpPXQuc2xpZGVDb3VudDtpPnQuc2xpZGVDb3VudC11O2ktPTEpcj1pLTEsbih0LiRzbGlkZXNbcl0pLmNsb25lKCEwKS5hdHRyKCJpZCIsIiIpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiLHItdC5zbGlkZUNvdW50KS5wcmVwZW5kVG8odC4kc2xpZGVUcmFjaykuYWRkQ2xhc3MoInNsaWNrLWNsb25lZCIpO2ZvcihpPTA7aTx1K3Quc2xpZGVDb3VudDtpKz0xKXI9aSxuKHQuJHNsaWRlc1tyXSkuY2xvbmUoITApLmF0dHIoImlkIiwiIikuYXR0cigiZGF0YS1zbGljay1pbmRleCIscit0LnNsaWRlQ291bnQpLmFwcGVuZFRvKHQuJHNsaWRlVHJhY2spLmFkZENsYXNzKCJzbGljay1jbG9uZWQiKTt0LiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1jbG9uZWQiKS5maW5kKCJbaWRdIikuZWFjaChmdW5jdGlvbigpe24odGhpcykuYXR0cigiaWQiLCIiKX0pfX07dC5wcm90b3R5cGUuaW50ZXJydXB0PWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7bnx8dC5hdXRvUGxheSgpO3QuaW50ZXJydXB0ZWQ9bn07dC5wcm90b3R5cGUuc2VsZWN0SGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgaT10aGlzLHU9bih0LnRhcmdldCkuaXMoIi5zbGljay1zbGlkZSIpP24odC50YXJnZXQpOm4odC50YXJnZXQpLnBhcmVudHMoIi5zbGljay1zbGlkZSIpLHI9cGFyc2VJbnQodS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IikpO3J8fChyPTApO2kuc2xpZGVDb3VudDw9aS5vcHRpb25zLnNsaWRlc1RvU2hvdz9pLnNsaWRlSGFuZGxlcihyLCExLCEwKTppLnNsaWRlSGFuZGxlcihyKX07dC5wcm90b3R5cGUuc2xpZGVIYW5kbGVyPWZ1bmN0aW9uKG4sdCxpKXt2YXIgdSxmLHMsZSxvLGg9bnVsbCxyPXRoaXM7aWYodD10fHwhMSwhKCEwPT09ci5hbmltYXRpbmcmJiEwPT09ci5vcHRpb25zLndhaXRGb3JBbmltYXRlfHwhMD09PXIub3B0aW9ucy5mYWRlJiZyLmN1cnJlbnRTbGlkZT09PW4pKWlmKCExPT09dCYmci5hc05hdkZvcihuKSx1PW4saD1yLmdldExlZnQodSksZT1yLmdldExlZnQoci5jdXJyZW50U2xpZGUpLHIuY3VycmVudExlZnQ9bnVsbD09PXIuc3dpcGVMZWZ0P2U6ci5zd2lwZUxlZnQsITE9PT1yLm9wdGlvbnMuaW5maW5pdGUmJiExPT09ci5vcHRpb25zLmNlbnRlck1vZGUmJihuPDB8fG4+ci5nZXREb3RDb3VudCgpKnIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpITE9PT1yLm9wdGlvbnMuZmFkZSYmKHU9ci5jdXJyZW50U2xpZGUsITAhPT1pP3IuYW5pbWF0ZVNsaWRlKGUsZnVuY3Rpb24oKXtyLnBvc3RTbGlkZSh1KX0pOnIucG9zdFNsaWRlKHUpKTtlbHNlIGlmKCExPT09ci5vcHRpb25zLmluZmluaXRlJiYhMD09PXIub3B0aW9ucy5jZW50ZXJNb2RlJiYobjwwfHxuPnIuc2xpZGVDb3VudC1yLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpKSExPT09ci5vcHRpb25zLmZhZGUmJih1PXIuY3VycmVudFNsaWRlLCEwIT09aT9yLmFuaW1hdGVTbGlkZShlLGZ1bmN0aW9uKCl7ci5wb3N0U2xpZGUodSl9KTpyLnBvc3RTbGlkZSh1KSk7ZWxzZXtpZihyLm9wdGlvbnMuYXV0b3BsYXkmJmNsZWFySW50ZXJ2YWwoci5hdXRvUGxheVRpbWVyKSxmPXU8MD9yLnNsaWRlQ291bnQlci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT0wP3Iuc2xpZGVDb3VudC1yLnNsaWRlQ291bnQlci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOnIuc2xpZGVDb3VudCt1OnU+PXIuc2xpZGVDb3VudD9yLnNsaWRlQ291bnQlci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT0wPzA6dS1yLnNsaWRlQ291bnQ6dSxyLmFuaW1hdGluZz0hMCxyLiRzbGlkZXIudHJpZ2dlcigiYmVmb3JlQ2hhbmdlIixbcixyLmN1cnJlbnRTbGlkZSxmXSkscz1yLmN1cnJlbnRTbGlkZSxyLmN1cnJlbnRTbGlkZT1mLHIuc2V0U2xpZGVDbGFzc2VzKHIuY3VycmVudFNsaWRlKSxyLm9wdGlvbnMuYXNOYXZGb3ImJihvPShvPXIuZ2V0TmF2VGFyZ2V0KCkpLnNsaWNrKCJnZXRTbGljayIpKS5zbGlkZUNvdW50PD1vLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZvLnNldFNsaWRlQ2xhc3NlcyhyLmN1cnJlbnRTbGlkZSksci51cGRhdGVEb3RzKCksci51cGRhdGVBcnJvd3MoKSwhMD09PXIub3B0aW9ucy5mYWRlKXJldHVybiEwIT09aT8oci5mYWRlU2xpZGVPdXQocyksci5mYWRlU2xpZGUoZixmdW5jdGlvbigpe3IucG9zdFNsaWRlKGYpfSkpOnIucG9zdFNsaWRlKGYpLHZvaWQgci5hbmltYXRlSGVpZ2h0KCk7ITAhPT1pP3IuYW5pbWF0ZVNsaWRlKGgsZnVuY3Rpb24oKXtyLnBvc3RTbGlkZShmKX0pOnIucG9zdFNsaWRlKGYpfX07dC5wcm90b3R5cGUuc3RhcnRMb2FkPWZ1bmN0aW9uKCl7dmFyIG49dGhpczshMD09PW4ub3B0aW9ucy5hcnJvd3MmJm4uc2xpZGVDb3VudD5uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYobi4kcHJldkFycm93LmhpZGUoKSxuLiRuZXh0QXJyb3cuaGlkZSgpKTshMD09PW4ub3B0aW9ucy5kb3RzJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmbi4kZG90cy5oaWRlKCk7bi4kc2xpZGVyLmFkZENsYXNzKCJzbGljay1sb2FkaW5nIil9O3QucHJvdG90eXBlLnN3aXBlRGlyZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGkscix1LG4sdD10aGlzO3JldHVybiBpPXQudG91Y2hPYmplY3Quc3RhcnRYLXQudG91Y2hPYmplY3QuY3VyWCxyPXQudG91Y2hPYmplY3Quc3RhcnRZLXQudG91Y2hPYmplY3QuY3VyWSx1PU1hdGguYXRhbjIocixpKSwobj1NYXRoLnJvdW5kKDE4MCp1L01hdGguUEkpKTwwJiYobj0zNjAtTWF0aC5hYnMobikpLG48PTQ1JiZuPj0wPyExPT09dC5vcHRpb25zLnJ0bD8ibGVmdCI6InJpZ2h0IjpuPD0zNjAmJm4+PTMxNT8hMT09PXQub3B0aW9ucy5ydGw/ImxlZnQiOiJyaWdodCI6bj49MTM1JiZuPD0yMjU/ITE9PT10Lm9wdGlvbnMucnRsPyJyaWdodCI6ImxlZnQiOiEwPT09dC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz9uPj0zNSYmbjw9MTM1PyJkb3duIjoidXAiOiJ2ZXJ0aWNhbCJ9O3QucHJvdG90eXBlLnN3aXBlRW5kPWZ1bmN0aW9uKCl7dmFyIHQsaSxuPXRoaXM7aWYobi5kcmFnZ2luZz0hMSxuLnN3aXBpbmc9ITEsbi5zY3JvbGxpbmcpcmV0dXJuIG4uc2Nyb2xsaW5nPSExLCExO2lmKG4uaW50ZXJydXB0ZWQ9ITEsbi5zaG91bGRDbGljaz0hKG4udG91Y2hPYmplY3Quc3dpcGVMZW5ndGg+MTApLHZvaWQgMD09PW4udG91Y2hPYmplY3QuY3VyWClyZXR1cm4hMTtpZighMD09PW4udG91Y2hPYmplY3QuZWRnZUhpdCYmbi4kc2xpZGVyLnRyaWdnZXIoImVkZ2UiLFtuLG4uc3dpcGVEaXJlY3Rpb24oKV0pLG4udG91Y2hPYmplY3Quc3dpcGVMZW5ndGg+PW4udG91Y2hPYmplY3QubWluU3dpcGUpe3N3aXRjaChpPW4uc3dpcGVEaXJlY3Rpb24oKSl7Y2FzZSJsZWZ0IjpjYXNlImRvd24iOnQ9bi5vcHRpb25zLnN3aXBlVG9TbGlkZT9uLmNoZWNrTmF2aWdhYmxlKG4uY3VycmVudFNsaWRlK24uZ2V0U2xpZGVDb3VudCgpKTpuLmN1cnJlbnRTbGlkZStuLmdldFNsaWRlQ291bnQoKTtuLmN1cnJlbnREaXJlY3Rpb249MDticmVhaztjYXNlInJpZ2h0IjpjYXNlInVwIjp0PW4ub3B0aW9ucy5zd2lwZVRvU2xpZGU/bi5jaGVja05hdmlnYWJsZShuLmN1cnJlbnRTbGlkZS1uLmdldFNsaWRlQ291bnQoKSk6bi5jdXJyZW50U2xpZGUtbi5nZXRTbGlkZUNvdW50KCk7bi5jdXJyZW50RGlyZWN0aW9uPTF9InZlcnRpY2FsIiE9aSYmKG4uc2xpZGVIYW5kbGVyKHQpLG4udG91Y2hPYmplY3Q9e30sbi4kc2xpZGVyLnRyaWdnZXIoInN3aXBlIixbbixpXSkpfWVsc2Ugbi50b3VjaE9iamVjdC5zdGFydFghPT1uLnRvdWNoT2JqZWN0LmN1clgmJihuLnNsaWRlSGFuZGxlcihuLmN1cnJlbnRTbGlkZSksbi50b3VjaE9iamVjdD17fSl9O3QucHJvdG90eXBlLnN3aXBlSGFuZGxlcj1mdW5jdGlvbihuKXt2YXIgdD10aGlzO2lmKCEoITE9PT10Lm9wdGlvbnMuc3dpcGV8fCJvbnRvdWNoZW5kImluIGRvY3VtZW50JiYhMT09PXQub3B0aW9ucy5zd2lwZXx8ITE9PT10Lm9wdGlvbnMuZHJhZ2dhYmxlJiYtMSE9PW4udHlwZS5pbmRleE9mKCJtb3VzZSIpKSlzd2l0Y2godC50b3VjaE9iamVjdC5maW5nZXJDb3VudD1uLm9yaWdpbmFsRXZlbnQmJnZvaWQgMCE9PW4ub3JpZ2luYWxFdmVudC50b3VjaGVzP24ub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aDoxLHQudG91Y2hPYmplY3QubWluU3dpcGU9dC5saXN0V2lkdGgvdC5vcHRpb25zLnRvdWNoVGhyZXNob2xkLCEwPT09dC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyYmKHQudG91Y2hPYmplY3QubWluU3dpcGU9dC5saXN0SGVpZ2h0L3Qub3B0aW9ucy50b3VjaFRocmVzaG9sZCksbi5kYXRhLmFjdGlvbil7Y2FzZSJzdGFydCI6dC5zd2lwZVN0YXJ0KG4pO2JyZWFrO2Nhc2UibW92ZSI6dC5zd2lwZU1vdmUobik7YnJlYWs7Y2FzZSJlbmQiOnQuc3dpcGVFbmQobil9fTt0LnByb3RvdHlwZS5zd2lwZU1vdmU9ZnVuY3Rpb24obil7dmFyIGYsZSxyLHUsaSxvLHQ9dGhpcztyZXR1cm4gaT12b2lkIDAhPT1uLm9yaWdpbmFsRXZlbnQ/bi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM6bnVsbCwhKCF0LmRyYWdnaW5nfHx0LnNjcm9sbGluZ3x8aSYmMSE9PWkubGVuZ3RoKSYmKGY9dC5nZXRMZWZ0KHQuY3VycmVudFNsaWRlKSx0LnRvdWNoT2JqZWN0LmN1clg9dm9pZCAwIT09aT9pWzBdLnBhZ2VYOm4uY2xpZW50WCx0LnRvdWNoT2JqZWN0LmN1clk9dm9pZCAwIT09aT9pWzBdLnBhZ2VZOm4uY2xpZW50WSx0LnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPU1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KHQudG91Y2hPYmplY3QuY3VyWC10LnRvdWNoT2JqZWN0LnN0YXJ0WCwyKSkpLG89TWF0aC5yb3VuZChNYXRoLnNxcnQoTWF0aC5wb3codC50b3VjaE9iamVjdC5jdXJZLXQudG91Y2hPYmplY3Quc3RhcnRZLDIpKSksIXQub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcmJiF0LnN3aXBpbmcmJm8+ND8odC5zY3JvbGxpbmc9ITAsITEpOighMD09PXQub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcmJih0LnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPW8pLGU9dC5zd2lwZURpcmVjdGlvbigpLHZvaWQgMCE9PW4ub3JpZ2luYWxFdmVudCYmdC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD40JiYodC5zd2lwaW5nPSEwLG4ucHJldmVudERlZmF1bHQoKSksdT0oITE9PT10Lm9wdGlvbnMucnRsPzE6LTEpKih0LnRvdWNoT2JqZWN0LmN1clg+dC50b3VjaE9iamVjdC5zdGFydFg/MTotMSksITA9PT10Lm9wdGlvbnMudmVydGljYWxTd2lwaW5nJiYodT10LnRvdWNoT2JqZWN0LmN1clk+dC50b3VjaE9iamVjdC5zdGFydFk/MTotMSkscj10LnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoLHQudG91Y2hPYmplY3QuZWRnZUhpdD0hMSwhMT09PXQub3B0aW9ucy5pbmZpbml0ZSYmKDA9PT10LmN1cnJlbnRTbGlkZSYmInJpZ2h0Ij09PWV8fHQuY3VycmVudFNsaWRlPj10LmdldERvdENvdW50KCkmJiJsZWZ0Ij09PWUpJiYocj10LnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoKnQub3B0aW9ucy5lZGdlRnJpY3Rpb24sdC50b3VjaE9iamVjdC5lZGdlSGl0PSEwKSx0LnN3aXBlTGVmdD0hMT09PXQub3B0aW9ucy52ZXJ0aWNhbD9mK3IqdTpmK3IqKHQuJGxpc3QuaGVpZ2h0KCkvdC5saXN0V2lkdGgpKnUsITA9PT10Lm9wdGlvbnMudmVydGljYWxTd2lwaW5nJiYodC5zd2lwZUxlZnQ9ZityKnUpLCEwIT09dC5vcHRpb25zLmZhZGUmJiExIT09dC5vcHRpb25zLnRvdWNoTW92ZSYmKCEwPT09dC5hbmltYXRpbmc/KHQuc3dpcGVMZWZ0PW51bGwsITEpOnZvaWQgdC5zZXRDU1ModC5zd2lwZUxlZnQpKSkpfTt0LnByb3RvdHlwZS5zd2lwZVN0YXJ0PWZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpcztpZih0LmludGVycnVwdGVkPSEwLDEhPT10LnRvdWNoT2JqZWN0LmZpbmdlckNvdW50fHx0LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3cpcmV0dXJuIHQudG91Y2hPYmplY3Q9e30sITE7dm9pZCAwIT09bi5vcmlnaW5hbEV2ZW50JiZ2b2lkIDAhPT1uLm9yaWdpbmFsRXZlbnQudG91Y2hlcyYmKGk9bi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0pO3QudG91Y2hPYmplY3Quc3RhcnRYPXQudG91Y2hPYmplY3QuY3VyWD12b2lkIDAhPT1pP2kucGFnZVg6bi5jbGllbnRYO3QudG91Y2hPYmplY3Quc3RhcnRZPXQudG91Y2hPYmplY3QuY3VyWT12b2lkIDAhPT1pP2kucGFnZVk6bi5jbGllbnRZO3QuZHJhZ2dpbmc9ITB9O3QucHJvdG90eXBlLnVuZmlsdGVyU2xpZGVzPXQucHJvdG90eXBlLnNsaWNrVW5maWx0ZXI9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO251bGwhPT1uLiRzbGlkZXNDYWNoZSYmKG4udW5sb2FkKCksbi4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpLG4uJHNsaWRlc0NhY2hlLmFwcGVuZFRvKG4uJHNsaWRlVHJhY2spLG4ucmVpbml0KCkpfTt0LnByb3RvdHlwZS51bmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO24oIi5zbGljay1jbG9uZWQiLHQuJHNsaWRlcikucmVtb3ZlKCk7dC4kZG90cyYmdC4kZG90cy5yZW1vdmUoKTt0LiRwcmV2QXJyb3cmJnQuaHRtbEV4cHIudGVzdCh0Lm9wdGlvbnMucHJldkFycm93KSYmdC4kcHJldkFycm93LnJlbW92ZSgpO3QuJG5leHRBcnJvdyYmdC5odG1sRXhwci50ZXN0KHQub3B0aW9ucy5uZXh0QXJyb3cpJiZ0LiRuZXh0QXJyb3cucmVtb3ZlKCk7dC4kc2xpZGVzLnJlbW92ZUNsYXNzKCJzbGljay1zbGlkZSBzbGljay1hY3RpdmUgc2xpY2stdmlzaWJsZSBzbGljay1jdXJyZW50IikuYXR0cigiYXJpYS1oaWRkZW4iLCJ0cnVlIikuY3NzKCJ3aWR0aCIsIiIpfTt0LnByb3RvdHlwZS51bnNsaWNrPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7dC4kc2xpZGVyLnRyaWdnZXIoInVuc2xpY2siLFt0LG5dKTt0LmRlc3Ryb3koKX07dC5wcm90b3R5cGUudXBkYXRlQXJyb3dzPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztNYXRoLmZsb29yKG4ub3B0aW9ucy5zbGlkZXNUb1Nob3cvMik7ITA9PT1uLm9wdGlvbnMuYXJyb3dzJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmIW4ub3B0aW9ucy5pbmZpbml0ZSYmKG4uJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwiZmFsc2UiKSxuLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIiksMD09PW4uY3VycmVudFNsaWRlPyhuLiRwcmV2QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSxuLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIikpOm4uY3VycmVudFNsaWRlPj1uLnNsaWRlQ291bnQtbi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmITE9PT1uLm9wdGlvbnMuY2VudGVyTW9kZT8obi4kbmV4dEFycm93LmFkZENsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksbi4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJmYWxzZSIpKTpuLmN1cnJlbnRTbGlkZT49bi5zbGlkZUNvdW50LTEmJiEwPT09bi5vcHRpb25zLmNlbnRlck1vZGUmJihuLiRuZXh0QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSxuLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIikpKX07dC5wcm90b3R5cGUudXBkYXRlRG90cz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bnVsbCE9PW4uJGRvdHMmJihuLiRkb3RzLmZpbmQoImxpIikucmVtb3ZlQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmVuZCgpLG4uJGRvdHMuZmluZCgibGkiKS5lcShNYXRoLmZsb29yKG4uY3VycmVudFNsaWRlL24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKSl9O3QucHJvdG90eXBlLnZpc2liaWxpdHk9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24ub3B0aW9ucy5hdXRvcGxheSYmKG4uaW50ZXJydXB0ZWQ9ZG9jdW1lbnRbbi5oaWRkZW5dPyEwOiExKX07bi5mbi5zbGljaz1mdW5jdGlvbigpe2Zvcih2YXIgdSxpPXRoaXMscj1hcmd1bWVudHNbMF0sZj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZT1pLmxlbmd0aCxuPTA7bjxlO24rKylpZigib2JqZWN0Ij09dHlwZW9mIHJ8fHZvaWQgMD09PXI/aVtuXS5zbGljaz1uZXcgdChpW25dLHIpOnU9aVtuXS5zbGlja1tyXS5hcHBseShpW25dLnNsaWNrLGYpLHZvaWQgMCE9PXUpcmV0dXJuIHU7cmV0dXJuIGl9fSk7Ci8qIQogICogQm9vdHN0cmFwIHY0LjAuMCAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tKQogICogQ29weXJpZ2h0IDIwMTEtMjAxOCBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKQogICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSkKICAqLwohZnVuY3Rpb24obix0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyxyZXF1aXJlKCJqcXVlcnkiKSxyZXF1aXJlKCJwb3BwZXIuanMiKSk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJleHBvcnRzIiwianF1ZXJ5IiwicG9wcGVyLmpzIl0sdCk6dChuLmJvb3RzdHJhcD17fSxuLmpRdWVyeSxuLlBvcHBlcil9KHRoaXMsZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpdChuLHQpe2Zvcih2YXIgaSxyPTA7cjx0Lmxlbmd0aDtyKyspaT10W3JdLGkuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4saS5rZXksaSl9ZnVuY3Rpb24gbyhuLHQsaSl7cmV0dXJuIHQmJml0KG4ucHJvdG90eXBlLHQpLGkmJml0KG4saSksbn1mdW5jdGlvbiBmKCl7cmV0dXJuKGY9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24obil7Zm9yKHZhciBpLHIsdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe2k9YXJndW1lbnRzW3RdO2ZvcihyIGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGkscikmJihuW3JdPWlbcl0pfXJldHVybiBufSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXQ9dCYmdC5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdCIpP3QuZGVmYXVsdDp0O2k9aSYmaS5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdCIpP2kuZGVmYXVsdDppO3ZhciBlLGgsdix5LHJ0LHAsdXQsZnQsZXQscyx1LGMsdyxiLGssb3QsbCxzdCxodCxnLGN0LGx0LGF0LG50LHR0LGEscj1mdW5jdGlvbihuKXtmdW5jdGlvbiByKGkpe3ZhciB1PXRoaXMscj0hMTtyZXR1cm4gbih0aGlzKS5vbmUodC5UUkFOU0lUSU9OX0VORCxmdW5jdGlvbigpe3I9ITB9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cnx8dC50cmlnZ2VyVHJhbnNpdGlvbkVuZCh1KX0saSksdGhpc312YXIgaT0hMSx0PXtUUkFOU0lUSU9OX0VORDoiYnNUcmFuc2l0aW9uRW5kIixnZXRVSUQ6ZnVuY3Rpb24obil7ZG8gbis9fn4oMWU2Kk1hdGgucmFuZG9tKCkpO3doaWxlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pKTtyZXR1cm4gbn0sZ2V0U2VsZWN0b3JGcm9tRWxlbWVudDpmdW5jdGlvbih0KXt2YXIgcixpPXQuZ2V0QXR0cmlidXRlKCJkYXRhLXRhcmdldCIpO2kmJiIjIiE9PWl8fChpPXQuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIiKTsiIyI9PT1pLmNoYXJBdCgwKSYmKHI9aSxpPXI9ImZ1bmN0aW9uIj09dHlwZW9mIG4uZXNjYXBlU2VsZWN0b3I/bi5lc2NhcGVTZWxlY3RvcihyKS5zdWJzdHIoMSk6ci5yZXBsYWNlKC8oOnxcLnxcW3xcXXwsfD18QCkvZywiXFwkMSIpKTt0cnl7cmV0dXJuIG4oZG9jdW1lbnQpLmZpbmQoaSkubGVuZ3RoPjA/aTpudWxsfWNhdGNoKG4pe3JldHVybiBudWxsfX0scmVmbG93OmZ1bmN0aW9uKG4pe3JldHVybiBuLm9mZnNldEhlaWdodH0sdHJpZ2dlclRyYW5zaXRpb25FbmQ6ZnVuY3Rpb24odCl7bih0KS50cmlnZ2VyKGkuZW5kKX0sc3VwcG9ydHNUcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4oaSl9LGlzRWxlbWVudDpmdW5jdGlvbihuKXtyZXR1cm4oblswXXx8bikubm9kZVR5cGV9LHR5cGVDaGVja0NvbmZpZzpmdW5jdGlvbihuLGkscil7dmFyIHUscztmb3IodSBpbiByKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLHUpKXt2YXIgZT1yW3VdLGY9aVt1XSxvPWYmJnQuaXNFbGVtZW50KGYpPyJlbGVtZW50Ijoocz1mLHt9LnRvU3RyaW5nLmNhbGwocykubWF0Y2goL1xzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpKTtpZighbmV3IFJlZ0V4cChlKS50ZXN0KG8pKXRocm93IG5ldyBFcnJvcihuLnRvVXBwZXJDYXNlKCkrJzogT3B0aW9uICInK3UrJyIgcHJvdmlkZWQgdHlwZSAiJytvKyciIGJ1dCBleHBlY3RlZCB0eXBlICInK2UrJyIuJyk7fX19O3JldHVybiBpPSgidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5RVW5pdCkmJntlbmQ6InRyYW5zaXRpb25lbmQifSxuLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kPXIsdC5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSYmKG4uZXZlbnQuc3BlY2lhbFt0LlRSQU5TSVRJT05fRU5EXT17YmluZFR5cGU6aS5lbmQsZGVsZWdhdGVUeXBlOmkuZW5kLGhhbmRsZTpmdW5jdGlvbih0KXtpZihuKHQudGFyZ2V0KS5pcyh0aGlzKSlyZXR1cm4gdC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSksdH0odCksdnQ9KGg9ImFsZXJ0Iix5PSIuIisodj0iYnMuYWxlcnQiKSxydD0oZT10KS5mbltoXSxwPXtDTE9TRToiY2xvc2UiK3ksQ0xPU0VEOiJjbG9zZWQiK3ksQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIit5KyIuZGF0YS1hcGkifSx1dD0iYWxlcnQiLGZ0PSJmYWRlIixldD0ic2hvdyIscz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7dGhpcy5fZWxlbWVudD1ufXZhciB0PW4ucHJvdG90eXBlO3JldHVybiB0LmNsb3NlPWZ1bmN0aW9uKG4pe249bnx8dGhpcy5fZWxlbWVudDt2YXIgdD10aGlzLl9nZXRSb290RWxlbWVudChuKTt0aGlzLl90cmlnZ2VyQ2xvc2VFdmVudCh0KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dGhpcy5fcmVtb3ZlRWxlbWVudCh0KX0sdC5kaXNwb3NlPWZ1bmN0aW9uKCl7ZS5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsdik7dGhpcy5fZWxlbWVudD1udWxsfSx0Ll9nZXRSb290RWxlbWVudD1mdW5jdGlvbihuKXt2YXIgaT1yLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQobiksdD0hMTtyZXR1cm4gaSYmKHQ9ZShpKVswXSksdHx8KHQ9ZShuKS5jbG9zZXN0KCIuIit1dClbMF0pLHR9LHQuX3RyaWdnZXJDbG9zZUV2ZW50PWZ1bmN0aW9uKG4pe3ZhciB0PWUuRXZlbnQocC5DTE9TRSk7cmV0dXJuIGUobikudHJpZ2dlcih0KSx0fSx0Ll9yZW1vdmVFbGVtZW50PWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7ZShuKS5yZW1vdmVDbGFzcyhldCk7ci5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSYmZShuKS5oYXNDbGFzcyhmdCk/ZShuKS5vbmUoci5UUkFOU0lUSU9OX0VORCxmdW5jdGlvbihpKXtyZXR1cm4gdC5fZGVzdHJveUVsZW1lbnQobixpKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCk6dGhpcy5fZGVzdHJveUVsZW1lbnQobil9LHQuX2Rlc3Ryb3lFbGVtZW50PWZ1bmN0aW9uKG4pe2UobikuZGV0YWNoKCkudHJpZ2dlcihwLkNMT1NFRCkucmVtb3ZlKCl9LG4uX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9ZSh0aGlzKSxpPXIuZGF0YSh2KTtpfHwoaT1uZXcgbih0aGlzKSxyLmRhdGEodixpKSk7ImNsb3NlIj09PXQmJmlbdF0odGhpcyl9KX0sbi5faGFuZGxlRGlzbWlzcz1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dCYmdC5wcmV2ZW50RGVmYXVsdCgpO24uY2xvc2UodGhpcyl9fSxvKG4sbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMC4wIn19XSksbn0oKSxlKGRvY3VtZW50KS5vbihwLkNMSUNLX0RBVEFfQVBJLCdbZGF0YS1kaXNtaXNzPSJhbGVydCJdJyxzLl9oYW5kbGVEaXNtaXNzKG5ldyBzKSksZS5mbltoXT1zLl9qUXVlcnlJbnRlcmZhY2UsZS5mbltoXS5Db25zdHJ1Y3Rvcj1zLGUuZm5baF0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBlLmZuW2hdPXJ0LHMuX2pRdWVyeUludGVyZmFjZX0scykseXQ9KGM9ImJ1dHRvbiIsYj0iLiIrKHc9ImJzLmJ1dHRvbiIpLGs9Ii5kYXRhLWFwaSIsb3Q9KHU9dCkuZm5bY10sbD0iYWN0aXZlIixzdD0iYnRuIixodD0iZm9jdXMiLGc9J1tkYXRhLXRvZ2dsZV49ImJ1dHRvbiJdJyxjdD0nW2RhdGEtdG9nZ2xlPSJidXR0b25zIl0nLGx0PSJpbnB1dCIsYXQ9Ii5hY3RpdmUiLG50PSIuYnRuIix0dD17Q0xJQ0tfREFUQV9BUEk6ImNsaWNrIitiK2ssRk9DVVNfQkxVUl9EQVRBX0FQSToiZm9jdXMiK2IraysiIGJsdXIiK2Ira30sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7dGhpcy5fZWxlbWVudD1ufXZhciB0PW4ucHJvdG90eXBlO3JldHVybiB0LnRvZ2dsZT1mdW5jdGlvbigpe3ZhciBpPSEwLGY9ITAsdD11KHRoaXMuX2VsZW1lbnQpLmNsb3Nlc3QoY3QpWzBdLG4scjtpZih0JiYobj11KHRoaXMuX2VsZW1lbnQpLmZpbmQobHQpWzBdLG4pKXtpZigicmFkaW8iPT09bi50eXBlJiYobi5jaGVja2VkJiZ1KHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGwpP2k9ITE6KHI9dSh0KS5maW5kKGF0KVswXSxyJiZ1KHIpLnJlbW92ZUNsYXNzKGwpKSksaSl7aWYobi5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIil8fHQuaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpfHxuLmNsYXNzTGlzdC5jb250YWlucygiZGlzYWJsZWQiKXx8dC5jbGFzc0xpc3QuY29udGFpbnMoImRpc2FibGVkIikpcmV0dXJuO24uY2hlY2tlZD0hdSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhsKTt1KG4pLnRyaWdnZXIoImNoYW5nZSIpfW4uZm9jdXMoKTtmPSExfWYmJnRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLXByZXNzZWQiLCF1KHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGwpKTtpJiZ1KHRoaXMuX2VsZW1lbnQpLnRvZ2dsZUNsYXNzKGwpfSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXt1LnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCx3KTt0aGlzLl9lbGVtZW50PW51bGx9LG4uX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dSh0aGlzKS5kYXRhKHcpO2l8fChpPW5ldyBuKHRoaXMpLHUodGhpcykuZGF0YSh3LGkpKTsidG9nZ2xlIj09PXQmJmlbdF0oKX0pfSxvKG4sbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMC4wIn19XSksbn0oKSx1KGRvY3VtZW50KS5vbih0dC5DTElDS19EQVRBX0FQSSxnLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTt2YXIgdD1uLnRhcmdldDt1KHQpLmhhc0NsYXNzKHN0KXx8KHQ9dSh0KS5jbG9zZXN0KG50KSk7YS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwodSh0KSwidG9nZ2xlIil9KS5vbih0dC5GT0NVU19CTFVSX0RBVEFfQVBJLGcsZnVuY3Rpb24obil7dmFyIHQ9dShuLnRhcmdldCkuY2xvc2VzdChudClbMF07dSh0KS50b2dnbGVDbGFzcyhodCwvXmZvY3VzKGluKT8kLy50ZXN0KG4udHlwZSkpfSksdS5mbltjXT1hLl9qUXVlcnlJbnRlcmZhY2UsdS5mbltjXS5Db25zdHJ1Y3Rvcj1hLHUuZm5bY10ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB1LmZuW2NdPW90LGEuX2pRdWVyeUludGVyZmFjZX0sYSkscHQ9ZnVuY3Rpb24obil7dmFyIHM9ImNhcm91c2VsIixjPSJicy5jYXJvdXNlbCIsdD0iLiIrYyx5PW4uZm5bc10sdj17aW50ZXJ2YWw6NWUzLGtleWJvYXJkOiEwLHNsaWRlOiExLHBhdXNlOiJob3ZlciIsd3JhcDohMH0scD17aW50ZXJ2YWw6IihudW1iZXJ8Ym9vbGVhbikiLGtleWJvYXJkOiJib29sZWFuIixzbGlkZToiKGJvb2xlYW58c3RyaW5nKSIscGF1c2U6IihzdHJpbmd8Ym9vbGVhbikiLHdyYXA6ImJvb2xlYW4ifSxsPSJuZXh0IixhPSJwcmV2Iix3PSJsZWZ0IixiPSJyaWdodCIsaT17U0xJREU6InNsaWRlIit0LFNMSUQ6InNsaWQiK3QsS0VZRE9XTjoia2V5ZG93biIrdCxNT1VTRUVOVEVSOiJtb3VzZWVudGVyIit0LE1PVVNFTEVBVkU6Im1vdXNlbGVhdmUiK3QsVE9VQ0hFTkQ6InRvdWNoZW5kIit0LExPQURfREFUQV9BUEk6ImxvYWQiK3QrIi5kYXRhLWFwaSIsQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIit0KyIuZGF0YS1hcGkifSxrPSJjYXJvdXNlbCIsZT0iYWN0aXZlIixkPSJzbGlkZSIsZz0iY2Fyb3VzZWwtaXRlbS1yaWdodCIsbnQ9ImNhcm91c2VsLWl0ZW0tbGVmdCIsdHQ9ImNhcm91c2VsLWl0ZW0tbmV4dCIsaXQ9ImNhcm91c2VsLWl0ZW0tcHJldiIsdT17QUNUSVZFOiIuYWN0aXZlIixBQ1RJVkVfSVRFTToiLmFjdGl2ZS5jYXJvdXNlbC1pdGVtIixJVEVNOiIuY2Fyb3VzZWwtaXRlbSIsTkVYVF9QUkVWOiIuY2Fyb3VzZWwtaXRlbS1uZXh0LCAuY2Fyb3VzZWwtaXRlbS1wcmV2IixJTkRJQ0FUT1JTOiIuY2Fyb3VzZWwtaW5kaWNhdG9ycyIsREFUQV9TTElERToiW2RhdGEtc2xpZGVdLCBbZGF0YS1zbGlkZS10b10iLERBVEFfUklERTonW2RhdGEtcmlkZT0iY2Fyb3VzZWwiXSd9LGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB5KHQsaSl7dGhpcy5faXRlbXM9bnVsbDt0aGlzLl9pbnRlcnZhbD1udWxsO3RoaXMuX2FjdGl2ZUVsZW1lbnQ9bnVsbDt0aGlzLl9pc1BhdXNlZD0hMTt0aGlzLl9pc1NsaWRpbmc9ITE7dGhpcy50b3VjaFRpbWVvdXQ9bnVsbDt0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGkpO3RoaXMuX2VsZW1lbnQ9bih0KVswXTt0aGlzLl9pbmRpY2F0b3JzRWxlbWVudD1uKHRoaXMuX2VsZW1lbnQpLmZpbmQodS5JTkRJQ0FUT1JTKVswXTt0aGlzLl9hZGRFdmVudExpc3RlbmVycygpfXZhciBoPXkucHJvdG90eXBlO3JldHVybiBoLm5leHQ9ZnVuY3Rpb24oKXt0aGlzLl9pc1NsaWRpbmd8fHRoaXMuX3NsaWRlKGwpfSxoLm5leHRXaGVuVmlzaWJsZT1mdW5jdGlvbigpeyFkb2N1bWVudC5oaWRkZW4mJm4odGhpcy5fZWxlbWVudCkuaXMoIjp2aXNpYmxlIikmJiJoaWRkZW4iIT09bih0aGlzLl9lbGVtZW50KS5jc3MoInZpc2liaWxpdHkiKSYmdGhpcy5uZXh0KCl9LGgucHJldj1mdW5jdGlvbigpe3RoaXMuX2lzU2xpZGluZ3x8dGhpcy5fc2xpZGUoYSl9LGgucGF1c2U9ZnVuY3Rpb24odCl7dHx8KHRoaXMuX2lzUGF1c2VkPSEwKTtuKHRoaXMuX2VsZW1lbnQpLmZpbmQodS5ORVhUX1BSRVYpWzBdJiZyLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpJiYoci50cmlnZ2VyVHJhbnNpdGlvbkVuZCh0aGlzLl9lbGVtZW50KSx0aGlzLmN5Y2xlKCEwKSk7Y2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7dGhpcy5faW50ZXJ2YWw9bnVsbH0saC5jeWNsZT1mdW5jdGlvbihuKXtufHwodGhpcy5faXNQYXVzZWQ9ITEpO3RoaXMuX2ludGVydmFsJiYoY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCksdGhpcy5faW50ZXJ2YWw9bnVsbCk7dGhpcy5fY29uZmlnLmludGVydmFsJiYhdGhpcy5faXNQYXVzZWQmJih0aGlzLl9pbnRlcnZhbD1zZXRJbnRlcnZhbCgoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP3RoaXMubmV4dFdoZW5WaXNpYmxlOnRoaXMubmV4dCkuYmluZCh0aGlzKSx0aGlzLl9jb25maWcuaW50ZXJ2YWwpKX0saC50bz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHIsZjtpZih0aGlzLl9hY3RpdmVFbGVtZW50PW4odGhpcy5fZWxlbWVudCkuZmluZCh1LkFDVElWRV9JVEVNKVswXSxyPXRoaXMuX2dldEl0ZW1JbmRleCh0aGlzLl9hY3RpdmVFbGVtZW50KSwhKHQ+dGhpcy5faXRlbXMubGVuZ3RoLTF8fHQ8MCkpaWYodGhpcy5faXNTbGlkaW5nKW4odGhpcy5fZWxlbWVudCkub25lKGkuU0xJRCxmdW5jdGlvbigpe3JldHVybiBlLnRvKHQpfSk7ZWxzZXtpZihyPT09dClyZXR1cm4gdGhpcy5wYXVzZSgpLHZvaWQgdGhpcy5jeWNsZSgpO2Y9dD5yP2w6YTt0aGlzLl9zbGlkZShmLHRoaXMuX2l0ZW1zW3RdKX19LGguZGlzcG9zZT1mdW5jdGlvbigpe24odGhpcy5fZWxlbWVudCkub2ZmKHQpO24ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LGMpO3RoaXMuX2l0ZW1zPW51bGw7dGhpcy5fY29uZmlnPW51bGw7dGhpcy5fZWxlbWVudD1udWxsO3RoaXMuX2ludGVydmFsPW51bGw7dGhpcy5faXNQYXVzZWQ9bnVsbDt0aGlzLl9pc1NsaWRpbmc9bnVsbDt0aGlzLl9hY3RpdmVFbGVtZW50PW51bGw7dGhpcy5faW5kaWNhdG9yc0VsZW1lbnQ9bnVsbH0saC5fZ2V0Q29uZmlnPWZ1bmN0aW9uKG4pe3JldHVybiBuPWYoe30sdixuKSxyLnR5cGVDaGVja0NvbmZpZyhzLG4scCksbn0saC5fYWRkRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2NvbmZpZy5rZXlib2FyZCYmbih0aGlzLl9lbGVtZW50KS5vbihpLktFWURPV04sZnVuY3Rpb24obil7cmV0dXJuIHQuX2tleWRvd24obil9KTsiaG92ZXIiPT09dGhpcy5fY29uZmlnLnBhdXNlJiYobih0aGlzLl9lbGVtZW50KS5vbihpLk1PVVNFRU5URVIsZnVuY3Rpb24obil7cmV0dXJuIHQucGF1c2Uobil9KS5vbihpLk1PVVNFTEVBVkUsZnVuY3Rpb24obil7cmV0dXJuIHQuY3ljbGUobil9KSwib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmbih0aGlzLl9lbGVtZW50KS5vbihpLlRPVUNIRU5ELGZ1bmN0aW9uKCl7dC5wYXVzZSgpO3QudG91Y2hUaW1lb3V0JiZjbGVhclRpbWVvdXQodC50b3VjaFRpbWVvdXQpO3QudG91Y2hUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24obil7cmV0dXJuIHQuY3ljbGUobil9LDUwMCt0Ll9jb25maWcuaW50ZXJ2YWwpfSkpfSxoLl9rZXlkb3duPWZ1bmN0aW9uKG4pe2lmKCEvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KG4udGFyZ2V0LnRhZ05hbWUpKXN3aXRjaChuLndoaWNoKXtjYXNlIDM3Om4ucHJldmVudERlZmF1bHQoKTt0aGlzLnByZXYoKTticmVhaztjYXNlIDM5Om4ucHJldmVudERlZmF1bHQoKTt0aGlzLm5leHQoKX19LGguX2dldEl0ZW1JbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXRlbXM9bi5tYWtlQXJyYXkobih0KS5wYXJlbnQoKS5maW5kKHUuSVRFTSkpLHRoaXMuX2l0ZW1zLmluZGV4T2YodCl9LGguX2dldEl0ZW1CeURpcmVjdGlvbj1mdW5jdGlvbihuLHQpe3ZhciB1PW49PT1sLGY9bj09PWEsaT10aGlzLl9nZXRJdGVtSW5kZXgodCksZT10aGlzLl9pdGVtcy5sZW5ndGgtMSxyO3JldHVybihmJiYwPT09aXx8dSYmaT09PWUpJiYhdGhpcy5fY29uZmlnLndyYXA/dDoocj0oaSsobj09PWE/LTE6MSkpJXRoaXMuX2l0ZW1zLmxlbmd0aCwtMT09PXI/dGhpcy5faXRlbXNbdGhpcy5faXRlbXMubGVuZ3RoLTFdOnRoaXMuX2l0ZW1zW3JdKX0saC5fdHJpZ2dlclNsaWRlRXZlbnQ9ZnVuY3Rpb24odCxyKXt2YXIgZT10aGlzLl9nZXRJdGVtSW5kZXgodCksbz10aGlzLl9nZXRJdGVtSW5kZXgobih0aGlzLl9lbGVtZW50KS5maW5kKHUuQUNUSVZFX0lURU0pWzBdKSxmPW4uRXZlbnQoaS5TTElERSx7cmVsYXRlZFRhcmdldDp0LGRpcmVjdGlvbjpyLGZyb206byx0bzplfSk7cmV0dXJuIG4odGhpcy5fZWxlbWVudCkudHJpZ2dlcihmKSxmfSxoLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50PWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2luZGljYXRvcnNFbGVtZW50KXtuKHRoaXMuX2luZGljYXRvcnNFbGVtZW50KS5maW5kKHUuQUNUSVZFKS5yZW1vdmVDbGFzcyhlKTt2YXIgaT10aGlzLl9pbmRpY2F0b3JzRWxlbWVudC5jaGlsZHJlblt0aGlzLl9nZXRJdGVtSW5kZXgodCldO2kmJm4oaSkuYWRkQ2xhc3MoZSl9fSxoLl9zbGlkZT1mdW5jdGlvbih0LGYpe3ZhciBoLGMsYSx5PXRoaXMscz1uKHRoaXMuX2VsZW1lbnQpLmZpbmQodS5BQ1RJVkVfSVRFTSlbMF0saz10aGlzLl9nZXRJdGVtSW5kZXgocyksbz1mfHxzJiZ0aGlzLl9nZXRJdGVtQnlEaXJlY3Rpb24odCxzKSxydD10aGlzLl9nZXRJdGVtSW5kZXgobykscD1Cb29sZWFuKHRoaXMuX2ludGVydmFsKSx2Oyh0PT09bD8oaD1udCxjPXR0LGE9dyk6KGg9ZyxjPWl0LGE9YiksbyYmbihvKS5oYXNDbGFzcyhlKSk/dGhpcy5faXNTbGlkaW5nPSExOiF0aGlzLl90cmlnZ2VyU2xpZGVFdmVudChvLGEpLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZzJiZvJiYodGhpcy5faXNTbGlkaW5nPSEwLHAmJnRoaXMucGF1c2UoKSx0aGlzLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50KG8pLHY9bi5FdmVudChpLlNMSUQse3JlbGF0ZWRUYXJnZXQ6byxkaXJlY3Rpb246YSxmcm9tOmssdG86cnR9KSxyLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpJiZuKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGQpPyhuKG8pLmFkZENsYXNzKGMpLHIucmVmbG93KG8pLG4ocykuYWRkQ2xhc3MoaCksbihvKS5hZGRDbGFzcyhoKSxuKHMpLm9uZShyLlRSQU5TSVRJT05fRU5ELGZ1bmN0aW9uKCl7bihvKS5yZW1vdmVDbGFzcyhoKyIgIitjKS5hZGRDbGFzcyhlKTtuKHMpLnJlbW92ZUNsYXNzKGUrIiAiK2MrIiAiK2gpO3kuX2lzU2xpZGluZz0hMTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG4oeS5fZWxlbWVudCkudHJpZ2dlcih2KX0sMCl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCg2MDApKToobihzKS5yZW1vdmVDbGFzcyhlKSxuKG8pLmFkZENsYXNzKGUpLHRoaXMuX2lzU2xpZGluZz0hMSxuKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIodikpLHAmJnRoaXMuY3ljbGUoKSl9LHkuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5kYXRhKGMpLHI9Zih7fSx2LG4odGhpcykuZGF0YSgpKSx1O2lmKCJvYmplY3QiPT10eXBlb2YgdCYmKHI9Zih7fSxyLHQpKSx1PSJzdHJpbmciPT10eXBlb2YgdD90OnIuc2xpZGUsaXx8KGk9bmV3IHkodGhpcyxyKSxuKHRoaXMpLmRhdGEoYyxpKSksIm51bWJlciI9PXR5cGVvZiB0KWkudG8odCk7ZWxzZSBpZigic3RyaW5nIj09dHlwZW9mIHUpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaVt1XSl0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBtZXRob2QgbmFtZWQgIicrdSsnIicpO2lbdV0oKX1lbHNlIHIuaW50ZXJ2YWwmJihpLnBhdXNlKCksaS5jeWNsZSgpKX0pfSx5Ll9kYXRhQXBpQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKHQpe3ZhciBvPXIuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKSxpLGUsdTtvJiYoaT1uKG8pWzBdLGkmJm4oaSkuaGFzQ2xhc3MoaykmJihlPWYoe30sbihpKS5kYXRhKCksbih0aGlzKS5kYXRhKCkpLHU9dGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtc2xpZGUtdG8iKSx1JiYoZS5pbnRlcnZhbD0hMSkseS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwobihpKSxlKSx1JiZuKGkpLmRhdGEoYykudG8odSksdC5wcmV2ZW50RGVmYXVsdCgpKSl9LG8oeSxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNC4wLjAifX0se2tleToiRGVmYXVsdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZ9fV0pLHl9KCk7cmV0dXJuIG4oZG9jdW1lbnQpLm9uKGkuQ0xJQ0tfREFUQV9BUEksdS5EQVRBX1NMSURFLGguX2RhdGFBcGlDbGlja0hhbmRsZXIpLG4od2luZG93KS5vbihpLkxPQURfREFUQV9BUEksZnVuY3Rpb24oKXtuKHUuREFUQV9SSURFKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtoLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCh0LHQuZGF0YSgpKX0pfSksbi5mbltzXT1oLl9qUXVlcnlJbnRlcmZhY2Usbi5mbltzXS5Db25zdHJ1Y3Rvcj1oLG4uZm5bc10ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuW3NdPXksaC5falF1ZXJ5SW50ZXJmYWNlfSxofSh0KSx3dD1mdW5jdGlvbihuKXt2YXIgdT0iY29sbGFwc2UiLHQ9ImJzLmNvbGxhcHNlIixlPSIuIit0LHc9bi5mblt1XSxhPXt0b2dnbGU6ITAscGFyZW50OiIifSxiPXt0b2dnbGU6ImJvb2xlYW4iLHBhcmVudDoiKHN0cmluZ3xlbGVtZW50KSJ9LHM9e1NIT1c6InNob3ciK2UsU0hPV046InNob3duIitlLEhJREU6ImhpZGUiK2UsSElEREVOOiJoaWRkZW4iK2UsQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIitlKyIuZGF0YS1hcGkifSxpPSJzaG93IixjPSJjb2xsYXBzZSIsbD0iY29sbGFwc2luZyIsdj0iY29sbGFwc2VkIixwPSJ3aWR0aCIsaz0iaGVpZ2h0Iix5PXtBQ1RJVkVTOiIuc2hvdywgLmNvbGxhcHNpbmciLERBVEFfVE9HR0xFOidbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl0nfSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaCh0LGkpe3ZhciBlLHUsbyxmO2Zvcih0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITEsdGhpcy5fZWxlbWVudD10LHRoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcoaSksdGhpcy5fdHJpZ2dlckFycmF5PW4ubWFrZUFycmF5KG4oJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtocmVmPSIjJyt0LmlkKyciXSxbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl1bZGF0YS10YXJnZXQ9IiMnK3QuaWQrJyJdJykpLGU9bih5LkRBVEFfVE9HR0xFKSx1PTA7dTxlLmxlbmd0aDt1Kyspbz1lW3VdLGY9ci5nZXRTZWxlY3RvckZyb21FbGVtZW50KG8pLG51bGwhPT1mJiZuKGYpLmZpbHRlcih0KS5sZW5ndGg+MCYmKHRoaXMuX3NlbGVjdG9yPWYsdGhpcy5fdHJpZ2dlckFycmF5LnB1c2gobykpO3RoaXMuX3BhcmVudD10aGlzLl9jb25maWcucGFyZW50P3RoaXMuX2dldFBhcmVudCgpOm51bGw7dGhpcy5fY29uZmlnLnBhcmVudHx8dGhpcy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuX2VsZW1lbnQsdGhpcy5fdHJpZ2dlckFycmF5KTt0aGlzLl9jb25maWcudG9nZ2xlJiZ0aGlzLnRvZ2dsZSgpfXZhciBlPWgucHJvdG90eXBlO3JldHVybiBlLnRvZ2dsZT1mdW5jdGlvbigpe24odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoaSk/dGhpcy5oaWRlKCk6dGhpcy5zaG93KCl9LGUuc2hvdz1mdW5jdGlvbigpe3ZhciB1LG8sZT10aGlzLGEsZixwLHc7dGhpcy5faXNUcmFuc2l0aW9uaW5nfHxuKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGkpfHwodGhpcy5fcGFyZW50JiYwPT09KHU9bi5tYWtlQXJyYXkobih0aGlzLl9wYXJlbnQpLmZpbmQoeS5BQ1RJVkVTKS5maWx0ZXIoJ1tkYXRhLXBhcmVudD0iJyt0aGlzLl9jb25maWcucGFyZW50KyciXScpKSkubGVuZ3RoJiYodT1udWxsKSx1JiYobz1uKHUpLm5vdCh0aGlzLl9zZWxlY3RvcikuZGF0YSh0KSkmJm8uX2lzVHJhbnNpdGlvbmluZyl8fChhPW4uRXZlbnQocy5TSE9XKSwobih0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGEpLGEuaXNEZWZhdWx0UHJldmVudGVkKCkpfHwodSYmKGguX2pRdWVyeUludGVyZmFjZS5jYWxsKG4odSkubm90KHRoaXMuX3NlbGVjdG9yKSwiaGlkZSIpLG98fG4odSkuZGF0YSh0LG51bGwpKSxmPXRoaXMuX2dldERpbWVuc2lvbigpLG4odGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoYykuYWRkQ2xhc3MobCksdGhpcy5fZWxlbWVudC5zdHlsZVtmXT0wLHRoaXMuX3RyaWdnZXJBcnJheS5sZW5ndGg+MCYmbih0aGlzLl90cmlnZ2VyQXJyYXkpLnJlbW92ZUNsYXNzKHYpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKSx0aGlzLnNldFRyYW5zaXRpb25pbmcoITApLHA9ZnVuY3Rpb24oKXtuKGUuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKGwpLmFkZENsYXNzKGMpLmFkZENsYXNzKGkpO2UuX2VsZW1lbnQuc3R5bGVbZl09IiI7ZS5zZXRUcmFuc2l0aW9uaW5nKCExKTtuKGUuX2VsZW1lbnQpLnRyaWdnZXIocy5TSE9XTil9LHIuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCk/KHc9InNjcm9sbCIrKGZbMF0udG9VcHBlckNhc2UoKStmLnNsaWNlKDEpKSxuKHRoaXMuX2VsZW1lbnQpLm9uZShyLlRSQU5TSVRJT05fRU5ELHApLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDYwMCksdGhpcy5fZWxlbWVudC5zdHlsZVtmXT10aGlzLl9lbGVtZW50W3ddKyJweCIpOnAoKSkpfSxlLmhpZGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGYsdCx1LGUsbyxoO2lmKCF0aGlzLl9pc1RyYW5zaXRpb25pbmcmJm4odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoaSkmJihmPW4uRXZlbnQocy5ISURFKSxuKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoZiksIWYuaXNEZWZhdWx0UHJldmVudGVkKCkpKXtpZih0PXRoaXMuX2dldERpbWVuc2lvbigpLHRoaXMuX2VsZW1lbnQuc3R5bGVbdF09dGhpcy5fZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVt0XSsicHgiLHIucmVmbG93KHRoaXMuX2VsZW1lbnQpLG4odGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MobCkucmVtb3ZlQ2xhc3MoYykucmVtb3ZlQ2xhc3MoaSksdGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aD4wKWZvcih1PTA7dTx0aGlzLl90cmlnZ2VyQXJyYXkubGVuZ3RoO3UrKyllPXRoaXMuX3RyaWdnZXJBcnJheVt1XSxvPXIuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlKSxudWxsIT09byYmKG4obykuaGFzQ2xhc3MoaSl8fG4oZSkuYWRkQ2xhc3ModikuYXR0cigiYXJpYS1leHBhbmRlZCIsITEpKTt0aGlzLnNldFRyYW5zaXRpb25pbmcoITApO2g9ZnVuY3Rpb24oKXthLnNldFRyYW5zaXRpb25pbmcoITEpO24oYS5fZWxlbWVudCkucmVtb3ZlQ2xhc3MobCkuYWRkQ2xhc3MoYykudHJpZ2dlcihzLkhJRERFTil9O3RoaXMuX2VsZW1lbnQuc3R5bGVbdF09IiI7ci5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKT9uKHRoaXMuX2VsZW1lbnQpLm9uZShyLlRSQU5TSVRJT05fRU5ELGgpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDYwMCk6aCgpfX0sZS5zZXRUcmFuc2l0aW9uaW5nPWZ1bmN0aW9uKG4pe3RoaXMuX2lzVHJhbnNpdGlvbmluZz1ufSxlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtuLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCx0KTt0aGlzLl9jb25maWc9bnVsbDt0aGlzLl9wYXJlbnQ9bnVsbDt0aGlzLl9lbGVtZW50PW51bGw7dGhpcy5fdHJpZ2dlckFycmF5PW51bGw7dGhpcy5faXNUcmFuc2l0aW9uaW5nPW51bGx9LGUuX2dldENvbmZpZz1mdW5jdGlvbihuKXtyZXR1cm4obj1mKHt9LGEsbikpLnRvZ2dsZT1Cb29sZWFuKG4udG9nZ2xlKSxyLnR5cGVDaGVja0NvbmZpZyh1LG4sYiksbn0sZS5fZ2V0RGltZW5zaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MocCk/cDprfSxlLl9nZXRQYXJlbnQ9ZnVuY3Rpb24oKXt2YXIgdT10aGlzLHQ9bnVsbCxpO3JldHVybiByLmlzRWxlbWVudCh0aGlzLl9jb25maWcucGFyZW50KT8odD10aGlzLl9jb25maWcucGFyZW50LCJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5fY29uZmlnLnBhcmVudC5qcXVlcnkmJih0PXRoaXMuX2NvbmZpZy5wYXJlbnRbMF0pKTp0PW4odGhpcy5fY29uZmlnLnBhcmVudClbMF0saT0nW2RhdGEtdG9nZ2xlPSJjb2xsYXBzZSJdW2RhdGEtcGFyZW50PSInK3RoaXMuX2NvbmZpZy5wYXJlbnQrJyJdJyxuKHQpLmZpbmQoaSkuZWFjaChmdW5jdGlvbihuLHQpe3UuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhoLl9nZXRUYXJnZXRGcm9tRWxlbWVudCh0KSxbdF0pfSksdH0sZS5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzPWZ1bmN0aW9uKHQscil7aWYodCl7dmFyIHU9bih0KS5oYXNDbGFzcyhpKTtyLmxlbmd0aD4wJiZuKHIpLnRvZ2dsZUNsYXNzKHYsIXUpLmF0dHIoImFyaWEtZXhwYW5kZWQiLHUpfX0saC5fZ2V0VGFyZ2V0RnJvbUVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGk9ci5nZXRTZWxlY3RvckZyb21FbGVtZW50KHQpO3JldHVybiBpP24oaSlbMF06bnVsbH0saC5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdT1uKHRoaXMpLHI9dS5kYXRhKHQpLGU9Zih7fSxhLHUuZGF0YSgpLCJvYmplY3QiPT10eXBlb2YgaSYmaSk7aWYoIXImJmUudG9nZ2xlJiYvc2hvd3xoaWRlLy50ZXN0KGkpJiYoZS50b2dnbGU9ITEpLHJ8fChyPW5ldyBoKHRoaXMsZSksdS5kYXRhKHQscikpLCJzdHJpbmciPT10eXBlb2YgaSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiByW2ldKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytpKyciJyk7cltpXSgpfX0pfSxvKGgsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMC4wIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiBhfX1dKSxofSgpO3JldHVybiBuKGRvY3VtZW50KS5vbihzLkNMSUNLX0RBVEFfQVBJLHkuREFUQV9UT0dHTEUsZnVuY3Rpb24oaSl7IkEiPT09aS5jdXJyZW50VGFyZ2V0LnRhZ05hbWUmJmkucHJldmVudERlZmF1bHQoKTt2YXIgdT1uKHRoaXMpLGY9ci5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpO24oZikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj1pLmRhdGEodCk/InRvZ2dsZSI6dS5kYXRhKCk7aC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoaSxyKX0pfSksbi5mblt1XT1oLl9qUXVlcnlJbnRlcmZhY2Usbi5mblt1XS5Db25zdHJ1Y3Rvcj1oLG4uZm5bdV0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuW3VdPXcsaC5falF1ZXJ5SW50ZXJmYWNlfSxofSh0KSxidD1mdW5jdGlvbihuKXt2YXIgaD0iZHJvcGRvd24iLGM9ImJzLmRyb3Bkb3duIix1PSIuIitjLGE9Ii5kYXRhLWFwaSIsYj1uLmZuW2hdLGs9bmV3IFJlZ0V4cCgiMzh8NDB8MjciKSx0PXtISURFOiJoaWRlIit1LEhJRERFTjoiaGlkZGVuIit1LFNIT1c6InNob3ciK3UsU0hPV046InNob3duIit1LENMSUNLOiJjbGljayIrdSxDTElDS19EQVRBX0FQSToiY2xpY2siK3UrYSxLRVlET1dOX0RBVEFfQVBJOiJrZXlkb3duIit1K2EsS0VZVVBfREFUQV9BUEk6ImtleXVwIit1K2F9LHA9ImRpc2FibGVkIixzPSJzaG93Iix3PSJkcm9wdXAiLGQ9ImRyb3ByaWdodCIsZz0iZHJvcGxlZnQiLHY9ImRyb3Bkb3duLW1lbnUtcmlnaHQiLG50PSJkcm9wZG93bi1tZW51LWxlZnQiLHR0PSJwb3NpdGlvbi1zdGF0aWMiLGw9J1tkYXRhLXRvZ2dsZT0iZHJvcGRvd24iXScseT0iLmRyb3Bkb3duLW1lbnUiLGl0PSIubmF2YmFyLW5hdiIscnQ9Ii5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOm5vdCguZGlzYWJsZWQpIix1dD0idG9wLXN0YXJ0IixmdD0idG9wLWVuZCIsZXQ9ImJvdHRvbS1zdGFydCIsb3Q9ImJvdHRvbS1lbmQiLHN0PSJyaWdodC1zdGFydCIsaHQ9ImxlZnQtc3RhcnQiLGN0PXtvZmZzZXQ6MCxmbGlwOiEwLGJvdW5kYXJ5OiJzY3JvbGxQYXJlbnQifSxsdD17b2Zmc2V0OiIobnVtYmVyfHN0cmluZ3xmdW5jdGlvbikiLGZsaXA6ImJvb2xlYW4iLGJvdW5kYXJ5OiIoc3RyaW5nfGVsZW1lbnQpIn0sZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUobix0KXt0aGlzLl9lbGVtZW50PW47dGhpcy5fcG9wcGVyPW51bGw7dGhpcy5fY29uZmlnPXRoaXMuX2dldENvbmZpZyh0KTt0aGlzLl9tZW51PXRoaXMuX2dldE1lbnVFbGVtZW50KCk7dGhpcy5faW5OYXZiYXI9dGhpcy5fZGV0ZWN0TmF2YmFyKCk7dGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKX12YXIgYT1lLnByb3RvdHlwZTtyZXR1cm4gYS50b2dnbGU9ZnVuY3Rpb24oKXt2YXIgcixoLHUsZixvO2lmKCF0aGlzLl9lbGVtZW50LmRpc2FibGVkJiYhbih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhwKSYmKHI9ZS5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCksaD1uKHRoaXMuX21lbnUpLmhhc0NsYXNzKHMpLChlLl9jbGVhck1lbnVzKCksIWgpJiYodT17cmVsYXRlZFRhcmdldDp0aGlzLl9lbGVtZW50fSxmPW4uRXZlbnQodC5TSE9XLHUpLG4ocikudHJpZ2dlcihmKSwhZi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpKXtpZighdGhpcy5faW5OYXZiYXIpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaSl0aHJvdyBuZXcgVHlwZUVycm9yKCJCb290c3RyYXAgZHJvcGRvd24gcmVxdWlyZSBQb3BwZXIuanMgKGh0dHBzOi8vcG9wcGVyLmpzLm9yZykiKTtvPXRoaXMuX2VsZW1lbnQ7bihyKS5oYXNDbGFzcyh3KSYmKG4odGhpcy5fbWVudSkuaGFzQ2xhc3MobnQpfHxuKHRoaXMuX21lbnUpLmhhc0NsYXNzKHYpKSYmKG89cik7InNjcm9sbFBhcmVudCIhPT10aGlzLl9jb25maWcuYm91bmRhcnkmJm4ocikuYWRkQ2xhc3ModHQpO3RoaXMuX3BvcHBlcj1uZXcgaShvLHRoaXMuX21lbnUsdGhpcy5fZ2V0UG9wcGVyQ29uZmlnKCkpfSJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYwPT09bihyKS5jbG9zZXN0KGl0KS5sZW5ndGgmJm4oImJvZHkiKS5jaGlsZHJlbigpLm9uKCJtb3VzZW92ZXIiLG51bGwsbi5ub29wKTt0aGlzLl9lbGVtZW50LmZvY3VzKCk7dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKTtuKHRoaXMuX21lbnUpLnRvZ2dsZUNsYXNzKHMpO24ocikudG9nZ2xlQ2xhc3MocykudHJpZ2dlcihuLkV2ZW50KHQuU0hPV04sdSkpfX0sYS5kaXNwb3NlPWZ1bmN0aW9uKCl7bi5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsYyk7bih0aGlzLl9lbGVtZW50KS5vZmYodSk7dGhpcy5fZWxlbWVudD1udWxsO3RoaXMuX21lbnU9bnVsbDtudWxsIT09dGhpcy5fcG9wcGVyJiYodGhpcy5fcG9wcGVyLmRlc3Ryb3koKSx0aGlzLl9wb3BwZXI9bnVsbCl9LGEudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5faW5OYXZiYXI9dGhpcy5fZGV0ZWN0TmF2YmFyKCk7bnVsbCE9PXRoaXMuX3BvcHBlciYmdGhpcy5fcG9wcGVyLnNjaGVkdWxlVXBkYXRlKCl9LGEuX2FkZEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztuKHRoaXMuX2VsZW1lbnQpLm9uKHQuQ0xJQ0ssZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO24uc3RvcFByb3BhZ2F0aW9uKCk7aS50b2dnbGUoKX0pfSxhLl9nZXRDb25maWc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9Zih7fSx0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHQsbih0aGlzLl9lbGVtZW50KS5kYXRhKCksdCksci50eXBlQ2hlY2tDb25maWcoaCx0LHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpLHR9LGEuX2dldE1lbnVFbGVtZW50PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX21lbnUpe3ZhciB0PWUuX2dldFBhcmVudEZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO3RoaXMuX21lbnU9bih0KS5maW5kKHkpWzBdfXJldHVybiB0aGlzLl9tZW51fSxhLl9nZXRQbGFjZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMuX2VsZW1lbnQpLnBhcmVudCgpLHQ9ZXQ7cmV0dXJuIGkuaGFzQ2xhc3Modyk/KHQ9dXQsbih0aGlzLl9tZW51KS5oYXNDbGFzcyh2KSYmKHQ9ZnQpKTppLmhhc0NsYXNzKGQpP3Q9c3Q6aS5oYXNDbGFzcyhnKT90PWh0Om4odGhpcy5fbWVudSkuaGFzQ2xhc3ModikmJih0PW90KSx0fSxhLl9kZXRlY3ROYXZiYXI9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLl9lbGVtZW50KS5jbG9zZXN0KCIubmF2YmFyIikubGVuZ3RoPjB9LGEuX2dldFBvcHBlckNvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsbj17fTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5fY29uZmlnLm9mZnNldD9uLmZuPWZ1bmN0aW9uKG4pe3JldHVybiBuLm9mZnNldHM9Zih7fSxuLm9mZnNldHMsdC5fY29uZmlnLm9mZnNldChuLm9mZnNldHMpfHx7fSksbn06bi5vZmZzZXQ9dGhpcy5fY29uZmlnLm9mZnNldCx7cGxhY2VtZW50OnRoaXMuX2dldFBsYWNlbWVudCgpLG1vZGlmaWVyczp7b2Zmc2V0Om4sZmxpcDp7ZW5hYmxlZDp0aGlzLl9jb25maWcuZmxpcH0scHJldmVudE92ZXJmbG93Ontib3VuZGFyaWVzRWxlbWVudDp0aGlzLl9jb25maWcuYm91bmRhcnl9fX19LGUuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5kYXRhKGMpO2lmKGl8fChpPW5ldyBlKHRoaXMsIm9iamVjdCI9PXR5cGVvZiB0P3Q6bnVsbCksbih0aGlzKS5kYXRhKGMsaSkpLCJzdHJpbmciPT10eXBlb2YgdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpW3RdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJyt0KyciJyk7aVt0XSgpfX0pfSxlLl9jbGVhck1lbnVzPWZ1bmN0aW9uKGkpe3ZhciB1LHIsdixvO2lmKCFpfHwzIT09aS53aGljaCYmKCJrZXl1cCIhPT1pLnR5cGV8fDk9PT1pLndoaWNoKSlmb3IodT1uLm1ha2VBcnJheShuKGwpKSxyPTA7cjx1Lmxlbmd0aDtyKyspe3ZhciBmPWUuX2dldFBhcmVudEZyb21FbGVtZW50KHVbcl0pLGg9bih1W3JdKS5kYXRhKGMpLGE9e3JlbGF0ZWRUYXJnZXQ6dVtyXX07aCYmKHY9aC5fbWVudSwhbihmKS5oYXNDbGFzcyhzKXx8aSYmKCJjbGljayI9PT1pLnR5cGUmJi9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoaS50YXJnZXQudGFnTmFtZSl8fCJrZXl1cCI9PT1pLnR5cGUmJjk9PT1pLndoaWNoKSYmbi5jb250YWlucyhmLGkudGFyZ2V0KXx8KG89bi5FdmVudCh0LkhJREUsYSksbihmKS50cmlnZ2VyKG8pLG8uaXNEZWZhdWx0UHJldmVudGVkKCl8fCgib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmbigiYm9keSIpLmNoaWxkcmVuKCkub2ZmKCJtb3VzZW92ZXIiLG51bGwsbi5ub29wKSx1W3JdLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsImZhbHNlIiksbih2KS5yZW1vdmVDbGFzcyhzKSxuKGYpLnJlbW92ZUNsYXNzKHMpLnRyaWdnZXIobi5FdmVudCh0LkhJRERFTixhKSkpKSl9fSxlLl9nZXRQYXJlbnRGcm9tRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgaSx1PXIuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0KTtyZXR1cm4gdSYmKGk9bih1KVswXSksaXx8dC5wYXJlbnROb2RlfSxlLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIHUsZixyLGksbzsoL2lucHV0fHRleHRhcmVhL2kudGVzdCh0LnRhcmdldC50YWdOYW1lKT8zMj09PXQud2hpY2h8fDI3IT09dC53aGljaCYmKDQwIT09dC53aGljaCYmMzghPT10LndoaWNofHxuKHQudGFyZ2V0KS5jbG9zZXN0KHkpLmxlbmd0aCk6IWsudGVzdCh0LndoaWNoKSl8fCh0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmRpc2FibGVkfHxuKHRoaXMpLmhhc0NsYXNzKHApKXx8KHU9ZS5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcyksZj1uKHUpLmhhc0NsYXNzKHMpLChmfHwyNz09PXQud2hpY2gmJjMyPT09dC53aGljaCkmJighZnx8MjchPT10LndoaWNoJiYzMiE9PXQud2hpY2gpPyhyPW4odSkuZmluZChydCkuZ2V0KCksMCE9PXIubGVuZ3RoJiYoaT1yLmluZGV4T2YodC50YXJnZXQpLDM4PT09dC53aGljaCYmaT4wJiZpLS0sNDA9PT10LndoaWNoJiZpPHIubGVuZ3RoLTEmJmkrKyxpPDAmJihpPTApLHJbaV0uZm9jdXMoKSkpOigyNz09PXQud2hpY2gmJihvPW4odSkuZmluZChsKVswXSxuKG8pLnRyaWdnZXIoImZvY3VzIikpLG4odGhpcykudHJpZ2dlcigiY2xpY2siKSkpfSxvKGUsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMC4wIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiBjdH19LHtrZXk6IkRlZmF1bHRUeXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHR9fV0pLGV9KCk7cmV0dXJuIG4oZG9jdW1lbnQpLm9uKHQuS0VZRE9XTl9EQVRBX0FQSSxsLGUuX2RhdGFBcGlLZXlkb3duSGFuZGxlcikub24odC5LRVlET1dOX0RBVEFfQVBJLHksZS5fZGF0YUFwaUtleWRvd25IYW5kbGVyKS5vbih0LkNMSUNLX0RBVEFfQVBJKyIgIit0LktFWVVQX0RBVEFfQVBJLGUuX2NsZWFyTWVudXMpLm9uKHQuQ0xJQ0tfREFUQV9BUEksbCxmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7dC5zdG9wUHJvcGFnYXRpb24oKTtlLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChuKHRoaXMpLCJ0b2dnbGUiKX0pLm9uKHQuQ0xJQ0tfREFUQV9BUEksIi5kcm9wZG93biBmb3JtIixmdW5jdGlvbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpfSksbi5mbltoXT1lLl9qUXVlcnlJbnRlcmZhY2Usbi5mbltoXS5Db25zdHJ1Y3Rvcj1lLG4uZm5baF0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuW2hdPWIsZS5falF1ZXJ5SW50ZXJmYWNlfSxlfSh0KSxrdD1mdW5jdGlvbihuKXt2YXIgdj0ibW9kYWwiLHM9ImJzLm1vZGFsIixpPSIuIitzLHk9bi5mbi5tb2RhbCxsPXtiYWNrZHJvcDohMCxrZXlib2FyZDohMCxmb2N1czohMCxzaG93OiEwfSxwPXtiYWNrZHJvcDoiKGJvb2xlYW58c3RyaW5nKSIsa2V5Ym9hcmQ6ImJvb2xlYW4iLGZvY3VzOiJib29sZWFuIixzaG93OiJib29sZWFuIn0sdD17SElERToiaGlkZSIraSxISURERU46ImhpZGRlbiIraSxTSE9XOiJzaG93IitpLFNIT1dOOiJzaG93biIraSxGT0NVU0lOOiJmb2N1c2luIitpLFJFU0laRToicmVzaXplIitpLENMSUNLX0RJU01JU1M6ImNsaWNrLmRpc21pc3MiK2ksS0VZRE9XTl9ESVNNSVNTOiJrZXlkb3duLmRpc21pc3MiK2ksTU9VU0VVUF9ESVNNSVNTOiJtb3VzZXVwLmRpc21pc3MiK2ksTU9VU0VET1dOX0RJU01JU1M6Im1vdXNlZG93bi5kaXNtaXNzIitpLENMSUNLX0RBVEFfQVBJOiJjbGljayIraSsiLmRhdGEtYXBpIn0sdz0ibW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUiLGI9Im1vZGFsLWJhY2tkcm9wIixhPSJtb2RhbC1vcGVuIixlPSJmYWRlIixjPSJzaG93Iix1PXtESUFMT0c6Ii5tb2RhbC1kaWFsb2ciLERBVEFfVE9HR0xFOidbZGF0YS10b2dnbGU9Im1vZGFsIl0nLERBVEFfRElTTUlTUzonW2RhdGEtZGlzbWlzcz0ibW9kYWwiXScsRklYRURfQ09OVEVOVDoiLmZpeGVkLXRvcCwgLmZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkLCAuc3RpY2t5LXRvcCIsU1RJQ0tZX0NPTlRFTlQ6Ii5zdGlja3ktdG9wIixOQVZCQVJfVE9HR0xFUjoiLm5hdmJhci10b2dnbGVyIn0saD1mdW5jdGlvbigpe2Z1bmN0aW9uIHkodCxpKXt0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGkpO3RoaXMuX2VsZW1lbnQ9dDt0aGlzLl9kaWFsb2c9bih0KS5maW5kKHUuRElBTE9HKVswXTt0aGlzLl9iYWNrZHJvcD1udWxsO3RoaXMuX2lzU2hvd249ITE7dGhpcy5faXNCb2R5T3ZlcmZsb3dpbmc9ITE7dGhpcy5faWdub3JlQmFja2Ryb3BDbGljaz0hMTt0aGlzLl9vcmlnaW5hbEJvZHlQYWRkaW5nPTA7dGhpcy5fc2Nyb2xsYmFyV2lkdGg9MH12YXIgaD15LnByb3RvdHlwZTtyZXR1cm4gaC50b2dnbGU9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2lzU2hvd24/dGhpcy5oaWRlKCk6dGhpcy5zaG93KG4pfSxoLnNob3c9ZnVuY3Rpb24oaSl7dmFyIGY9dGhpcyxvO3RoaXMuX2lzVHJhbnNpdGlvbmluZ3x8dGhpcy5faXNTaG93bnx8KHIuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkmJm4odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoZSkmJih0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITApLG89bi5FdmVudCh0LlNIT1cse3JlbGF0ZWRUYXJnZXQ6aX0pLG4odGhpcy5fZWxlbWVudCkudHJpZ2dlcihvKSx0aGlzLl9pc1Nob3dufHxvLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodGhpcy5faXNTaG93bj0hMCx0aGlzLl9jaGVja1Njcm9sbGJhcigpLHRoaXMuX3NldFNjcm9sbGJhcigpLHRoaXMuX2FkanVzdERpYWxvZygpLG4oZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoYSksdGhpcy5fc2V0RXNjYXBlRXZlbnQoKSx0aGlzLl9zZXRSZXNpemVFdmVudCgpLG4odGhpcy5fZWxlbWVudCkub24odC5DTElDS19ESVNNSVNTLHUuREFUQV9ESVNNSVNTLGZ1bmN0aW9uKG4pe3JldHVybiBmLmhpZGUobil9KSxuKHRoaXMuX2RpYWxvZykub24odC5NT1VTRURPV05fRElTTUlTUyxmdW5jdGlvbigpe24oZi5fZWxlbWVudCkub25lKHQuTU9VU0VVUF9ESVNNSVNTLGZ1bmN0aW9uKHQpe24odC50YXJnZXQpLmlzKGYuX2VsZW1lbnQpJiYoZi5faWdub3JlQmFja2Ryb3BDbGljaz0hMCl9KX0pLHRoaXMuX3Nob3dCYWNrZHJvcChmdW5jdGlvbigpe3JldHVybiBmLl9zaG93RWxlbWVudChpKX0pKSl9LGguaGlkZT1mdW5jdGlvbihpKXt2YXIgbz10aGlzLHUsZjsoaSYmaS5wcmV2ZW50RGVmYXVsdCgpLCF0aGlzLl9pc1RyYW5zaXRpb25pbmcmJnRoaXMuX2lzU2hvd24pJiYodT1uLkV2ZW50KHQuSElERSksKG4odGhpcy5fZWxlbWVudCkudHJpZ2dlcih1KSx0aGlzLl9pc1Nob3duJiYhdS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkmJih0aGlzLl9pc1Nob3duPSExLGY9ci5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSYmbih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhlKSxmJiYodGhpcy5faXNUcmFuc2l0aW9uaW5nPSEwKSx0aGlzLl9zZXRFc2NhcGVFdmVudCgpLHRoaXMuX3NldFJlc2l6ZUV2ZW50KCksbihkb2N1bWVudCkub2ZmKHQuRk9DVVNJTiksbih0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhjKSxuKHRoaXMuX2VsZW1lbnQpLm9mZih0LkNMSUNLX0RJU01JU1MpLG4odGhpcy5fZGlhbG9nKS5vZmYodC5NT1VTRURPV05fRElTTUlTUyksZj9uKHRoaXMuX2VsZW1lbnQpLm9uZShyLlRSQU5TSVRJT05fRU5ELGZ1bmN0aW9uKG4pe3JldHVybiBvLl9oaWRlTW9kYWwobil9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApOnRoaXMuX2hpZGVNb2RhbCgpKSl9LGguZGlzcG9zZT1mdW5jdGlvbigpe24ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LHMpO24od2luZG93LGRvY3VtZW50LHRoaXMuX2VsZW1lbnQsdGhpcy5fYmFja2Ryb3ApLm9mZihpKTt0aGlzLl9jb25maWc9bnVsbDt0aGlzLl9lbGVtZW50PW51bGw7dGhpcy5fZGlhbG9nPW51bGw7dGhpcy5fYmFja2Ryb3A9bnVsbDt0aGlzLl9pc1Nob3duPW51bGw7dGhpcy5faXNCb2R5T3ZlcmZsb3dpbmc9bnVsbDt0aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrPW51bGw7dGhpcy5fc2Nyb2xsYmFyV2lkdGg9bnVsbH0saC5oYW5kbGVVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl9hZGp1c3REaWFsb2coKX0saC5fZ2V0Q29uZmlnPWZ1bmN0aW9uKG4pe3JldHVybiBuPWYoe30sbCxuKSxyLnR5cGVDaGVja0NvbmZpZyh2LG4scCksbn0saC5fc2hvd0VsZW1lbnQ9ZnVuY3Rpb24oaSl7dmFyIHU9dGhpcyxvPXIuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkmJm4odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoZSkscyxmO3RoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV8fGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCk7dGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJibG9jayI7dGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIik7dGhpcy5fZWxlbWVudC5zY3JvbGxUb3A9MDtvJiZyLnJlZmxvdyh0aGlzLl9lbGVtZW50KTtuKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKGMpO3RoaXMuX2NvbmZpZy5mb2N1cyYmdGhpcy5fZW5mb3JjZUZvY3VzKCk7cz1uLkV2ZW50KHQuU0hPV04se3JlbGF0ZWRUYXJnZXQ6aX0pO2Y9ZnVuY3Rpb24oKXt1Ll9jb25maWcuZm9jdXMmJnUuX2VsZW1lbnQuZm9jdXMoKTt1Ll9pc1RyYW5zaXRpb25pbmc9ITE7bih1Ll9lbGVtZW50KS50cmlnZ2VyKHMpfTtvP24odGhpcy5fZGlhbG9nKS5vbmUoci5UUkFOU0lUSU9OX0VORCxmKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApOmYoKX0saC5fZW5mb3JjZUZvY3VzPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztuKGRvY3VtZW50KS5vZmYodC5GT0NVU0lOKS5vbih0LkZPQ1VTSU4sZnVuY3Rpb24odCl7ZG9jdW1lbnQhPT10LnRhcmdldCYmaS5fZWxlbWVudCE9PXQudGFyZ2V0JiYwPT09bihpLl9lbGVtZW50KS5oYXModC50YXJnZXQpLmxlbmd0aCYmaS5fZWxlbWVudC5mb2N1cygpfSl9LGguX3NldEVzY2FwZUV2ZW50PWZ1bmN0aW9uKCl7dmFyIGk9dGhpczt0aGlzLl9pc1Nob3duJiZ0aGlzLl9jb25maWcua2V5Ym9hcmQ/bih0aGlzLl9lbGVtZW50KS5vbih0LktFWURPV05fRElTTUlTUyxmdW5jdGlvbihuKXsyNz09PW4ud2hpY2gmJihuLnByZXZlbnREZWZhdWx0KCksaS5oaWRlKCkpfSk6dGhpcy5faXNTaG93bnx8bih0aGlzLl9lbGVtZW50KS5vZmYodC5LRVlET1dOX0RJU01JU1MpfSxoLl9zZXRSZXNpemVFdmVudD1mdW5jdGlvbigpe3ZhciBpPXRoaXM7dGhpcy5faXNTaG93bj9uKHdpbmRvdykub24odC5SRVNJWkUsZnVuY3Rpb24obil7cmV0dXJuIGkuaGFuZGxlVXBkYXRlKG4pfSk6bih3aW5kb3cpLm9mZih0LlJFU0laRSl9LGguX2hpZGVNb2RhbD1mdW5jdGlvbigpe3ZhciBpPXRoaXM7dGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCEwKTt0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITE7dGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uKCl7bihkb2N1bWVudC5ib2R5KS5yZW1vdmVDbGFzcyhhKTtpLl9yZXNldEFkanVzdG1lbnRzKCk7aS5fcmVzZXRTY3JvbGxiYXIoKTtuKGkuX2VsZW1lbnQpLnRyaWdnZXIodC5ISURERU4pfSl9LGguX3JlbW92ZUJhY2tkcm9wPWZ1bmN0aW9uKCl7dGhpcy5fYmFja2Ryb3AmJihuKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmUoKSx0aGlzLl9iYWNrZHJvcD1udWxsKX0saC5fc2hvd0JhY2tkcm9wPWZ1bmN0aW9uKGkpe3ZhciB1PXRoaXMsZj1uKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGUpP2U6IiIsbyxzO2lmKHRoaXMuX2lzU2hvd24mJnRoaXMuX2NvbmZpZy5iYWNrZHJvcCl7aWYobz1yLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpJiZmLHRoaXMuX2JhY2tkcm9wPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuX2JhY2tkcm9wLmNsYXNzTmFtZT1iLGYmJm4odGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKGYpLG4odGhpcy5fYmFja2Ryb3ApLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpLG4odGhpcy5fZWxlbWVudCkub24odC5DTElDS19ESVNNSVNTLGZ1bmN0aW9uKG4pe3UuX2lnbm9yZUJhY2tkcm9wQ2xpY2s/dS5faWdub3JlQmFja2Ryb3BDbGljaz0hMTpuLnRhcmdldD09PW4uY3VycmVudFRhcmdldCYmKCJzdGF0aWMiPT09dS5fY29uZmlnLmJhY2tkcm9wP3UuX2VsZW1lbnQuZm9jdXMoKTp1LmhpZGUoKSl9KSxvJiZyLnJlZmxvdyh0aGlzLl9iYWNrZHJvcCksbih0aGlzLl9iYWNrZHJvcCkuYWRkQ2xhc3MoYyksIWkpcmV0dXJuO2lmKCFvKXJldHVybiB2b2lkIGkoKTtuKHRoaXMuX2JhY2tkcm9wKS5vbmUoci5UUkFOU0lUSU9OX0VORCxpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApfWVsc2UhdGhpcy5faXNTaG93biYmdGhpcy5fYmFja2Ryb3A/KG4odGhpcy5fYmFja2Ryb3ApLnJlbW92ZUNsYXNzKGMpLHM9ZnVuY3Rpb24oKXt1Ll9yZW1vdmVCYWNrZHJvcCgpO2kmJmkoKX0sci5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSYmbih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhlKT9uKHRoaXMuX2JhY2tkcm9wKS5vbmUoci5UUkFOU0lUSU9OX0VORCxzKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApOnMoKSk6aSYmaSgpfSxoLl9hZGp1c3REaWFsb2c9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9lbGVtZW50LnNjcm9sbEhlaWdodD5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyF0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyYmbiYmKHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQ9dGhpcy5fc2Nyb2xsYmFyV2lkdGgrInB4Iik7dGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcmJiFuJiYodGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQ9dGhpcy5fc2Nyb2xsYmFyV2lkdGgrInB4Iil9LGguX3Jlc2V0QWRqdXN0bWVudHM9ZnVuY3Rpb24oKXt0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0PSIiO3RoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0PSIifSxoLl9jaGVja1Njcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBuPWRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5faXNCb2R5T3ZlcmZsb3dpbmc9bi5sZWZ0K24ucmlnaHQ8d2luZG93LmlubmVyV2lkdGg7dGhpcy5fc2Nyb2xsYmFyV2lkdGg9dGhpcy5fZ2V0U2Nyb2xsYmFyV2lkdGgoKX0saC5fc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpLHI7dGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcmJihuKHUuRklYRURfQ09OVEVOVCkuZWFjaChmdW5jdGlvbihpLHIpe3ZhciB1PW4ocilbMF0uc3R5bGUucGFkZGluZ1JpZ2h0LGY9bihyKS5jc3MoInBhZGRpbmctcmlnaHQiKTtuKHIpLmRhdGEoInBhZGRpbmctcmlnaHQiLHUpLmNzcygicGFkZGluZy1yaWdodCIscGFyc2VGbG9hdChmKSt0Ll9zY3JvbGxiYXJXaWR0aCsicHgiKX0pLG4odS5TVElDS1lfQ09OVEVOVCkuZWFjaChmdW5jdGlvbihpLHIpe3ZhciB1PW4ocilbMF0uc3R5bGUubWFyZ2luUmlnaHQsZj1uKHIpLmNzcygibWFyZ2luLXJpZ2h0Iik7bihyKS5kYXRhKCJtYXJnaW4tcmlnaHQiLHUpLmNzcygibWFyZ2luLXJpZ2h0IixwYXJzZUZsb2F0KGYpLXQuX3Njcm9sbGJhcldpZHRoKyJweCIpfSksbih1Lk5BVkJBUl9UT0dHTEVSKS5lYWNoKGZ1bmN0aW9uKGkscil7dmFyIHU9bihyKVswXS5zdHlsZS5tYXJnaW5SaWdodCxmPW4ocikuY3NzKCJtYXJnaW4tcmlnaHQiKTtuKHIpLmRhdGEoIm1hcmdpbi1yaWdodCIsdSkuY3NzKCJtYXJnaW4tcmlnaHQiLHBhcnNlRmxvYXQoZikrdC5fc2Nyb2xsYmFyV2lkdGgrInB4Iil9KSxpPWRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0LHI9bigiYm9keSIpLmNzcygicGFkZGluZy1yaWdodCIpLG4oImJvZHkiKS5kYXRhKCJwYWRkaW5nLXJpZ2h0IixpKS5jc3MoInBhZGRpbmctcmlnaHQiLHBhcnNlRmxvYXQocikrdGhpcy5fc2Nyb2xsYmFyV2lkdGgrInB4IikpfSxoLl9yZXNldFNjcm9sbGJhcj1mdW5jdGlvbigpe24odS5GSVhFRF9DT05URU5UKS5lYWNoKGZ1bmN0aW9uKHQsaSl7dmFyIHI9bihpKS5kYXRhKCJwYWRkaW5nLXJpZ2h0Iik7InVuZGVmaW5lZCIhPXR5cGVvZiByJiZuKGkpLmNzcygicGFkZGluZy1yaWdodCIscikucmVtb3ZlRGF0YSgicGFkZGluZy1yaWdodCIpfSk7bih1LlNUSUNLWV9DT05URU5UKyIsICIrdS5OQVZCQVJfVE9HR0xFUikuZWFjaChmdW5jdGlvbih0LGkpe3ZhciByPW4oaSkuZGF0YSgibWFyZ2luLXJpZ2h0Iik7InVuZGVmaW5lZCIhPXR5cGVvZiByJiZuKGkpLmNzcygibWFyZ2luLXJpZ2h0IixyKS5yZW1vdmVEYXRhKCJtYXJnaW4tcmlnaHQiKX0pO3ZhciB0PW4oImJvZHkiKS5kYXRhKCJwYWRkaW5nLXJpZ2h0Iik7InVuZGVmaW5lZCIhPXR5cGVvZiB0JiZuKCJib2R5IikuY3NzKCJwYWRkaW5nLXJpZ2h0Iix0KS5yZW1vdmVEYXRhKCJwYWRkaW5nLXJpZ2h0Iil9LGguX2dldFNjcm9sbGJhcldpZHRoPWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdDtyZXR1cm4gbi5jbGFzc05hbWU9dyxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pLHQ9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aC1uLmNsaWVudFdpZHRoLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobiksdH0seS5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciByPW4odGhpcykuZGF0YShzKSx1PWYoe30seS5EZWZhdWx0LG4odGhpcykuZGF0YSgpLCJvYmplY3QiPT10eXBlb2YgdCYmdCk7aWYocnx8KHI9bmV3IHkodGhpcyx1KSxuKHRoaXMpLmRhdGEocyxyKSksInN0cmluZyI9PXR5cGVvZiB0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHJbdF0pdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gbWV0aG9kIG5hbWVkICInK3QrJyInKTtyW3RdKGkpfWVsc2UgdS5zaG93JiZyLnNob3coaSl9KX0sbyh5LG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjAuMCJ9fSx7a2V5OiJEZWZhdWx0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH19XSkseX0oKTtyZXR1cm4gbihkb2N1bWVudCkub24odC5DTElDS19EQVRBX0FQSSx1LkRBVEFfVE9HR0xFLGZ1bmN0aW9uKGkpe3ZhciB1LGU9dGhpcyxvPXIuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKSxjLGw7byYmKHU9bihvKVswXSk7Yz1uKHUpLmRhdGEocyk/InRvZ2dsZSI6Zih7fSxuKHUpLmRhdGEoKSxuKHRoaXMpLmRhdGEoKSk7IkEiIT09dGhpcy50YWdOYW1lJiYiQVJFQSIhPT10aGlzLnRhZ05hbWV8fGkucHJldmVudERlZmF1bHQoKTtsPW4odSkub25lKHQuU0hPVyxmdW5jdGlvbihpKXtpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxsLm9uZSh0LkhJRERFTixmdW5jdGlvbigpe24oZSkuaXMoIjp2aXNpYmxlIikmJmUuZm9jdXMoKX0pfSk7aC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwobih1KSxjLHRoaXMpfSksbi5mbi5tb2RhbD1oLl9qUXVlcnlJbnRlcmZhY2Usbi5mbi5tb2RhbC5Db25zdHJ1Y3Rvcj1oLG4uZm4ubW9kYWwubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuLm1vZGFsPXksaC5falF1ZXJ5SW50ZXJmYWNlfSxofSh0KSxkPWZ1bmN0aW9uKG4pe3ZhciB1PSJ0b29sdGlwIixsPSJicy50b29sdGlwIix0PSIuIitsLHA9bi5mblt1XSx3PW5ldyBSZWdFeHAoIihefFxccylicy10b29sdGlwXFxTKyIsImciKSxiPXthbmltYXRpb246ImJvb2xlYW4iLHRlbXBsYXRlOiJzdHJpbmciLHRpdGxlOiIoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pIix0cmlnZ2VyOiJzdHJpbmciLGRlbGF5OiIobnVtYmVyfG9iamVjdCkiLGh0bWw6ImJvb2xlYW4iLHNlbGVjdG9yOiIoc3RyaW5nfGJvb2xlYW4pIixwbGFjZW1lbnQ6IihzdHJpbmd8ZnVuY3Rpb24pIixvZmZzZXQ6IihudW1iZXJ8c3RyaW5nKSIsY29udGFpbmVyOiIoc3RyaW5nfGVsZW1lbnR8Ym9vbGVhbikiLGZhbGxiYWNrUGxhY2VtZW50OiIoc3RyaW5nfGFycmF5KSIsYm91bmRhcnk6IihzdHJpbmd8ZWxlbWVudCkifSxrPXtBVVRPOiJhdXRvIixUT1A6InRvcCIsUklHSFQ6InJpZ2h0IixCT1RUT006ImJvdHRvbSIsTEVGVDoibGVmdCJ9LGQ9e2FuaW1hdGlvbjohMCx0ZW1wbGF0ZTonPGRpdiBjbGFzcz0idG9vbHRpcCIgcm9sZT0idG9vbHRpcCI+PGRpdiBjbGFzcz0iYXJyb3ciPjxcL2Rpdj48ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIj48XC9kaXY+PFwvZGl2PicsdHJpZ2dlcjoiaG92ZXIgZm9jdXMiLHRpdGxlOiIiLGRlbGF5OjAsaHRtbDohMSxzZWxlY3RvcjohMSxwbGFjZW1lbnQ6InRvcCIsb2Zmc2V0OjAsY29udGFpbmVyOiExLGZhbGxiYWNrUGxhY2VtZW50OiJmbGlwIixib3VuZGFyeToic2Nyb2xsUGFyZW50In0sZT0ic2hvdyIsdj0ib3V0IixnPXtISURFOiJoaWRlIit0LEhJRERFTjoiaGlkZGVuIit0LFNIT1c6InNob3ciK3QsU0hPV046InNob3duIit0LElOU0VSVEVEOiJpbnNlcnRlZCIrdCxDTElDSzoiY2xpY2siK3QsRk9DVVNJTjoiZm9jdXNpbiIrdCxGT0NVU09VVDoiZm9jdXNvdXQiK3QsTU9VU0VFTlRFUjoibW91c2VlbnRlciIrdCxNT1VTRUxFQVZFOiJtb3VzZWxlYXZlIit0fSxzPSJmYWRlIixoPSJzaG93IixudD0iLnRvb2x0aXAtaW5uZXIiLHR0PSIuYXJyb3ciLGM9ImhvdmVyIix5PSJmb2N1cyIsaXQ9ImNsaWNrIixydD0ibWFudWFsIixhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcChuLHQpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaSl0aHJvdyBuZXcgVHlwZUVycm9yKCJCb290c3RyYXAgdG9vbHRpcHMgcmVxdWlyZSBQb3BwZXIuanMgKGh0dHBzOi8vcG9wcGVyLmpzLm9yZykiKTt0aGlzLl9pc0VuYWJsZWQ9ITA7dGhpcy5fdGltZW91dD0wO3RoaXMuX2hvdmVyU3RhdGU9IiI7dGhpcy5fYWN0aXZlVHJpZ2dlcj17fTt0aGlzLl9wb3BwZXI9bnVsbDt0aGlzLmVsZW1lbnQ9bjt0aGlzLmNvbmZpZz10aGlzLl9nZXRDb25maWcodCk7dGhpcy50aXA9bnVsbDt0aGlzLl9zZXRMaXN0ZW5lcnMoKX12YXIgYT1wLnByb3RvdHlwZTtyZXR1cm4gYS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLl9pc0VuYWJsZWQ9ITB9LGEuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2lzRW5hYmxlZD0hMX0sYS50b2dnbGVFbmFibGVkPWZ1bmN0aW9uKCl7dGhpcy5faXNFbmFibGVkPSF0aGlzLl9pc0VuYWJsZWR9LGEudG9nZ2xlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2lzRW5hYmxlZClpZih0KXt2YXIgcj10aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZLGk9bih0LmN1cnJlbnRUYXJnZXQpLmRhdGEocik7aXx8KGk9bmV3IHRoaXMuY29uc3RydWN0b3IodC5jdXJyZW50VGFyZ2V0LHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpLG4odC5jdXJyZW50VGFyZ2V0KS5kYXRhKHIsaSkpO2kuX2FjdGl2ZVRyaWdnZXIuY2xpY2s9IWkuX2FjdGl2ZVRyaWdnZXIuY2xpY2s7aS5faXNXaXRoQWN0aXZlVHJpZ2dlcigpP2kuX2VudGVyKG51bGwsaSk6aS5fbGVhdmUobnVsbCxpKX1lbHNle2lmKG4odGhpcy5nZXRUaXBFbGVtZW50KCkpLmhhc0NsYXNzKGgpKXJldHVybiB2b2lkIHRoaXMuX2xlYXZlKG51bGwsdGhpcyk7dGhpcy5fZW50ZXIobnVsbCx0aGlzKX19LGEuZGlzcG9zZT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtuLnJlbW92ZURhdGEodGhpcy5lbGVtZW50LHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVkpO24odGhpcy5lbGVtZW50KS5vZmYodGhpcy5jb25zdHJ1Y3Rvci5FVkVOVF9LRVkpO24odGhpcy5lbGVtZW50KS5jbG9zZXN0KCIubW9kYWwiKS5vZmYoImhpZGUuYnMubW9kYWwiKTt0aGlzLnRpcCYmbih0aGlzLnRpcCkucmVtb3ZlKCk7dGhpcy5faXNFbmFibGVkPW51bGw7dGhpcy5fdGltZW91dD1udWxsO3RoaXMuX2hvdmVyU3RhdGU9bnVsbDt0aGlzLl9hY3RpdmVUcmlnZ2VyPW51bGw7bnVsbCE9PXRoaXMuX3BvcHBlciYmdGhpcy5fcG9wcGVyLmRlc3Ryb3koKTt0aGlzLl9wb3BwZXI9bnVsbDt0aGlzLmVsZW1lbnQ9bnVsbDt0aGlzLmNvbmZpZz1udWxsO3RoaXMudGlwPW51bGx9LGEuc2hvdz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZixsLHUsZSxhLG8seSxjO2lmKCJub25lIj09PW4odGhpcy5lbGVtZW50KS5jc3MoImRpc3BsYXkiKSl0aHJvdyBuZXcgRXJyb3IoIlBsZWFzZSB1c2Ugc2hvdyBvbiB2aXNpYmxlIGVsZW1lbnRzIik7aWYoZj1uLkV2ZW50KHRoaXMuY29uc3RydWN0b3IuRXZlbnQuU0hPVyksdGhpcy5pc1dpdGhDb250ZW50KCkmJnRoaXMuX2lzRW5hYmxlZCl7aWYobih0aGlzLmVsZW1lbnQpLnRyaWdnZXIoZiksbD1uLmNvbnRhaW5zKHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLmVsZW1lbnQpLGYuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFsKXJldHVybjt1PXRoaXMuZ2V0VGlwRWxlbWVudCgpO2U9ci5nZXRVSUQodGhpcy5jb25zdHJ1Y3Rvci5OQU1FKTt1LnNldEF0dHJpYnV0ZSgiaWQiLGUpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtZGVzY3JpYmVkYnkiLGUpO3RoaXMuc2V0Q29udGVudCgpO3RoaXMuY29uZmlnLmFuaW1hdGlvbiYmbih1KS5hZGRDbGFzcyhzKTthPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQ/dGhpcy5jb25maWcucGxhY2VtZW50LmNhbGwodGhpcyx1LHRoaXMuZWxlbWVudCk6dGhpcy5jb25maWcucGxhY2VtZW50O289dGhpcy5fZ2V0QXR0YWNobWVudChhKTt0aGlzLmFkZEF0dGFjaG1lbnRDbGFzcyhvKTt5PSExPT09dGhpcy5jb25maWcuY29udGFpbmVyP2RvY3VtZW50LmJvZHk6bih0aGlzLmNvbmZpZy5jb250YWluZXIpO24odSkuZGF0YSh0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZLHRoaXMpO24uY29udGFpbnModGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMudGlwKXx8bih1KS5hcHBlbmRUbyh5KTtuKHRoaXMuZWxlbWVudCkudHJpZ2dlcih0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LklOU0VSVEVEKTt0aGlzLl9wb3BwZXI9bmV3IGkodGhpcy5lbGVtZW50LHUse3BsYWNlbWVudDpvLG1vZGlmaWVyczp7b2Zmc2V0OntvZmZzZXQ6dGhpcy5jb25maWcub2Zmc2V0fSxmbGlwOntiZWhhdmlvcjp0aGlzLmNvbmZpZy5mYWxsYmFja1BsYWNlbWVudH0sYXJyb3c6e2VsZW1lbnQ6dHR9LHByZXZlbnRPdmVyZmxvdzp7Ym91bmRhcmllc0VsZW1lbnQ6dGhpcy5jb25maWcuYm91bmRhcnl9fSxvbkNyZWF0ZTpmdW5jdGlvbihuKXtuLm9yaWdpbmFsUGxhY2VtZW50IT09bi5wbGFjZW1lbnQmJnQuX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZShuKX0sb25VcGRhdGU6ZnVuY3Rpb24obil7dC5faGFuZGxlUG9wcGVyUGxhY2VtZW50Q2hhbmdlKG4pfX0pO24odSkuYWRkQ2xhc3MoaCk7Im9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJm4oImJvZHkiKS5jaGlsZHJlbigpLm9uKCJtb3VzZW92ZXIiLG51bGwsbi5ub29wKTtjPWZ1bmN0aW9uKCl7dC5jb25maWcuYW5pbWF0aW9uJiZ0Ll9maXhUcmFuc2l0aW9uKCk7dmFyIGk9dC5faG92ZXJTdGF0ZTt0Ll9ob3ZlclN0YXRlPW51bGw7bih0LmVsZW1lbnQpLnRyaWdnZXIodC5jb25zdHJ1Y3Rvci5FdmVudC5TSE9XTik7aT09PXYmJnQuX2xlYXZlKG51bGwsdCl9O3Iuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkmJm4odGhpcy50aXApLmhhc0NsYXNzKHMpP24odGhpcy50aXApLm9uZShyLlRSQU5TSVRJT05fRU5ELGMpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHAuX1RSQU5TSVRJT05fRFVSQVRJT04pOmMoKX19LGEuaGlkZT1mdW5jdGlvbih0KXt2YXIgaT10aGlzLHU9dGhpcy5nZXRUaXBFbGVtZW50KCksZj1uLkV2ZW50KHRoaXMuY29uc3RydWN0b3IuRXZlbnQuSElERSksbz1mdW5jdGlvbigpe2kuX2hvdmVyU3RhdGUhPT1lJiZ1LnBhcmVudE5vZGUmJnUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1KTtpLl9jbGVhblRpcENsYXNzKCk7aS5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1kZXNjcmliZWRieSIpO24oaS5lbGVtZW50KS50cmlnZ2VyKGkuY29uc3RydWN0b3IuRXZlbnQuSElEREVOKTtudWxsIT09aS5fcG9wcGVyJiZpLl9wb3BwZXIuZGVzdHJveSgpO3QmJnQoKX07bih0aGlzLmVsZW1lbnQpLnRyaWdnZXIoZik7Zi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KG4odSkucmVtb3ZlQ2xhc3MoaCksIm9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJm4oImJvZHkiKS5jaGlsZHJlbigpLm9mZigibW91c2VvdmVyIixudWxsLG4ubm9vcCksdGhpcy5fYWN0aXZlVHJpZ2dlcltpdF09ITEsdGhpcy5fYWN0aXZlVHJpZ2dlclt5XT0hMSx0aGlzLl9hY3RpdmVUcmlnZ2VyW2NdPSExLHIuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkmJm4odGhpcy50aXApLmhhc0NsYXNzKHMpP24odSkub25lKHIuVFJBTlNJVElPTl9FTkQsbykuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTpvKCksdGhpcy5faG92ZXJTdGF0ZT0iIil9LGEudXBkYXRlPWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuX3BvcHBlciYmdGhpcy5fcG9wcGVyLnNjaGVkdWxlVXBkYXRlKCl9LGEuaXNXaXRoQ29udGVudD1mdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMuZ2V0VGl0bGUoKSl9LGEuYWRkQXR0YWNobWVudENsYXNzPWZ1bmN0aW9uKHQpe24odGhpcy5nZXRUaXBFbGVtZW50KCkpLmFkZENsYXNzKCJicy10b29sdGlwLSIrdCl9LGEuZ2V0VGlwRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpcD10aGlzLnRpcHx8bih0aGlzLmNvbmZpZy50ZW1wbGF0ZSlbMF0sdGhpcy50aXB9LGEuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciB0PW4odGhpcy5nZXRUaXBFbGVtZW50KCkpO3RoaXMuc2V0RWxlbWVudENvbnRlbnQodC5maW5kKG50KSx0aGlzLmdldFRpdGxlKCkpO3QucmVtb3ZlQ2xhc3MocysiICIraCl9LGEuc2V0RWxlbWVudENvbnRlbnQ9ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzLmNvbmZpZy5odG1sOyJvYmplY3QiPT10eXBlb2YgaSYmKGkubm9kZVR5cGV8fGkuanF1ZXJ5KT9yP24oaSkucGFyZW50KCkuaXModCl8fHQuZW1wdHkoKS5hcHBlbmQoaSk6dC50ZXh0KG4oaSkudGV4dCgpKTp0W3I/Imh0bWwiOiJ0ZXh0Il0oaSl9LGEuZ2V0VGl0bGU9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLW9yaWdpbmFsLXRpdGxlIik7cmV0dXJuIG58fChuPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbmZpZy50aXRsZT90aGlzLmNvbmZpZy50aXRsZS5jYWxsKHRoaXMuZWxlbWVudCk6dGhpcy5jb25maWcudGl0bGUpLG59LGEuX2dldEF0dGFjaG1lbnQ9ZnVuY3Rpb24obil7cmV0dXJuIGtbbi50b1VwcGVyQ2FzZSgpXX0sYS5fc2V0TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmNvbmZpZy50cmlnZ2VyLnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbihpKXtpZigiY2xpY2siPT09aSluKHQuZWxlbWVudCkub24odC5jb25zdHJ1Y3Rvci5FdmVudC5DTElDSyx0LmNvbmZpZy5zZWxlY3RvcixmdW5jdGlvbihuKXtyZXR1cm4gdC50b2dnbGUobil9KTtlbHNlIGlmKGkhPT1ydCl7dmFyIHI9aT09PWM/dC5jb25zdHJ1Y3Rvci5FdmVudC5NT1VTRUVOVEVSOnQuY29uc3RydWN0b3IuRXZlbnQuRk9DVVNJTix1PWk9PT1jP3QuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VMRUFWRTp0LmNvbnN0cnVjdG9yLkV2ZW50LkZPQ1VTT1VUO24odC5lbGVtZW50KS5vbihyLHQuY29uZmlnLnNlbGVjdG9yLGZ1bmN0aW9uKG4pe3JldHVybiB0Ll9lbnRlcihuKX0pLm9uKHUsdC5jb25maWcuc2VsZWN0b3IsZnVuY3Rpb24obil7cmV0dXJuIHQuX2xlYXZlKG4pfSl9bih0LmVsZW1lbnQpLmNsb3Nlc3QoIi5tb2RhbCIpLm9uKCJoaWRlLmJzLm1vZGFsIixmdW5jdGlvbigpe3JldHVybiB0LmhpZGUoKX0pfSk7dGhpcy5jb25maWcuc2VsZWN0b3I/dGhpcy5jb25maWc9Zih7fSx0aGlzLmNvbmZpZyx7dHJpZ2dlcjoibWFudWFsIixzZWxlY3RvcjoiIn0pOnRoaXMuX2ZpeFRpdGxlKCl9LGEuX2ZpeFRpdGxlPWZ1bmN0aW9uKCl7dmFyIG49dHlwZW9mIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEtb3JpZ2luYWwtdGl0bGUiKTsodGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgidGl0bGUiKXx8InN0cmluZyIhPT1uKSYmKHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoImRhdGEtb3JpZ2luYWwtdGl0bGUiLHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoInRpdGxlIil8fCIiKSx0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIiIpKX0sYS5fZW50ZXI9ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZOyhpPWl8fG4odC5jdXJyZW50VGFyZ2V0KS5kYXRhKHIpKXx8KGk9bmV3IHRoaXMuY29uc3RydWN0b3IodC5jdXJyZW50VGFyZ2V0LHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpLG4odC5jdXJyZW50VGFyZ2V0KS5kYXRhKHIsaSkpO3QmJihpLl9hY3RpdmVUcmlnZ2VyWyJmb2N1c2luIj09PXQudHlwZT95OmNdPSEwKTtuKGkuZ2V0VGlwRWxlbWVudCgpKS5oYXNDbGFzcyhoKXx8aS5faG92ZXJTdGF0ZT09PWU/aS5faG92ZXJTdGF0ZT1lOihjbGVhclRpbWVvdXQoaS5fdGltZW91dCksaS5faG92ZXJTdGF0ZT1lLGkuY29uZmlnLmRlbGF5JiZpLmNvbmZpZy5kZWxheS5zaG93P2kuX3RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2kuX2hvdmVyU3RhdGU9PT1lJiZpLnNob3coKX0saS5jb25maWcuZGVsYXkuc2hvdyk6aS5zaG93KCkpfSxhLl9sZWF2ZT1mdW5jdGlvbih0LGkpe3ZhciByPXRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7KGk9aXx8bih0LmN1cnJlbnRUYXJnZXQpLmRhdGEocikpfHwoaT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LmN1cnJlbnRUYXJnZXQsdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSksbih0LmN1cnJlbnRUYXJnZXQpLmRhdGEocixpKSk7dCYmKGkuX2FjdGl2ZVRyaWdnZXJbImZvY3Vzb3V0Ij09PXQudHlwZT95OmNdPSExKTtpLl9pc1dpdGhBY3RpdmVUcmlnZ2VyKCl8fChjbGVhclRpbWVvdXQoaS5fdGltZW91dCksaS5faG92ZXJTdGF0ZT12LGkuY29uZmlnLmRlbGF5JiZpLmNvbmZpZy5kZWxheS5oaWRlP2kuX3RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2kuX2hvdmVyU3RhdGU9PT12JiZpLmhpZGUoKX0saS5jb25maWcuZGVsYXkuaGlkZSk6aS5oaWRlKCkpfSxhLl9pc1dpdGhBY3RpdmVUcmlnZ2VyPWZ1bmN0aW9uKCl7Zm9yKHZhciBuIGluIHRoaXMuX2FjdGl2ZVRyaWdnZXIpaWYodGhpcy5fYWN0aXZlVHJpZ2dlcltuXSlyZXR1cm4hMDtyZXR1cm4hMX0sYS5fZ2V0Q29uZmlnPWZ1bmN0aW9uKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YodD1mKHt9LHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCxuKHRoaXMuZWxlbWVudCkuZGF0YSgpLHQpKS5kZWxheSYmKHQuZGVsYXk9e3Nob3c6dC5kZWxheSxoaWRlOnQuZGVsYXl9KSwibnVtYmVyIj09dHlwZW9mIHQudGl0bGUmJih0LnRpdGxlPXQudGl0bGUudG9TdHJpbmcoKSksIm51bWJlciI9PXR5cGVvZiB0LmNvbnRlbnQmJih0LmNvbnRlbnQ9dC5jb250ZW50LnRvU3RyaW5nKCkpLHIudHlwZUNoZWNrQ29uZmlnKHUsdCx0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRUeXBlKSx0fSxhLl9nZXREZWxlZ2F0ZUNvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXt9LG47aWYodGhpcy5jb25maWcpZm9yKG4gaW4gdGhpcy5jb25maWcpdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0W25dIT09dGhpcy5jb25maWdbbl0mJih0W25dPXRoaXMuY29uZmlnW25dKTtyZXR1cm4gdH0sYS5fY2xlYW5UaXBDbGFzcz1mdW5jdGlvbigpe3ZhciBpPW4odGhpcy5nZXRUaXBFbGVtZW50KCkpLHQ9aS5hdHRyKCJjbGFzcyIpLm1hdGNoKHcpO251bGwhPT10JiZ0Lmxlbmd0aD4wJiZpLnJlbW92ZUNsYXNzKHQuam9pbigiIikpfSxhLl9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2U9ZnVuY3Rpb24obil7dGhpcy5fY2xlYW5UaXBDbGFzcygpO3RoaXMuYWRkQXR0YWNobWVudENsYXNzKHRoaXMuX2dldEF0dGFjaG1lbnQobi5wbGFjZW1lbnQpKX0sYS5fZml4VHJhbnNpdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0VGlwRWxlbWVudCgpLGk9dGhpcy5jb25maWcuYW5pbWF0aW9uO251bGw9PT10LmdldEF0dHJpYnV0ZSgieC1wbGFjZW1lbnQiKSYmKG4odCkucmVtb3ZlQ2xhc3MocyksdGhpcy5jb25maWcuYW5pbWF0aW9uPSExLHRoaXMuaGlkZSgpLHRoaXMuc2hvdygpLHRoaXMuY29uZmlnLmFuaW1hdGlvbj1pKX0scC5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLmRhdGEobCkscj0ib2JqZWN0Ij09dHlwZW9mIHQmJnQ7aWYoKGl8fCEvZGlzcG9zZXxoaWRlLy50ZXN0KHQpKSYmKGl8fChpPW5ldyBwKHRoaXMsciksbih0aGlzKS5kYXRhKGwsaSkpLCJzdHJpbmciPT10eXBlb2YgdCkpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaVt0XSl0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBtZXRob2QgbmFtZWQgIicrdCsnIicpO2lbdF0oKX19KX0sbyhwLG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjAuMCJ9fSx7a2V5OiJEZWZhdWx0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZH19LHtrZXk6Ik5BTUUiLGdldDpmdW5jdGlvbigpe3JldHVybiB1fX0se2tleToiREFUQV9LRVkiLGdldDpmdW5jdGlvbigpe3JldHVybiBsfX0se2tleToiRXZlbnQiLGdldDpmdW5jdGlvbigpe3JldHVybiBnfX0se2tleToiRVZFTlRfS0VZIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdH19LHtrZXk6IkRlZmF1bHRUeXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn19XSkscH0oKTtyZXR1cm4gbi5mblt1XT1hLl9qUXVlcnlJbnRlcmZhY2Usbi5mblt1XS5Db25zdHJ1Y3Rvcj1hLG4uZm5bdV0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuW3VdPXAsYS5falF1ZXJ5SW50ZXJmYWNlfSxhfSh0KSxkdD1mdW5jdGlvbihuKXt2YXIgaT0icG9wb3ZlciIscj0iYnMucG9wb3ZlciIsdD0iLiIrcixlPW4uZm5baV0scz1uZXcgUmVnRXhwKCIoXnxcXHMpYnMtcG9wb3ZlclxcUysiLCJnIiksaD1mKHt9LGQuRGVmYXVsdCx7cGxhY2VtZW50OiJyaWdodCIsdHJpZ2dlcjoiY2xpY2siLGNvbnRlbnQ6IiIsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InBvcG92ZXIiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9ImFycm93Ij48XC9kaXY+PGgzIGNsYXNzPSJwb3BvdmVyLWhlYWRlciI+PFwvaDM+PGRpdiBjbGFzcz0icG9wb3Zlci1ib2R5Ij48XC9kaXY+PFwvZGl2Pid9KSxjPWYoe30sZC5EZWZhdWx0VHlwZSx7Y29udGVudDoiKHN0cmluZ3xlbGVtZW50fGZ1bmN0aW9uKSJ9KSxsPSJmYWRlIixhPSJzaG93Iix2PSIucG9wb3Zlci1oZWFkZXIiLHk9Ii5wb3BvdmVyLWJvZHkiLHA9e0hJREU6ImhpZGUiK3QsSElEREVOOiJoaWRkZW4iK3QsU0hPVzoic2hvdyIrdCxTSE9XTjoic2hvd24iK3QsSU5TRVJURUQ6Imluc2VydGVkIit0LENMSUNLOiJjbGljayIrdCxGT0NVU0lOOiJmb2N1c2luIit0LEZPQ1VTT1VUOiJmb2N1c291dCIrdCxNT1VTRUVOVEVSOiJtb3VzZWVudGVyIit0LE1PVVNFTEVBVkU6Im1vdXNlbGVhdmUiK3R9LHU9ZnVuY3Rpb24odSl7ZnVuY3Rpb24gZSgpe3JldHVybiB1LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc312YXIgdyxiLGY7cmV0dXJuIGI9dSwodz1lKS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksdy5wcm90b3R5cGUuY29uc3RydWN0b3I9dyx3Ll9fcHJvdG9fXz1iLGY9ZS5wcm90b3R5cGUsZi5pc1dpdGhDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKXx8dGhpcy5fZ2V0Q29udGVudCgpfSxmLmFkZEF0dGFjaG1lbnRDbGFzcz1mdW5jdGlvbih0KXtuKHRoaXMuZ2V0VGlwRWxlbWVudCgpKS5hZGRDbGFzcygiYnMtcG9wb3Zlci0iK3QpfSxmLmdldFRpcEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aXA9dGhpcy50aXB8fG4odGhpcy5jb25maWcudGVtcGxhdGUpWzBdLHRoaXMudGlwfSxmLnNldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMuZ2V0VGlwRWxlbWVudCgpKSx0O3RoaXMuc2V0RWxlbWVudENvbnRlbnQoaS5maW5kKHYpLHRoaXMuZ2V0VGl0bGUoKSk7dD10aGlzLl9nZXRDb250ZW50KCk7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJih0PXQuY2FsbCh0aGlzLmVsZW1lbnQpKTt0aGlzLnNldEVsZW1lbnRDb250ZW50KGkuZmluZCh5KSx0KTtpLnJlbW92ZUNsYXNzKGwrIiAiK2EpfSxmLl9nZXRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEtY29udGVudCIpfHx0aGlzLmNvbmZpZy5jb250ZW50fSxmLl9jbGVhblRpcENsYXNzPWZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzLmdldFRpcEVsZW1lbnQoKSksdD1pLmF0dHIoImNsYXNzIikubWF0Y2gocyk7bnVsbCE9PXQmJnQubGVuZ3RoPjAmJmkucmVtb3ZlQ2xhc3ModC5qb2luKCIiKSl9LGUuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5kYXRhKHIpLHU9Im9iamVjdCI9PXR5cGVvZiB0P3Q6bnVsbDtpZigoaXx8IS9kZXN0cm95fGhpZGUvLnRlc3QodCkpJiYoaXx8KGk9bmV3IGUodGhpcyx1KSxuKHRoaXMpLmRhdGEocixpKSksInN0cmluZyI9PXR5cGVvZiB0KSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpW3RdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJyt0KyciJyk7aVt0XSgpfX0pfSxvKGUsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMC4wIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiBofX0se2tleToiTkFNRSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSx7a2V5OiJEQVRBX0tFWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSx7a2V5OiJFdmVudCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHB9fSx7a2V5OiJFVkVOVF9LRVkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0fX0se2tleToiRGVmYXVsdFR5cGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBjfX1dKSxlfShkKTtyZXR1cm4gbi5mbltpXT11Ll9qUXVlcnlJbnRlcmZhY2Usbi5mbltpXS5Db25zdHJ1Y3Rvcj11LG4uZm5baV0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuW2ldPWUsdS5falF1ZXJ5SW50ZXJmYWNlfSx1fSh0KSxndD1mdW5jdGlvbihuKXt2YXIgaT0ic2Nyb2xsc3B5IixzPSJicy5zY3JvbGxzcHkiLGg9Ii4iK3Msdj1uLmZuW2ldLGw9e29mZnNldDoxMCxtZXRob2Q6ImF1dG8iLHRhcmdldDoiIn0seT17b2Zmc2V0OiJudW1iZXIiLG1ldGhvZDoic3RyaW5nIix0YXJnZXQ6IihzdHJpbmd8ZWxlbWVudCkifSxjPXtBQ1RJVkFURToiYWN0aXZhdGUiK2gsU0NST0xMOiJzY3JvbGwiK2gsTE9BRF9EQVRBX0FQSToibG9hZCIraCsiLmRhdGEtYXBpIn0scD0iZHJvcGRvd24taXRlbSIsdT0iYWN0aXZlIix0PXtEQVRBX1NQWTonW2RhdGEtc3B5PSJzY3JvbGwiXScsQUNUSVZFOiIuYWN0aXZlIixOQVZfTElTVF9HUk9VUDoiLm5hdiwgLmxpc3QtZ3JvdXAiLE5BVl9MSU5LUzoiLm5hdi1saW5rIixOQVZfSVRFTVM6Ii5uYXYtaXRlbSIsTElTVF9JVEVNUzoiLmxpc3QtZ3JvdXAtaXRlbSIsRFJPUERPV046Ii5kcm9wZG93biIsRFJPUERPV05fSVRFTVM6Ii5kcm9wZG93bi1pdGVtIixEUk9QRE9XTl9UT0dHTEU6Ii5kcm9wZG93bi10b2dnbGUifSx3PSJvZmZzZXQiLGE9InBvc2l0aW9uIixlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdihpLHIpe3ZhciB1PXRoaXM7dGhpcy5fZWxlbWVudD1pO3RoaXMuX3Njcm9sbEVsZW1lbnQ9IkJPRFkiPT09aS50YWdOYW1lP3dpbmRvdzppO3RoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcocik7dGhpcy5fc2VsZWN0b3I9dGhpcy5fY29uZmlnLnRhcmdldCsiICIrdC5OQVZfTElOS1MrIiwiK3RoaXMuX2NvbmZpZy50YXJnZXQrIiAiK3QuTElTVF9JVEVNUysiLCIrdGhpcy5fY29uZmlnLnRhcmdldCsiICIrdC5EUk9QRE9XTl9JVEVNUzt0aGlzLl9vZmZzZXRzPVtdO3RoaXMuX3RhcmdldHM9W107dGhpcy5fYWN0aXZlVGFyZ2V0PW51bGw7dGhpcy5fc2Nyb2xsSGVpZ2h0PTA7bih0aGlzLl9zY3JvbGxFbGVtZW50KS5vbihjLlNDUk9MTCxmdW5jdGlvbihuKXtyZXR1cm4gdS5fcHJvY2VzcyhuKX0pO3RoaXMucmVmcmVzaCgpO3RoaXMuX3Byb2Nlc3MoKX12YXIgZT12LnByb3RvdHlwZTtyZXR1cm4gZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyx1PXRoaXMuX3Njcm9sbEVsZW1lbnQ9PT10aGlzLl9zY3JvbGxFbGVtZW50LndpbmRvdz93OmEsaT0iYXV0byI9PT10aGlzLl9jb25maWcubWV0aG9kP3U6dGhpcy5fY29uZmlnLm1ldGhvZCxmPWk9PT1hP3RoaXMuX2dldFNjcm9sbFRvcCgpOjA7dGhpcy5fb2Zmc2V0cz1bXTt0aGlzLl90YXJnZXRzPVtdO3RoaXMuX3Njcm9sbEhlaWdodD10aGlzLl9nZXRTY3JvbGxIZWlnaHQoKTtuLm1ha2VBcnJheShuKHRoaXMuX3NlbGVjdG9yKSkubWFwKGZ1bmN0aW9uKHQpe3ZhciB1LGU9ci5nZXRTZWxlY3RvckZyb21FbGVtZW50KHQpLG87cmV0dXJuKGUmJih1PW4oZSlbMF0pLHUpJiYobz11LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG8ud2lkdGh8fG8uaGVpZ2h0KT9bbih1KVtpXSgpLnRvcCtmLGVdOm51bGx9KS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG59KS5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG5bMF0tdFswXX0pLmZvckVhY2goZnVuY3Rpb24obil7dC5fb2Zmc2V0cy5wdXNoKG5bMF0pO3QuX3RhcmdldHMucHVzaChuWzFdKX0pfSxlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtuLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxzKTtuKHRoaXMuX3Njcm9sbEVsZW1lbnQpLm9mZihoKTt0aGlzLl9lbGVtZW50PW51bGw7dGhpcy5fc2Nyb2xsRWxlbWVudD1udWxsO3RoaXMuX2NvbmZpZz1udWxsO3RoaXMuX3NlbGVjdG9yPW51bGw7dGhpcy5fb2Zmc2V0cz1udWxsO3RoaXMuX3RhcmdldHM9bnVsbDt0aGlzLl9hY3RpdmVUYXJnZXQ9bnVsbDt0aGlzLl9zY3JvbGxIZWlnaHQ9bnVsbH0sZS5fZ2V0Q29uZmlnPWZ1bmN0aW9uKHQpe2lmKCJzdHJpbmciIT10eXBlb2YodD1mKHt9LGwsdCkpLnRhcmdldCl7dmFyIHU9bih0LnRhcmdldCkuYXR0cigiaWQiKTt1fHwodT1yLmdldFVJRChpKSxuKHQudGFyZ2V0KS5hdHRyKCJpZCIsdSkpO3QudGFyZ2V0PSIjIit1fXJldHVybiByLnR5cGVDaGVja0NvbmZpZyhpLHQseSksdH0sZS5fZ2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQ9PT13aW5kb3c/dGhpcy5fc2Nyb2xsRWxlbWVudC5wYWdlWU9mZnNldDp0aGlzLl9zY3JvbGxFbGVtZW50LnNjcm9sbFRvcH0sZS5fZ2V0U2Nyb2xsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQuc2Nyb2xsSGVpZ2h0fHxNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KX0sZS5fZ2V0T2Zmc2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQ9PT13aW5kb3c/d2luZG93LmlubmVySGVpZ2h0OnRoaXMuX3Njcm9sbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fSxlLl9wcm9jZXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0U2Nyb2xsVG9wKCkrdGhpcy5fY29uZmlnLm9mZnNldCxyPXRoaXMuX2dldFNjcm9sbEhlaWdodCgpLHU9dGhpcy5fY29uZmlnLm9mZnNldCtyLXRoaXMuX2dldE9mZnNldEhlaWdodCgpLGksbjtpZih0aGlzLl9zY3JvbGxIZWlnaHQhPT1yJiZ0aGlzLnJlZnJlc2goKSx0Pj11KWk9dGhpcy5fdGFyZ2V0c1t0aGlzLl90YXJnZXRzLmxlbmd0aC0xXSx0aGlzLl9hY3RpdmVUYXJnZXQhPT1pJiZ0aGlzLl9hY3RpdmF0ZShpKTtlbHNle2lmKHRoaXMuX2FjdGl2ZVRhcmdldCYmdDx0aGlzLl9vZmZzZXRzWzBdJiZ0aGlzLl9vZmZzZXRzWzBdPjApcmV0dXJuIHRoaXMuX2FjdGl2ZVRhcmdldD1udWxsLHZvaWQgdGhpcy5fY2xlYXIoKTtmb3Iobj10aGlzLl9vZmZzZXRzLmxlbmd0aDtuLS07KXRoaXMuX2FjdGl2ZVRhcmdldCE9PXRoaXMuX3RhcmdldHNbbl0mJnQ+PXRoaXMuX29mZnNldHNbbl0mJigidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuX29mZnNldHNbbisxXXx8dDx0aGlzLl9vZmZzZXRzW24rMV0pJiZ0aGlzLl9hY3RpdmF0ZSh0aGlzLl90YXJnZXRzW25dKX19LGUuX2FjdGl2YXRlPWZ1bmN0aW9uKGkpe3ZhciBmLHI7dGhpcy5fYWN0aXZlVGFyZ2V0PWk7dGhpcy5fY2xlYXIoKTtmPXRoaXMuX3NlbGVjdG9yLnNwbGl0KCIsIik7Zj1mLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbisnW2RhdGEtdGFyZ2V0PSInK2krJyJdLCcrbisnW2hyZWY9IicraSsnIl0nfSk7cj1uKGYuam9pbigiLCIpKTtyLmhhc0NsYXNzKHApPyhyLmNsb3Nlc3QodC5EUk9QRE9XTikuZmluZCh0LkRST1BET1dOX1RPR0dMRSkuYWRkQ2xhc3ModSksci5hZGRDbGFzcyh1KSk6KHIuYWRkQ2xhc3ModSksci5wYXJlbnRzKHQuTkFWX0xJU1RfR1JPVVApLnByZXYodC5OQVZfTElOS1MrIiwgIit0LkxJU1RfSVRFTVMpLmFkZENsYXNzKHUpLHIucGFyZW50cyh0Lk5BVl9MSVNUX0dST1VQKS5wcmV2KHQuTkFWX0lURU1TKS5jaGlsZHJlbih0Lk5BVl9MSU5LUykuYWRkQ2xhc3ModSkpO24odGhpcy5fc2Nyb2xsRWxlbWVudCkudHJpZ2dlcihjLkFDVElWQVRFLHtyZWxhdGVkVGFyZ2V0Oml9KX0sZS5fY2xlYXI9ZnVuY3Rpb24oKXtuKHRoaXMuX3NlbGVjdG9yKS5maWx0ZXIodC5BQ1RJVkUpLnJlbW92ZUNsYXNzKHUpfSx2Ll9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuZGF0YShzKTtpZihpfHwoaT1uZXcgdih0aGlzLCJvYmplY3QiPT10eXBlb2YgdCYmdCksbih0aGlzKS5kYXRhKHMsaSkpLCJzdHJpbmciPT10eXBlb2YgdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpW3RdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJyt0KyciJyk7aVt0XSgpfX0pfSxvKHYsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMC4wIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiBsfX1dKSx2fSgpO3JldHVybiBuKHdpbmRvdykub24oYy5MT0FEX0RBVEFfQVBJLGZ1bmN0aW9uKCl7Zm9yKHZhciB1LGk9bi5tYWtlQXJyYXkobih0LkRBVEFfU1BZKSkscj1pLmxlbmd0aDtyLS07KXU9bihpW3JdKSxlLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCh1LHUuZGF0YSgpKX0pLG4uZm5baV09ZS5falF1ZXJ5SW50ZXJmYWNlLG4uZm5baV0uQ29uc3RydWN0b3I9ZSxuLmZuW2ldLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbi5mbltpXT12LGUuX2pRdWVyeUludGVyZmFjZX0sZX0odCksbmk9ZnVuY3Rpb24obil7dmFyIGY9ImJzLnRhYiIsZT0iLiIrZixsPW4uZm4udGFiLHQ9e0hJREU6ImhpZGUiK2UsSElEREVOOiJoaWRkZW4iK2UsU0hPVzoic2hvdyIrZSxTSE9XTjoic2hvd24iK2UsQ0xJQ0tfREFUQV9BUEk6ImNsaWNrLmJzLnRhYi5kYXRhLWFwaSJ9LGE9ImRyb3Bkb3duLW1lbnUiLGk9ImFjdGl2ZSIsdj0iZGlzYWJsZWQiLHk9ImZhZGUiLHM9InNob3ciLHA9Ii5kcm9wZG93biIsdz0iLm5hdiwgLmxpc3QtZ3JvdXAiLGg9Ii5hY3RpdmUiLGM9Ij4gbGkgPiAuYWN0aXZlIixiPSIuZHJvcGRvd24tdG9nZ2xlIixrPSI+IC5kcm9wZG93bi1tZW51IC5hY3RpdmUiLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB1KG4pe3RoaXMuX2VsZW1lbnQ9bn12YXIgZT11LnByb3RvdHlwZTtyZXR1cm4gZS5zaG93PWZ1bmN0aW9uKCl7dmFyIHk9dGhpcyxlLHUsZixvLHAscyxsLGE7dGhpcy5fZWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmbih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhpKXx8bih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyh2KXx8KGY9bih0aGlzLl9lbGVtZW50KS5jbG9zZXN0KHcpWzBdLG89ci5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpLGYmJihwPSJVTCI9PT1mLm5vZGVOYW1lP2M6aCx1PSh1PW4ubWFrZUFycmF5KG4oZikuZmluZChwKSkpW3UubGVuZ3RoLTFdKSxzPW4uRXZlbnQodC5ISURFLHtyZWxhdGVkVGFyZ2V0OnRoaXMuX2VsZW1lbnR9KSxsPW4uRXZlbnQodC5TSE9XLHtyZWxhdGVkVGFyZ2V0OnV9KSwodSYmbih1KS50cmlnZ2VyKHMpLG4odGhpcy5fZWxlbWVudCkudHJpZ2dlcihsKSxsLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxzLmlzRGVmYXVsdFByZXZlbnRlZCgpKXx8KG8mJihlPW4obylbMF0pLHRoaXMuX2FjdGl2YXRlKHRoaXMuX2VsZW1lbnQsZiksYT1mdW5jdGlvbigpe3ZhciBpPW4uRXZlbnQodC5ISURERU4se3JlbGF0ZWRUYXJnZXQ6eS5fZWxlbWVudH0pLHI9bi5FdmVudCh0LlNIT1dOLHtyZWxhdGVkVGFyZ2V0OnV9KTtuKHUpLnRyaWdnZXIoaSk7bih5Ll9lbGVtZW50KS50cmlnZ2VyKHIpfSxlP3RoaXMuX2FjdGl2YXRlKGUsZS5wYXJlbnROb2RlLGEpOmEoKSkpfSxlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtuLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxmKTt0aGlzLl9lbGVtZW50PW51bGx9LGUuX2FjdGl2YXRlPWZ1bmN0aW9uKHQsaSx1KXt2YXIgbz10aGlzLGY9KCJVTCI9PT1pLm5vZGVOYW1lP24oaSkuZmluZChjKTpuKGkpLmNoaWxkcmVuKGgpKVswXSxzPXUmJnIuc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkmJmYmJm4oZikuaGFzQ2xhc3MoeSksZT1mdW5jdGlvbigpe3JldHVybiBvLl90cmFuc2l0aW9uQ29tcGxldGUodCxmLHUpfTtmJiZzP24oZikub25lKHIuVFJBTlNJVElPTl9FTkQsZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKTplKCl9LGUuX3RyYW5zaXRpb25Db21wbGV0ZT1mdW5jdGlvbih0LHUsZil7dmFyIGUsbzt1JiYobih1KS5yZW1vdmVDbGFzcyhzKyIgIitpKSxlPW4odS5wYXJlbnROb2RlKS5maW5kKGspWzBdLGUmJm4oZSkucmVtb3ZlQ2xhc3MoaSksInRhYiI9PT11LmdldEF0dHJpYnV0ZSgicm9sZSIpJiZ1LnNldEF0dHJpYnV0ZSgiYXJpYS1zZWxlY3RlZCIsITEpKTsobih0KS5hZGRDbGFzcyhpKSwidGFiIj09PXQuZ2V0QXR0cmlidXRlKCJyb2xlIikmJnQuc2V0QXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIiwhMCksci5yZWZsb3codCksbih0KS5hZGRDbGFzcyhzKSx0LnBhcmVudE5vZGUmJm4odC5wYXJlbnROb2RlKS5oYXNDbGFzcyhhKSkmJihvPW4odCkuY2xvc2VzdChwKVswXSxvJiZuKG8pLmZpbmQoYikuYWRkQ2xhc3MoaSksdC5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKSk7ZiYmZigpfSx1Ll9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciByPW4odGhpcyksaT1yLmRhdGEoZik7aWYoaXx8KGk9bmV3IHUodGhpcyksci5kYXRhKGYsaSkpLCJzdHJpbmciPT10eXBlb2YgdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpW3RdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJyt0KyciJyk7aVt0XSgpfX0pfSxvKHUsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMC4wIn19XSksdX0oKTtyZXR1cm4gbihkb2N1bWVudCkub24odC5DTElDS19EQVRBX0FQSSwnW2RhdGEtdG9nZ2xlPSJ0YWIiXSwgW2RhdGEtdG9nZ2xlPSJwaWxsIl0sIFtkYXRhLXRvZ2dsZT0ibGlzdCJdJyxmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7dS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwobih0aGlzKSwic2hvdyIpfSksbi5mbi50YWI9dS5falF1ZXJ5SW50ZXJmYWNlLG4uZm4udGFiLkNvbnN0cnVjdG9yPXUsbi5mbi50YWIubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuLnRhYj1sLHUuX2pRdWVyeUludGVyZmFjZX0sdX0odCk7IWZ1bmN0aW9uKG4pe2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJCb290c3RyYXAncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeS4galF1ZXJ5IG11c3QgYmUgaW5jbHVkZWQgYmVmb3JlIEJvb3RzdHJhcCdzIEphdmFTY3JpcHQuIik7dmFyIHQ9bi5mbi5qcXVlcnkuc3BsaXQoIiAiKVswXS5zcGxpdCgiLiIpO2lmKHRbMF08MiYmdFsxXTw5fHwxPT09dFswXSYmOT09PXRbMV0mJnRbMl08MXx8dFswXT49NCl0aHJvdyBuZXcgRXJyb3IoIkJvb3RzdHJhcCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgYXQgbGVhc3QgalF1ZXJ5IHYxLjkuMSBidXQgbGVzcyB0aGFuIHY0LjAuMCIpO30odCk7bi5VdGlsPXI7bi5BbGVydD12dDtuLkJ1dHRvbj15dDtuLkNhcm91c2VsPXB0O24uQ29sbGFwc2U9d3Q7bi5Ecm9wZG93bj1idDtuLk1vZGFsPWt0O24uUG9wb3Zlcj1kdDtuLlNjcm9sbHNweT1ndDtuLlRhYj1uaTtuLlRvb2x0aXA9ZDtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KTskLmZuLmVkeUN1c3RvbVNlbGVjdEJveD1mdW5jdGlvbihuKXtmdW5jdGlvbiB1KCl7JCgiLnN0eWxpc2gtc2VsZWN0LWxlZnQiKS5hdHRyKCJkYXRhLWZpbHRlciIsIiIpfXZhciBlPSQuZXh0ZW5kKHt9LHt9LG4pLHIsdD0tMSxmPTFlMyxpOyQodGhpcykuZWFjaChmdW5jdGlvbigpe3ZhciB0PSQodGhpcykuYXR0cigiaWQiKSxpPSQodGhpcykuYXR0cigidGFiaW5kZXgiKSE9dW5kZWZpbmVkPyQodGhpcykuYXR0cigidGFiaW5kZXgiKTowLG47dHlwZW9mICQodGhpcykuZmluZCgib3B0aW9uOnNlbGVjdGVkIikuYXR0cigic2VsZWN0ZWQiKT09InVuZGVmaW5lZCImJiQodGhpcykuZmluZCgib3B0aW9uOmVxKDApIikuYXR0cigic2VsZWN0ZWQiLCJzZWxlY3RlZCIpO249JzxkaXYgY2xhc3M9InN0eWxpc2gtc2VsZWN0IHNlbGVjdCIgaWQ9InVsJyt0KyciPic7bis9JzxkaXYgY2xhc3M9InN0eWxpc2gtc2VsZWN0LWxlZnQiIHRhYmluZGV4PSIwIiBkYXRhLWZpbHRlcj0iIj48ZGl2IGNsYXNzPSJzdHlsaXNoLXNlbGVjdC1yaWdodCBzdHlsZWRTZWxlY3QiPicrJCh0aGlzKS5maW5kKCJvcHRpb246c2VsZWN0ZWQiKS50ZXh0KCkrIjxcL2Rpdj48XC9kaXY+IjtuKz0nPHVsIGNsYXNzPSJsaXN0aW5nIj4nOyQodGhpcykuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbigpe24rPSQodGhpcykuYXR0cigic2VsZWN0ZWQiKT09InNlbGVjdGVkIj8iPGxpIGRhdGE9JyIrJCh0aGlzKS52YWwoKSsiJyB0YWJpbmRleD0nMCcgY2xhc3M9J3NlbGVjdGVkJz4iKyQodGhpcykudGV4dCgpKyI8XC9saT4iOiI8bGkgZGF0YT0nIiskKHRoaXMpLnZhbCgpKyInIHRhYmluZGV4PScwJz4iKyQodGhpcykudGV4dCgpKyI8XC9saT4ifSk7bis9IjxcL3VsPiI7bis9IjxcL2Rpdj4iOyQodGhpcykuaGlkZSgpOyQodGhpcykud3JhcCgnPGRpdiBjbGFzcz0ibWFpbiIgc3R5bGU9InotaW5kZXg6JytmKyciPicpOyQodGhpcykuYWZ0ZXIobik7Zi0tfSk7JChkb2N1bWVudCkub24oImNsaWNrIHRvdWNoZW5kIHRvdWNoc3RhcnQiLCIuc3R5bGlzaC1zZWxlY3QgbGkiLGZ1bmN0aW9uKG4peyQodGhpcykucGFyZW50cygiLnN0eWxpc2gtc2VsZWN0IikuZmluZCgiLnN0eWxpc2gtc2VsZWN0LXJpZ2h0IikucGFyZW50KCkucmVtb3ZlQ2xhc3MoIm9wZW4iKTskKHRoaXMpLnBhcmVudCgpLmZpbmQoImxpLnNlbGVjdGVkIikucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIik7JCh0aGlzKS5mb2N1cygpLmFkZENsYXNzKCJzZWxlY3RlZCIpOyQodGhpcykucGFyZW50cygiLnN0eWxpc2gtc2VsZWN0IikuZmluZCgiLnN0eWxpc2gtc2VsZWN0LXJpZ2h0IikudGV4dCgkKHRoaXMpLnRleHQoKSk7JCh0aGlzKS5wYXJlbnRzKCIuc3R5bGlzaC1zZWxlY3QiKS5wcmV2KCkudmFsKCQodGhpcykuYXR0cigiZGF0YSIpKTskKCIuc3R5bGlzaC1zZWxlY3QtbGVmdCIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTskKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0IikuZm9jdXMoKTtuLnByZXZlbnREZWZhdWx0KCk7JCh0aGlzKS5wYXJlbnQoKS5oaWRlKCk7JCh0aGlzKS5wYXJlbnRzKCIuc3R5bGlzaC1zZWxlY3QiKS5wcmV2KCkudHJpZ2dlcigiY2hhbmdlIil9KTskKCIuc3R5bGlzaC1zZWxlY3QtbGVmdCIpLmNsaWNrKGZ1bmN0aW9uKG4peyQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0Iikubm90KHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5saXN0aW5nIikuaGlkZSgpOyQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0Iikubm90KHRoaXMpLnJlbW92ZUNsYXNzKCJvcGVuIik7bi5zdG9wUHJvcGFnYXRpb24oKTskKHRoaXMpLnRvZ2dsZUNsYXNzKCJvcGVuIik7JCh0aGlzKS5uZXh0KCkudG9nZ2xlKCl9KTskKGRvY3VtZW50KS5vbigia2V5ZG93biIsIi5zdHlsaXNoLXNlbGVjdC1sZWZ0IixmdW5jdGlvbihuKXt2YXIgaSxmO24ua2V5Q29kZT09IjEzIj8oJCh0aGlzKS5uZXh0KCkuc2hvdygpLCQodGhpcykubmV4dCgpLmZpbmQoImxpLnNlbGVjdGVkIikuZm9jdXMoKSxuLnByZXZlbnREZWZhdWx0KCkpOm4ua2V5Q29kZT09IjM4Ij8oJCh0aGlzKS5uZXh0KCkuZmluZCgibGkuc2VsZWN0ZWQiKS5wcmV2KCkuc2l6ZSgpPjAmJigkKHRoaXMpLm5leHQoKS5maW5kKCJsaS5zZWxlY3RlZCIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLnByZXYoKS5mb2N1cygpLmFkZENsYXNzKCJzZWxlY3RlZCIpLCQodGhpcykuZmluZCgiLnN0eWxpc2gtc2VsZWN0LXJpZ2h0IikudGV4dCgkKHRoaXMpLm5leHQoKS5maW5kKCJsaS5zZWxlY3RlZCIpLnRleHQoKSksJCh0aGlzKS5wYXJlbnRzKCIuc3R5bGlzaC1zZWxlY3QiKS5wcmV2KCkudmFsKCQodGhpcykubmV4dCgpLmZpbmQoImxpLnNlbGVjdGVkIikuYXR0cigiZGF0YSIpKSksbi5wcmV2ZW50RGVmYXVsdCgpKTpuLmtleUNvZGU9PSI0MCI/KCQodGhpcykubmV4dCgpLmZpbmQoImxpLnNlbGVjdGVkIikubmV4dCgpLnNpemUoKT4wJiYoJCh0aGlzKS5uZXh0KCkuZmluZCgibGkuc2VsZWN0ZWQiKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKS5uZXh0KCkuZm9jdXMoKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwkKHRoaXMpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1yaWdodCIpLnRleHQoJCh0aGlzKS5uZXh0KCkuZmluZCgibGkuc2VsZWN0ZWQiKS50ZXh0KCkpLCQodGhpcykucGFyZW50cygiLnN0eWxpc2gtc2VsZWN0IikucHJldigpLnZhbCgkKHRoaXMpLm5leHQoKS5maW5kKCJsaS5zZWxlY3RlZCIpLmF0dHIoImRhdGEiKSkpLG4ucHJldmVudERlZmF1bHQoKSk6bi5rZXlDb2RlPjQ3JiZuLmtleUNvZGU8OTE/KGNsZWFySW50ZXJ2YWwociksJCh0aGlzKS5hdHRyKCJkYXRhLWZpbHRlciIpIT1TdHJpbmcuZnJvbUNoYXJDb2RlKG4ud2hpY2gpJiYkKHRoaXMpLmF0dHIoImRhdGEtZmlsdGVyIiwkKHRoaXMpLmF0dHIoImRhdGEtZmlsdGVyIikrIiIrU3RyaW5nLmZyb21DaGFyQ29kZShuLndoaWNoKSksaT0kKHRoaXMpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1yaWdodCIpLnRleHQoKSxpPT0iIiYmKGk9Ii0xIiksJCh0aGlzKS5uZXh0KCkuZmluZCgibGk6bm90KCcuc2VsZWN0ZWQnKTpjb250YWluc0lOKCciKyQodGhpcykuYXR0cigiZGF0YS1maWx0ZXIiKSsiJykiKS5zaXplKCk+MCYmKCQodGhpcykubmV4dCgpLmZpbmQoImxpIikucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIiksZj0kKHRoaXMpLm5leHQoKS5maW5kKCJsaTpjb250YWluc0lOKCciKyQodGhpcykuYXR0cigiZGF0YS1maWx0ZXIiKSsiJykiKSx0KyssdD5mLnNpemUoKS0xJiYodD0tMSksZi5lcSh0KS5hZGRDbGFzcygic2VsZWN0ZWQiKSwkKHRoaXMpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1yaWdodCIpLnRleHQoJCh0aGlzKS5uZXh0KCkuZmluZCgibGkuc2VsZWN0ZWQiKS50ZXh0KCkpLCQodGhpcykucGFyZW50cygiLnN0eWxpc2gtc2VsZWN0IikucHJldigpLnZhbCgkKHRoaXMpLm5leHQoKS5maW5kKCJsaS5zZWxlY3RlZCIpLmF0dHIoImRhdGEiKSkpLHI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt1KCl9LDMwMCkpOm4ua2V5Q29kZT09MTZ8fG4ua2V5Q29kZT09OXx8bi5rZXlDb2RlPT0yN3x8bi5wcmV2ZW50RGVmYXVsdCgpfSk7JC5leHRlbmQoJC5leHByWyI6Il0se2ZvY3VzYWJsZTpmdW5jdGlvbihuKXt2YXIgdD1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaT0kLmF0dHIobiwidGFiaW5kZXgiKTtyZXR1cm4oL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0Ly50ZXN0KHQpPyFuLmRpc2FibGVkOiJhIj09dHx8ImFyZWEiPT10P24uaHJlZnx8IWlzTmFOKGkpOiFpc05hTihpKSkmJiEkKG4pWyJhcmVhIj09dD8icGFyZW50cyI6ImNsb3Nlc3QiXSgiOmhpZGRlbiIpLmxlbmd0aH19KTtpPSQoIjpmb2N1c2FibGUiKTskKGRvY3VtZW50KS5vbigia2V5ZG93biIsIi5zdHlsaXNoLXNlbGVjdCBsaSIsZnVuY3Rpb24obil7dmFyIGYsZSxvLHM7bi5rZXlDb2RlPT0iMTMifHxuLmtleUNvZGU9PTk/KCQodGhpcykucGFyZW50cygiLnN0eWxpc2gtc2VsZWN0IikuZmluZCgiLnN0eWxpc2gtc2VsZWN0LXJpZ2h0IikudGV4dCgkKHRoaXMpLnRleHQoKSksJCh0aGlzKS5wYXJlbnRzKCIuc3R5bGlzaC1zZWxlY3QiKS5wcmV2KCkudmFsKCQodGhpcykuYXR0cigiZGF0YSIpKSwkKCIuc3R5bGlzaC1zZWxlY3QtbGVmdCIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSwkKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0IikuZm9jdXNvdXQoKSxmPWkuaW5kZXgoJCh0aGlzKS5wYXJlbnRzKCIuc3R5bGlzaC1zZWxlY3QiKS5maW5kKCIuc3R5bGlzaC1zZWxlY3QtbGVmdCIpKSxlPWkuZXEoZisxKS5sZW5ndGg/aS5lcShmKzEpOmkuZXEoMCksZS5jc3MoImRpc3BsYXkiKT09Im5vbmUiJiYoZT1pLmVxKGYrMSkubGVuZ3RoP2kuZXEoZisxKTppLmVxKDApKSxlLmZvY3VzKCksbi5wcmV2ZW50RGVmYXVsdCgpLCQodGhpcykucGFyZW50KCkuaGlkZSgpKTpuLmtleUNvZGU9PSIzOCI/KCQodGhpcykucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIikucHJldigpLnNpemUoKT4wJiYoJCh0aGlzKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKS5wcmV2KCkuZm9jdXMoKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwkKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1yaWdodCIpLnRleHQoJCh0aGlzKS5wcmV2KCkudGV4dCgpKSwkKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLnByZXYoKS52YWwoJCh0aGlzKS5wcmV2KCkuYXR0cigiZGF0YSIpKSksbi5wcmV2ZW50RGVmYXVsdCgpKTpuLmtleUNvZGU9PSI0MCI/KCQodGhpcykucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIikubmV4dCgpLnNpemUoKT4wJiYoJCh0aGlzKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKS5uZXh0KCkuZm9jdXMoKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwkKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1yaWdodCIpLnRleHQoJCh0aGlzKS5uZXh0KCkudGV4dCgpKSwkKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLnByZXYoKS52YWwoJCh0aGlzKS5uZXh0KCkuYXR0cigiZGF0YSIpKSksbi5wcmV2ZW50RGVmYXVsdCgpKTpuLmtleUNvZGU+NDcmJm4ua2V5Q29kZTw5MT8oY2xlYXJJbnRlcnZhbChyKSwkKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0IikuYXR0cigiZGF0YS1maWx0ZXIiKSE9U3RyaW5nLmZyb21DaGFyQ29kZShuLndoaWNoKSYmJCh0aGlzKS5wYXJlbnRzKCIuc3R5bGlzaC1zZWxlY3QiKS5maW5kKCIuc3R5bGlzaC1zZWxlY3QtbGVmdCIpLmF0dHIoImRhdGEtZmlsdGVyIiwkKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0IikuYXR0cigiZGF0YS1maWx0ZXIiKSsiIitTdHJpbmcuZnJvbUNoYXJDb2RlKG4ud2hpY2gpKSxvPSQodGhpcykucGFyZW50cygiLnN0eWxpc2gtc2VsZWN0IikuZmluZCgiLnN0eWxpc2gtc2VsZWN0LXJpZ2h0IikudGV4dCgpLG89PSIiJiYobz0iLTEiKSwkKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0IikubmV4dCgpLmZpbmQoImxpOm5vdCgnLnNlbGVjdGVkJyk6Y29udGFpbnNJTignIiskKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0IikuYXR0cigiZGF0YS1maWx0ZXIiKSsiJykiKS5zaXplKCk+MCYmKCQodGhpcykucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIikscz0kKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0IikubmV4dCgpLmZpbmQoImxpOmNvbnRhaW5zSU4oJyIrJCh0aGlzKS5wYXJlbnRzKCIuc3R5bGlzaC1zZWxlY3QiKS5maW5kKCIuc3R5bGlzaC1zZWxlY3QtbGVmdCIpLmF0dHIoImRhdGEtZmlsdGVyIikrIicpIiksdCsrLHQ+cy5zaXplKCktMSYmKHQ9MCkscy5lcSh0KS5hZGRDbGFzcygic2VsZWN0ZWQiKS5mb2N1cygpLCQodGhpcykucGFyZW50cygiLnN0eWxpc2gtc2VsZWN0IikuZmluZCgiLnN0eWxpc2gtc2VsZWN0LXJpZ2h0IikudGV4dCgkKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLmZpbmQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0IikubmV4dCgpLmZpbmQoImxpLnNlbGVjdGVkIikudGV4dCgpKSwkKHRoaXMpLnBhcmVudHMoIi5zdHlsaXNoLXNlbGVjdCIpLnByZXYoKS52YWwoJCh0aGlzKS5wYXJlbnRzKCIuc3R5bGlzaC1zZWxlY3QiKS5maW5kKCIuc3R5bGlzaC1zZWxlY3QtbGVmdCIpLm5leHQoKS5maW5kKCJsaS5zZWxlY3RlZCIpLmF0dHIoImRhdGEiKSkpLHI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt1KCl9LDMwMCkpOm4ua2V5Q29kZT09Mjc/KCQodGhpcykucGFyZW50KCkuaGlkZSgpLCQodGhpcykucGFyZW50cygiLnN0eWxpc2gtc2VsZWN0IikuZmluZCgiLnN0eWxpc2gtc2VsZWN0LWxlZnQiKS5mb2N1cygpKTpuLmtleUNvZGU9PTE2fHxuLnByZXZlbnREZWZhdWx0KCl9KTtyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dSgpfSwzMDApOyQuZXh0ZW5kKCQuZXhwclsiOiJdLHtjb250YWluc0lOOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4obi50ZXh0Q29udGVudHx8bi5pbm5lclRleHR8fCIiKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoKGlbM118fCIiKS50b0xvd2VyQ2FzZSgpKT09MH19KTskKGRvY3VtZW50KS5jbGljayhmdW5jdGlvbigpeyQoIi5zdHlsaXNoLXNlbGVjdC1sZWZ0IikucmVtb3ZlQ2xhc3MoIm9wZW4iKTskKCIgLmxpc3RpbmciKS5oaWRlKCl9KX0sZnVuY3Rpb24obix0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTpuLlBvcHBlcj10KCl9KHRoaXMsZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdXQobil7cmV0dXJuIG4mJiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT17fS50b1N0cmluZy5jYWxsKG4pfWZ1bmN0aW9uIHIobix0KXtpZigxIT09bi5ub2RlVHlwZSlyZXR1cm5bXTt2YXIgcj1uLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcsaT1yLmdldENvbXB1dGVkU3R5bGUobixudWxsKTtyZXR1cm4gdD9pW3RdOml9ZnVuY3Rpb24geShuKXtyZXR1cm4iSFRNTCI9PT1uLm5vZGVOYW1lP246bi5wYXJlbnROb2RlfHxuLmhvc3R9ZnVuY3Rpb24gcyhuKXtpZighbilyZXR1cm4gZG9jdW1lbnQuYm9keTtzd2l0Y2gobi5ub2RlTmFtZSl7Y2FzZSJIVE1MIjpjYXNlIkJPRFkiOnJldHVybiBuLm93bmVyRG9jdW1lbnQuYm9keTtjYXNlIiNkb2N1bWVudCI6cmV0dXJuIG4uYm9keX12YXIgdD1yKG4pLGk9dC5vdmVyZmxvdyx1PXQub3ZlcmZsb3dYLGY9dC5vdmVyZmxvd1k7cmV0dXJuLyhhdXRvfHNjcm9sbHxvdmVybGF5KS8udGVzdChpK2YrdSk/bjpzKHkobikpfWZ1bmN0aW9uIGZ0KG4pe3JldHVybiBuJiZuLnJlZmVyZW5jZU5vZGU/bi5yZWZlcmVuY2VOb2RlOm59ZnVuY3Rpb24gdShuKXtyZXR1cm4gMTE9PT1uP2lpOjEwPT09bj9yaTppaXx8cml9ZnVuY3Rpb24gZihuKXt2YXIgZSx0LGk7aWYoIW4pcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtmb3IoZT11KDEwKT9kb2N1bWVudC5ib2R5Om51bGwsdD1uLm9mZnNldFBhcmVudHx8bnVsbDt0PT09ZSYmbi5uZXh0RWxlbWVudFNpYmxpbmc7KXQ9KG49bi5uZXh0RWxlbWVudFNpYmxpbmcpLm9mZnNldFBhcmVudDtyZXR1cm4gaT10JiZ0Lm5vZGVOYW1lLGkmJiJCT0RZIiE9PWkmJiJIVE1MIiE9PWk/LTEhPT1bIlRIIiwiVEQiLCJUQUJMRSJdLmluZGV4T2YodC5ub2RlTmFtZSkmJiJzdGF0aWMiPT09cih0LCJwb3NpdGlvbiIpP2YodCk6dDpuP24ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fWZ1bmN0aW9uIGZpKG4pe3ZhciB0PW4ubm9kZU5hbWU7cmV0dXJuIkJPRFkiIT09dCYmKCJIVE1MIj09PXR8fGYobi5maXJzdEVsZW1lbnRDaGlsZCk9PT1uKX1mdW5jdGlvbiBwKG4pe3JldHVybiBudWxsPT09bi5wYXJlbnROb2RlP246cChuLnBhcmVudE5vZGUpfWZ1bmN0aW9uIGwobix0KXt2YXIgaSx1O2lmKCFufHwhbi5ub2RlVHlwZXx8IXR8fCF0Lm5vZGVUeXBlKXJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dmFyIGU9bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lORyxvPWU/bjp0LHM9ZT90Om4scj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybihyLnNldFN0YXJ0KG8sMCksci5zZXRFbmQocywwKSxpPXIuY29tbW9uQW5jZXN0b3JDb250YWluZXIsbiE9PWkmJnQhPT1pfHxvLmNvbnRhaW5zKHMpKT9maShpKT9pOmYoaSk6KHU9cChuKSx1Lmhvc3Q/bCh1Lmhvc3QsdCk6bChuLHAodCkuaG9zdCkpfWZ1bmN0aW9uIGUobil7dmFyIGY9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiJ0b3AiLHQ9InRvcCI9PT1mPyJzY3JvbGxUb3AiOiJzY3JvbGxMZWZ0IixpPW4ubm9kZU5hbWUscix1O3JldHVybiJCT0RZIj09PWl8fCJIVE1MIj09PWk/KHI9bi5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx1PW4ub3duZXJEb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50fHxyLHVbdF0pOm5bdF19ZnVuY3Rpb24gZWkobix0KXt2YXIgZj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLHI9ZSh0LCJ0b3AiKSx1PWUodCwibGVmdCIpLGk9Zj8tMToxO3JldHVybiBuLnRvcCs9cippLG4uYm90dG9tKz1yKmksbi5sZWZ0Kz11Kmksbi5yaWdodCs9dSppLG59ZnVuY3Rpb24gZXQobix0KXt2YXIgaT0ieCI9PT10PyJMZWZ0IjoiVG9wIixyPSJMZWZ0Ij09aT8iUmlnaHQiOiJCb3R0b20iO3JldHVybiBwYXJzZUZsb2F0KG5bImJvcmRlciIraSsiV2lkdGgiXSwxMCkrcGFyc2VGbG9hdChuWyJib3JkZXIiK3IrIldpZHRoIl0sMTApfWZ1bmN0aW9uIG90KG4saSxyLGYpe3JldHVybiB0KGlbIm9mZnNldCIrbl0saVsic2Nyb2xsIituXSxyWyJjbGllbnQiK25dLHJbIm9mZnNldCIrbl0sclsic2Nyb2xsIituXSx1KDEwKT9wYXJzZUludChyWyJvZmZzZXQiK25dKStwYXJzZUludChmWyJtYXJnaW4iKygiSGVpZ2h0Ij09PW4/IlRvcCI6IkxlZnQiKV0pK3BhcnNlSW50KGZbIm1hcmdpbiIrKCJIZWlnaHQiPT09bj8iQm90dG9tIjoiUmlnaHQiKV0pOjApfWZ1bmN0aW9uIHN0KG4pe3ZhciBpPW4uYm9keSx0PW4uZG9jdW1lbnRFbGVtZW50LHI9dSgxMCkmJmdldENvbXB1dGVkU3R5bGUodCk7cmV0dXJue2hlaWdodDpvdCgiSGVpZ2h0IixpLHQsciksd2lkdGg6b3QoIldpZHRoIixpLHQscil9fWZ1bmN0aW9uIGkodCl7cmV0dXJuIG4oe30sdCx7cmlnaHQ6dC5sZWZ0K3Qud2lkdGgsYm90dG9tOnQudG9wK3QuaGVpZ2h0fSl9ZnVuY3Rpb24gdyhuKXt2YXIgdD17fSxvLHMsbDt0cnl7dSgxMCk/KHQ9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPWUobiwidG9wIikscz1lKG4sImxlZnQiKSx0LnRvcCs9byx0LmxlZnQrPXMsdC5ib3R0b20rPW8sdC5yaWdodCs9cyk6dD1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKHIpe312YXIgZj17bGVmdDp0LmxlZnQsdG9wOnQudG9wLHdpZHRoOnQucmlnaHQtdC5sZWZ0LGhlaWdodDp0LmJvdHRvbS10LnRvcH0sYT0iSFRNTCI9PT1uLm5vZGVOYW1lP3N0KG4ub3duZXJEb2N1bWVudCk6e30sdj1hLndpZHRofHxuLmNsaWVudFdpZHRofHxmLndpZHRoLHk9YS5oZWlnaHR8fG4uY2xpZW50SGVpZ2h0fHxmLmhlaWdodCxoPW4ub2Zmc2V0V2lkdGgtdixjPW4ub2Zmc2V0SGVpZ2h0LXk7cmV0dXJuKGh8fGMpJiYobD1yKG4pLGgtPWV0KGwsIngiKSxjLT1ldChsLCJ5IiksZi53aWR0aC09aCxmLmhlaWdodC09YyksaShmKX1mdW5jdGlvbiBiKG4sZil7dmFyIGI9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxrPXUoMTApLGQ9IkhUTUwiPT09Zi5ub2RlTmFtZSxoPXcobiksbz13KGYpLHY9cyhuKSxjPXIoZikseT1wYXJzZUZsb2F0KGMuYm9yZGVyVG9wV2lkdGgsMTApLHA9cGFyc2VGbG9hdChjLmJvcmRlckxlZnRXaWR0aCwxMCksZSxsLGE7cmV0dXJuIGImJmQmJihvLnRvcD10KG8udG9wLDApLG8ubGVmdD10KG8ubGVmdCwwKSksZT1pKHt0b3A6aC50b3Atby50b3AteSxsZWZ0OmgubGVmdC1vLmxlZnQtcCx3aWR0aDpoLndpZHRoLGhlaWdodDpoLmhlaWdodH0pLChlLm1hcmdpblRvcD0wLGUubWFyZ2luTGVmdD0wLCFrJiZkKSYmKGw9cGFyc2VGbG9hdChjLm1hcmdpblRvcCwxMCksYT1wYXJzZUZsb2F0KGMubWFyZ2luTGVmdCwxMCksZS50b3AtPXktbCxlLmJvdHRvbS09eS1sLGUubGVmdC09cC1hLGUucmlnaHQtPXAtYSxlLm1hcmdpblRvcD1sLGUubWFyZ2luTGVmdD1hKSwoayYmIWI/Zi5jb250YWlucyh2KTpmPT09diYmIkJPRFkiIT09di5ub2RlTmFtZSkmJihlPWVpKGUsZikpLGV9ZnVuY3Rpb24gb2kobil7dmFyIGY9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxyPW4ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdT1iKG4sciksbz10KHIuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApLHM9dChyLmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApLGg9Zj8wOmUociksYz1mPzA6ZShyLCJsZWZ0IiksbD17dG9wOmgtdS50b3ArdS5tYXJnaW5Ub3AsbGVmdDpjLXUubGVmdCt1Lm1hcmdpbkxlZnQsd2lkdGg6byxoZWlnaHQ6c307cmV0dXJuIGkobCl9ZnVuY3Rpb24gaHQobil7dmFyIGk9bi5ub2RlTmFtZSx0O3JldHVybiJCT0RZIj09PWl8fCJIVE1MIj09PWk/ITE6ImZpeGVkIj09PXIobiwicG9zaXRpb24iKT8hMDoodD15KG4pLCEhdCYmaHQodCkpfWZ1bmN0aW9uIGN0KG4pe2lmKCFufHwhbi5wYXJlbnRFbGVtZW50fHx1KCkpcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtmb3IodmFyIHQ9bi5wYXJlbnRFbGVtZW50O3QmJiJub25lIj09PXIodCwidHJhbnNmb3JtIik7KXQ9dC5wYXJlbnRFbGVtZW50O3JldHVybiB0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9ZnVuY3Rpb24gayhuLHQsaSxyKXt2YXIgaD00PGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLHU9e3RvcDowLGxlZnQ6MH0sYz1oP2N0KG4pOmwobixmdCh0KSksZSxmLG87aWYoInZpZXdwb3J0Ij09PXIpdT1vaShjLGgpO2Vsc2UgaWYoInNjcm9sbFBhcmVudCI9PT1yPyhlPXMoeSh0KSksIkJPRFkiPT09ZS5ub2RlTmFtZSYmKGU9bi5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpOmU9IndpbmRvdyI9PT1yP24ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6cixmPWIoZSxjLGgpLCJIVE1MIiE9PWUubm9kZU5hbWV8fGh0KGMpKXU9ZjtlbHNle3ZhciBhPXN0KG4ub3duZXJEb2N1bWVudCksdj1hLmhlaWdodCxwPWEud2lkdGg7dS50b3ArPWYudG9wLWYubWFyZ2luVG9wO3UuYm90dG9tPXYrZi50b3A7dS5sZWZ0Kz1mLmxlZnQtZi5tYXJnaW5MZWZ0O3UucmlnaHQ9cCtmLmxlZnR9cmV0dXJuIGk9aXx8MCxvPSJudW1iZXIiPT10eXBlb2YgaSx1LmxlZnQrPW8/aTppLmxlZnR8fDAsdS50b3ArPW8/aTppLnRvcHx8MCx1LnJpZ2h0LT1vP2k6aS5yaWdodHx8MCx1LmJvdHRvbS09bz9pOmkuYm90dG9tfHwwLHV9ZnVuY3Rpb24gc2kobil7dmFyIHQ9bi53aWR0aCxpPW4uaGVpZ2h0O3JldHVybiB0Kml9ZnVuY3Rpb24gbHQodCxpLHIsdSxmKXt2YXIgbD01PGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06MDtpZigtMT09PXQuaW5kZXhPZigiYXV0byIpKXJldHVybiB0O3ZhciBlPWsocix1LGwsZiksbz17dG9wOnt3aWR0aDplLndpZHRoLGhlaWdodDppLnRvcC1lLnRvcH0scmlnaHQ6e3dpZHRoOmUucmlnaHQtaS5yaWdodCxoZWlnaHQ6ZS5oZWlnaHR9LGJvdHRvbTp7d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5ib3R0b20taS5ib3R0b219LGxlZnQ6e3dpZHRoOmkubGVmdC1lLmxlZnQsaGVpZ2h0OmUuaGVpZ2h0fX0scz1PYmplY3Qua2V5cyhvKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4oe2tleTp0fSxvW3RdLHthcmVhOnNpKG9bdF0pfSl9KS5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQuYXJlYS1uLmFyZWF9KSxoPXMuZmlsdGVyKGZ1bmN0aW9uKG4pe3ZhciB0PW4ud2lkdGgsaT1uLmhlaWdodDtyZXR1cm4gdD49ci5jbGllbnRXaWR0aCYmaT49ci5jbGllbnRIZWlnaHR9KSxhPTA8aC5sZW5ndGg/aFswXS5rZXk6c1swXS5rZXksYz10LnNwbGl0KCItIilbMV07cmV0dXJuIGErKGM/Ii0iK2M6IiIpfWZ1bmN0aW9uIGF0KG4sdCxpKXt2YXIgcj0zPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bnVsbCx1PXI/Y3QodCk6bCh0LGZ0KGkpKTtyZXR1cm4gYihpLHUscil9ZnVuY3Rpb24gdnQobil7dmFyIGk9bi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LHQ9aS5nZXRDb21wdXRlZFN0eWxlKG4pLHI9cGFyc2VGbG9hdCh0Lm1hcmdpblRvcHx8MCkrcGFyc2VGbG9hdCh0Lm1hcmdpbkJvdHRvbXx8MCksdT1wYXJzZUZsb2F0KHQubWFyZ2luTGVmdHx8MCkrcGFyc2VGbG9hdCh0Lm1hcmdpblJpZ2h0fHwwKTtyZXR1cm57d2lkdGg6bi5vZmZzZXRXaWR0aCt1LGhlaWdodDpuLm9mZnNldEhlaWdodCtyfX1mdW5jdGlvbiBhKG4pe3ZhciB0PXtsZWZ0OiJyaWdodCIscmlnaHQ6ImxlZnQiLGJvdHRvbToidG9wIix0b3A6ImJvdHRvbSJ9O3JldHVybiBuLnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLGZ1bmN0aW9uKG4pe3JldHVybiB0W25dfSl9ZnVuY3Rpb24geXQobix0LGkpe2k9aS5zcGxpdCgiLSIpWzBdO3ZhciByPXZ0KG4pLGU9e3dpZHRoOnIud2lkdGgsaGVpZ2h0OnIuaGVpZ2h0fSx1PS0xIT09WyJyaWdodCIsImxlZnQiXS5pbmRleE9mKGkpLG89dT8idG9wIjoibGVmdCIsZj11PyJsZWZ0IjoidG9wIixzPXU/ImhlaWdodCI6IndpZHRoIixoPXU/IndpZHRoIjoiaGVpZ2h0IjtyZXR1cm4gZVtvXT10W29dK3Rbc10vMi1yW3NdLzIsZVtmXT1pPT09Zj90W2ZdLXJbaF06dFthKGYpXSxlfWZ1bmN0aW9uIGgobix0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbmQ/bi5maW5kKHQpOm4uZmlsdGVyKHQpWzBdfWZ1bmN0aW9uIGhpKG4sdCxpKXtpZihBcnJheS5wcm90b3R5cGUuZmluZEluZGV4KXJldHVybiBuLmZpbmRJbmRleChmdW5jdGlvbihuKXtyZXR1cm4gblt0XT09PWl9KTt2YXIgcj1oKG4sZnVuY3Rpb24obil7cmV0dXJuIG5bdF09PT1pfSk7cmV0dXJuIG4uaW5kZXhPZihyKX1mdW5jdGlvbiBwdChuLHQscil7dmFyIHU9dm9pZCAwPT09cj9uOm4uc2xpY2UoMCxoaShuLCJuYW1lIixyKSk7cmV0dXJuIHUuZm9yRWFjaChmdW5jdGlvbihuKXtuWyJmdW5jdGlvbiJdJiZjb25zb2xlLndhcm4oImBtb2RpZmllci5mdW5jdGlvbmAgaXMgZGVwcmVjYXRlZCwgdXNlIGBtb2RpZmllci5mbmAhIik7dmFyIHI9blsiZnVuY3Rpb24iXXx8bi5mbjtuLmVuYWJsZWQmJnV0KHIpJiYodC5vZmZzZXRzLnBvcHBlcj1pKHQub2Zmc2V0cy5wb3BwZXIpLHQub2Zmc2V0cy5yZWZlcmVuY2U9aSh0Lm9mZnNldHMucmVmZXJlbmNlKSx0PXIodCxuKSl9KSx0fWZ1bmN0aW9uIGNpKCl7aWYoIXRoaXMuc3RhdGUuaXNEZXN0cm95ZWQpe3ZhciBuPXtpbnN0YW5jZTp0aGlzLHN0eWxlczp7fSxhcnJvd1N0eWxlczp7fSxhdHRyaWJ1dGVzOnt9LGZsaXBwZWQ6ITEsb2Zmc2V0czp7fX07bi5vZmZzZXRzLnJlZmVyZW5jZT1hdCh0aGlzLnN0YXRlLHRoaXMucG9wcGVyLHRoaXMucmVmZXJlbmNlLHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkKTtuLnBsYWNlbWVudD1sdCh0aGlzLm9wdGlvbnMucGxhY2VtZW50LG4ub2Zmc2V0cy5yZWZlcmVuY2UsdGhpcy5wb3BwZXIsdGhpcy5yZWZlcmVuY2UsdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LHRoaXMub3B0aW9ucy5tb2RpZmllcnMuZmxpcC5wYWRkaW5nKTtuLm9yaWdpbmFsUGxhY2VtZW50PW4ucGxhY2VtZW50O24ucG9zaXRpb25GaXhlZD10aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZDtuLm9mZnNldHMucG9wcGVyPXl0KHRoaXMucG9wcGVyLG4ub2Zmc2V0cy5yZWZlcmVuY2Usbi5wbGFjZW1lbnQpO24ub2Zmc2V0cy5wb3BwZXIucG9zaXRpb249dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQ/ImZpeGVkIjoiYWJzb2x1dGUiO249cHQodGhpcy5tb2RpZmllcnMsbik7dGhpcy5zdGF0ZS5pc0NyZWF0ZWQ/dGhpcy5vcHRpb25zLm9uVXBkYXRlKG4pOih0aGlzLnN0YXRlLmlzQ3JlYXRlZD0hMCx0aGlzLm9wdGlvbnMub25DcmVhdGUobikpfX1mdW5jdGlvbiB3dChuLHQpe3JldHVybiBuLnNvbWUoZnVuY3Rpb24obil7dmFyIGk9bi5uYW1lLHI9bi5lbmFibGVkO3JldHVybiByJiZpPT09dH0pfWZ1bmN0aW9uIGQobil7Zm9yKHZhciBpLHIsdT1bITEsIm1zIiwiV2Via2l0IiwiTW96IiwiTyJdLGY9bi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuLnNsaWNlKDEpLHQ9MDt0PHUubGVuZ3RoO3QrKylpZihpPXVbdF0scj1pPyIiK2krZjpuLCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQuYm9keS5zdHlsZVtyXSlyZXR1cm4gcjtyZXR1cm4gbnVsbH1mdW5jdGlvbiBsaSgpe3JldHVybiB0aGlzLnN0YXRlLmlzRGVzdHJveWVkPSEwLHd0KHRoaXMubW9kaWZpZXJzLCJhcHBseVN0eWxlIikmJih0aGlzLnBvcHBlci5yZW1vdmVBdHRyaWJ1dGUoIngtcGxhY2VtZW50IiksdGhpcy5wb3BwZXIuc3R5bGUucG9zaXRpb249IiIsdGhpcy5wb3BwZXIuc3R5bGUudG9wPSIiLHRoaXMucG9wcGVyLnN0eWxlLmxlZnQ9IiIsdGhpcy5wb3BwZXIuc3R5bGUucmlnaHQ9IiIsdGhpcy5wb3BwZXIuc3R5bGUuYm90dG9tPSIiLHRoaXMucG9wcGVyLnN0eWxlLndpbGxDaGFuZ2U9IiIsdGhpcy5wb3BwZXIuc3R5bGVbZCgidHJhbnNmb3JtIildPSIiKSx0aGlzLmRpc2FibGVFdmVudExpc3RlbmVycygpLHRoaXMub3B0aW9ucy5yZW1vdmVPbkRlc3Ryb3kmJnRoaXMucG9wcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wb3BwZXIpLHRoaXN9ZnVuY3Rpb24gYnQobil7dmFyIHQ9bi5vd25lckRvY3VtZW50O3JldHVybiB0P3QuZGVmYXVsdFZpZXc6d2luZG93fWZ1bmN0aW9uIGt0KG4sdCxpLHIpe3ZhciBmPSJCT0RZIj09PW4ubm9kZU5hbWUsdT1mP24ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldzpuO3UuYWRkRXZlbnRMaXN0ZW5lcih0LGkse3Bhc3NpdmU6ITB9KTtmfHxrdChzKHUucGFyZW50Tm9kZSksdCxpLHIpO3IucHVzaCh1KX1mdW5jdGlvbiBhaShuLHQsaSxyKXtpLnVwZGF0ZUJvdW5kPXI7YnQobikuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixpLnVwZGF0ZUJvdW5kLHtwYXNzaXZlOiEwfSk7dmFyIHU9cyhuKTtyZXR1cm4ga3QodSwic2Nyb2xsIixpLnVwZGF0ZUJvdW5kLGkuc2Nyb2xsUGFyZW50cyksaS5zY3JvbGxFbGVtZW50PXUsaS5ldmVudHNFbmFibGVkPSEwLGl9ZnVuY3Rpb24gdmkoKXt0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWR8fCh0aGlzLnN0YXRlPWFpKHRoaXMucmVmZXJlbmNlLHRoaXMub3B0aW9ucyx0aGlzLnN0YXRlLHRoaXMuc2NoZWR1bGVVcGRhdGUpKX1mdW5jdGlvbiB5aShuLHQpe3JldHVybiBidChuKS5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLHQudXBkYXRlQm91bmQpLHQuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uKG4pe24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0LnVwZGF0ZUJvdW5kKX0pLHQudXBkYXRlQm91bmQ9bnVsbCx0LnNjcm9sbFBhcmVudHM9W10sdC5zY3JvbGxFbGVtZW50PW51bGwsdC5ldmVudHNFbmFibGVkPSExLHR9ZnVuY3Rpb24gcGkoKXt0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQmJihjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnNjaGVkdWxlVXBkYXRlKSx0aGlzLnN0YXRlPXlpKHRoaXMucmVmZXJlbmNlLHRoaXMuc3RhdGUpKX1mdW5jdGlvbiBnKG4pe3JldHVybiIiIT09biYmIWlzTmFOKHBhcnNlRmxvYXQobikpJiZpc0Zpbml0ZShuKX1mdW5jdGlvbiBudChuLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIHI9IiI7LTEhPT1bIndpZHRoIiwiaGVpZ2h0IiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Il0uaW5kZXhPZihpKSYmZyh0W2ldKSYmKHI9InB4Iik7bi5zdHlsZVtpXT10W2ldK3J9KX1mdW5jdGlvbiB3aShuLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIHI9dFtpXTshMT09PXI/bi5yZW1vdmVBdHRyaWJ1dGUoaSk6bi5zZXRBdHRyaWJ1dGUoaSx0W2ldKX0pfWZ1bmN0aW9uIGJpKG4sdCl7dmFyIHU9bi5vZmZzZXRzLGk9dS5wb3BwZXIsbD11LnJlZmVyZW5jZSxyPXRpLGY9ZnVuY3Rpb24obil7cmV0dXJuIG59LGU9cihsLndpZHRoKSxvPXIoaS53aWR0aCksYT0tMSE9PVsibGVmdCIsInJpZ2h0Il0uaW5kZXhPZihuLnBsYWNlbWVudCkscz0tMSE9PW4ucGxhY2VtZW50LmluZGV4T2YoIi0iKSxoPXQ/YXx8c3x8ZSUyPT1vJTI/cjp0dDpmLGM9dD9yOmY7cmV0dXJue2xlZnQ6aCgxPT1lJTImJjE9PW8lMiYmIXMmJnQ/aS5sZWZ0LTE6aS5sZWZ0KSx0b3A6YyhpLnRvcCksYm90dG9tOmMoaS5ib3R0b20pLHJpZ2h0OmgoaS5yaWdodCl9fWZ1bmN0aW9uIGR0KG4sdCxpKXt2YXIgdT1oKG4sZnVuY3Rpb24obil7dmFyIGk9bi5uYW1lO3JldHVybiBpPT09dH0pLGY9ISF1JiZuLnNvbWUoZnVuY3Rpb24obil7cmV0dXJuIG4ubmFtZT09PWkmJm4uZW5hYmxlZCYmbi5vcmRlcjx1Lm9yZGVyfSkscjtyZXR1cm4gZnx8KHI9ImAiK3QrImAiLGNvbnNvbGUud2FybigiYCIraSsiYCBtb2RpZmllciBpcyByZXF1aXJlZCBieSAiK3IrIiBtb2RpZmllciBpbiBvcmRlciB0byB3b3JrLCBiZSBzdXJlIHRvIGluY2x1ZGUgaXQgYmVmb3JlICIrcisiISIpKSxmfWZ1bmN0aW9uIGtpKG4pe3JldHVybiJlbmQiPT09bj8ic3RhcnQiOiJzdGFydCI9PT1uPyJlbmQiOm59ZnVuY3Rpb24gZ3Qobil7dmFyIHI9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSx0PWl0LmluZGV4T2YobiksaT1pdC5zbGljZSh0KzEpLmNvbmNhdChpdC5zbGljZSgwLHQpKTtyZXR1cm4gcj9pLnJldmVyc2UoKTppfWZ1bmN0aW9uIGRpKG4scix1LGYpe3ZhciBoPW4ubWF0Y2goLygoPzpcLXxcKyk/XGQqXC4/XGQqKSguKikvKSxvPStoWzFdLGU9aFsyXSxzLGMsbDtpZighbylyZXR1cm4gbjtpZigwPT09ZS5pbmRleE9mKCIlIikpe3N3aXRjaChlKXtjYXNlIiVwIjpzPXU7YnJlYWs7Y2FzZSIlIjpjYXNlIiVyIjpkZWZhdWx0OnM9Zn1yZXR1cm4gYz1pKHMpLGNbcl0vMTAwKm99cmV0dXJuInZoIj09PWV8fCJ2dyI9PT1lPyhsPSJ2aCI9PT1lP3QoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApOnQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSxsLzEwMCpvKTpvfWZ1bmN0aW9uIGdpKG4sdCxpLHIpe3ZhciBzPVswLDBdLGM9LTEhPT1bInJpZ2h0IiwibGVmdCJdLmluZGV4T2YociksdT1uLnNwbGl0KC8oXCt8XC0pLykubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBuLnRyaW0oKX0pLGY9dS5pbmRleE9mKGgodSxmdW5jdGlvbihuKXtyZXR1cm4tMSE9PW4uc2VhcmNoKC8sfFxzLyl9KSksbyxlO3JldHVybiB1W2ZdJiYtMT09PXVbZl0uaW5kZXhPZigiLCIpJiZjb25zb2xlLndhcm4oIk9mZnNldHMgc2VwYXJhdGVkIGJ5IHdoaXRlIHNwYWNlKHMpIGFyZSBkZXByZWNhdGVkLCB1c2UgYSBjb21tYSAoLCkgaW5zdGVhZC4iKSxvPS9ccyosXHMqfFxzKy8sZT0tMT09PWY/W3VdOlt1LnNsaWNlKDAsZikuY29uY2F0KFt1W2ZdLnNwbGl0KG8pWzBdXSksW3VbZl0uc3BsaXQobylbMV1dLmNvbmNhdCh1LnNsaWNlKGYrMSkpXSxlPWUubWFwKGZ1bmN0aW9uKG4scil7dmFyIGY9KDE9PT1yPyFjOmMpPyJoZWlnaHQiOiJ3aWR0aCIsdT0hMTtyZXR1cm4gbi5yZWR1Y2UoZnVuY3Rpb24obix0KXtyZXR1cm4iIj09PW5bbi5sZW5ndGgtMV0mJi0xIT09WyIrIiwiLSJdLmluZGV4T2YodCk/KG5bbi5sZW5ndGgtMV09dCx1PSEwLG4pOnU/KG5bbi5sZW5ndGgtMV0rPXQsdT0hMSxuKTpuLmNvbmNhdCh0KX0sW10pLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gZGkobixmLHQsaSl9KX0pLGUuZm9yRWFjaChmdW5jdGlvbihuLHQpe24uZm9yRWFjaChmdW5jdGlvbihpLHIpe2coaSkmJihzW3RdKz1pKigiLSI9PT1uW3ItMV0/LTE6MSkpfSl9KSxzfWZ1bmN0aW9uIG5yKG4sdCl7dmFyIHIsZj10Lm9mZnNldCxvPW4ucGxhY2VtZW50LGU9bi5vZmZzZXRzLGk9ZS5wb3BwZXIscz1lLnJlZmVyZW5jZSx1PW8uc3BsaXQoIi0iKVswXTtyZXR1cm4gcj1nKCtmKT9bK2YsMF06Z2koZixpLHMsdSksImxlZnQiPT09dT8oaS50b3ArPXJbMF0saS5sZWZ0LT1yWzFdKToicmlnaHQiPT09dT8oaS50b3ArPXJbMF0saS5sZWZ0Kz1yWzFdKToidG9wIj09PXU/KGkubGVmdCs9clswXSxpLnRvcC09clsxXSk6ImJvdHRvbSI9PT11JiYoaS5sZWZ0Kz1yWzBdLGkudG9wKz1yWzFdKSxuLnBvcHBlcj1pLG59dmFyIG5pPU1hdGgubWluLHR0PU1hdGguZmxvb3IsdGk9TWF0aC5yb3VuZCx0PU1hdGgubWF4LGM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJiJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yLHRyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVsiRWRnZSIsIlRyaWRlbnQiLCJGaXJlZm94Il0sbj0wO248dC5sZW5ndGg7bis9MSlpZihjJiYwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YodFtuXSkpcmV0dXJuIDE7cmV0dXJuIDB9KCksaXI9YyYmd2luZG93LlByb21pc2UscnI9aXI/ZnVuY3Rpb24obil7dmFyIHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7dHx8KHQ9ITAsd2luZG93LlByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXt0PSExO24oKX0pKX19OmZ1bmN0aW9uKG4pe3ZhciB0PSExO3JldHVybiBmdW5jdGlvbigpe3R8fCh0PSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0PSExO24oKX0sdHIpKX19LGlpPWMmJiEhKHdpbmRvdy5NU0lucHV0TWV0aG9kQ29udGV4dCYmZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSxyaT1jJiYvTVNJRSAxMC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSx1cj1mdW5jdGlvbihuLHQpe2lmKCEobiBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO30sZnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdCl7Zm9yKHZhciBpLHI9MDtyPHQubGVuZ3RoO3IrKylpPXRbcl0saS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixpLmtleSxpKX1yZXR1cm4gZnVuY3Rpb24odCxpLHIpe3JldHVybiBpJiZuKHQucHJvdG90eXBlLGkpLHImJm4odCxyKSx0fX0oKSxvPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdCBpbiBuP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpuW3RdPWksbn0sbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihuKXtmb3IodmFyIHQscixpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKylmb3IociBpbiB0PWFyZ3VtZW50c1tpXSx0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYobltyXT10W3JdKTtyZXR1cm4gbn0sZXI9YyYmL0ZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHVpPVsiYXV0by1zdGFydCIsImF1dG8iLCJhdXRvLWVuZCIsInRvcC1zdGFydCIsInRvcCIsInRvcC1lbmQiLCJyaWdodC1zdGFydCIsInJpZ2h0IiwicmlnaHQtZW5kIiwiYm90dG9tLWVuZCIsImJvdHRvbSIsImJvdHRvbS1zdGFydCIsImxlZnQtZW5kIiwibGVmdCIsImxlZnQtc3RhcnQiXSxpdD11aS5zbGljZSgzKSxydD17RkxJUDoiZmxpcCIsQ0xPQ0tXSVNFOiJjbG9ja3dpc2UiLENPVU5URVJDTE9DS1dJU0U6ImNvdW50ZXJjbG9ja3dpc2UifSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChpLHIpe3ZhciB1PXRoaXMsZj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sZTt1cih0aGlzLHQpO3RoaXMuc2NoZWR1bGVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHUudXBkYXRlKX07dGhpcy51cGRhdGU9cnIodGhpcy51cGRhdGUuYmluZCh0aGlzKSk7dGhpcy5vcHRpb25zPW4oe30sdC5EZWZhdWx0cyxmKTt0aGlzLnN0YXRlPXtpc0Rlc3Ryb3llZDohMSxpc0NyZWF0ZWQ6ITEsc2Nyb2xsUGFyZW50czpbXX07dGhpcy5yZWZlcmVuY2U9aSYmaS5qcXVlcnk/aVswXTppO3RoaXMucG9wcGVyPXImJnIuanF1ZXJ5P3JbMF06cjt0aGlzLm9wdGlvbnMubW9kaWZpZXJzPXt9O09iamVjdC5rZXlzKG4oe30sdC5EZWZhdWx0cy5tb2RpZmllcnMsZi5tb2RpZmllcnMpKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3Uub3B0aW9ucy5tb2RpZmllcnNbaV09bih7fSx0LkRlZmF1bHRzLm1vZGlmaWVyc1tpXXx8e30sZi5tb2RpZmllcnM/Zi5tb2RpZmllcnNbaV06e30pfSk7dGhpcy5tb2RpZmllcnM9T2JqZWN0LmtleXModGhpcy5vcHRpb25zLm1vZGlmaWVycykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuKHtuYW1lOnR9LHUub3B0aW9ucy5tb2RpZmllcnNbdF0pfSkuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiBuLm9yZGVyLXQub3JkZXJ9KTt0aGlzLm1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uKG4pe24uZW5hYmxlZCYmdXQobi5vbkxvYWQpJiZuLm9uTG9hZCh1LnJlZmVyZW5jZSx1LnBvcHBlcix1Lm9wdGlvbnMsbix1LnN0YXRlKX0pO3RoaXMudXBkYXRlKCk7ZT10aGlzLm9wdGlvbnMuZXZlbnRzRW5hYmxlZDtlJiZ0aGlzLmVuYWJsZUV2ZW50TGlzdGVuZXJzKCk7dGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkPWV9cmV0dXJuIGZyKHQsW3trZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gY2kuY2FsbCh0aGlzKX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGxpLmNhbGwodGhpcyl9fSx7a2V5OiJlbmFibGVFdmVudExpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdmkuY2FsbCh0aGlzKX19LHtrZXk6ImRpc2FibGVFdmVudExpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gcGkuY2FsbCh0aGlzKX19XSksdH0oKTtyZXR1cm4gdi5VdGlscz0oInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3c/Z2xvYmFsOndpbmRvdykuUG9wcGVyVXRpbHMsdi5wbGFjZW1lbnRzPXVpLHYuRGVmYXVsdHM9e3BsYWNlbWVudDoiYm90dG9tIixwb3NpdGlvbkZpeGVkOiExLGV2ZW50c0VuYWJsZWQ6ITAscmVtb3ZlT25EZXN0cm95OiExLG9uQ3JlYXRlOmZ1bmN0aW9uKCl7fSxvblVwZGF0ZTpmdW5jdGlvbigpe30sbW9kaWZpZXJzOntzaGlmdDp7b3JkZXI6MTAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24odCl7dmFyIHU9dC5wbGFjZW1lbnQsbD11LnNwbGl0KCItIilbMF0sZj11LnNwbGl0KCItIilbMV07aWYoZil7dmFyIGU9dC5vZmZzZXRzLHI9ZS5yZWZlcmVuY2Uscz1lLnBvcHBlcixoPS0xIT09WyJib3R0b20iLCJ0b3AiXS5pbmRleE9mKGwpLGk9aD8ibGVmdCI6InRvcCIsYz1oPyJ3aWR0aCI6ImhlaWdodCIsYT17c3RhcnQ6byh7fSxpLHJbaV0pLGVuZDpvKHt9LGkscltpXStyW2NdLXNbY10pfTt0Lm9mZnNldHMucG9wcGVyPW4oe30scyxhW2ZdKX1yZXR1cm4gdH19LG9mZnNldDp7b3JkZXI6MjAwLGVuYWJsZWQ6ITAsZm46bnIsb2Zmc2V0OjB9LHByZXZlbnRPdmVyZmxvdzp7b3JkZXI6MzAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24oaSxyKXt2YXIgaD1yLmJvdW5kYXJpZXNFbGVtZW50fHxmKGkuaW5zdGFuY2UucG9wcGVyKSxzO2kuaW5zdGFuY2UucmVmZXJlbmNlPT09aCYmKGg9ZihoKSk7dmFyIGM9ZCgidHJhbnNmb3JtIiksZT1pLmluc3RhbmNlLnBvcHBlci5zdHlsZSxsPWUudG9wLGE9ZS5sZWZ0LHY9ZVtjXTtlLnRvcD0iIjtlLmxlZnQ9IiI7ZVtjXT0iIjtzPWsoaS5pbnN0YW5jZS5wb3BwZXIsaS5pbnN0YW5jZS5yZWZlcmVuY2Usci5wYWRkaW5nLGgsaS5wb3NpdGlvbkZpeGVkKTtlLnRvcD1sO2UubGVmdD1hO2VbY109djtyLmJvdW5kYXJpZXM9czt2YXIgeT1yLnByaW9yaXR5LHU9aS5vZmZzZXRzLnBvcHBlcixwPXtwcmltYXJ5OmZ1bmN0aW9uKG4pe3ZhciBpPXVbbl07cmV0dXJuIHVbbl08c1tuXSYmIXIuZXNjYXBlV2l0aFJlZmVyZW5jZSYmKGk9dCh1W25dLHNbbl0pKSxvKHt9LG4saSl9LHNlY29uZGFyeTpmdW5jdGlvbihuKXt2YXIgdD0icmlnaHQiPT09bj8ibGVmdCI6InRvcCIsaT11W3RdO3JldHVybiB1W25dPnNbbl0mJiFyLmVzY2FwZVdpdGhSZWZlcmVuY2UmJihpPW5pKHVbdF0sc1tuXS0oInJpZ2h0Ij09PW4/dS53aWR0aDp1LmhlaWdodCkpKSxvKHt9LHQsaSl9fTtyZXR1cm4geS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPS0xPT09WyJsZWZ0IiwidG9wIl0uaW5kZXhPZih0KT8ic2Vjb25kYXJ5IjoicHJpbWFyeSI7dT1uKHt9LHUscFtpXSh0KSl9KSxpLm9mZnNldHMucG9wcGVyPXUsaX0scHJpb3JpdHk6WyJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iXSxwYWRkaW5nOjUsYm91bmRhcmllc0VsZW1lbnQ6InNjcm9sbFBhcmVudCJ9LGtlZXBUb2dldGhlcjp7b3JkZXI6NDAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24obil7dmFyIG89bi5vZmZzZXRzLHU9by5wb3BwZXIsaT1vLnJlZmVyZW5jZSxzPW4ucGxhY2VtZW50LnNwbGl0KCItIilbMF0scj10dCxmPS0xIT09WyJ0b3AiLCJib3R0b20iXS5pbmRleE9mKHMpLGU9Zj8icmlnaHQiOiJib3R0b20iLHQ9Zj8ibGVmdCI6InRvcCIsaD1mPyJ3aWR0aCI6ImhlaWdodCI7cmV0dXJuIHVbZV08cihpW3RdKSYmKG4ub2Zmc2V0cy5wb3BwZXJbdF09cihpW3RdKS11W2hdKSx1W3RdPnIoaVtlXSkmJihuLm9mZnNldHMucG9wcGVyW3RdPXIoaVtlXSkpLG59fSxhcnJvdzp7b3JkZXI6NTAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24obix1KXt2YXIgbCxlO2lmKCFkdChuLmluc3RhbmNlLm1vZGlmaWVycywiYXJyb3ciLCJrZWVwVG9nZXRoZXIiKSlyZXR1cm4gbjtpZihlPXUuZWxlbWVudCwic3RyaW5nIj09dHlwZW9mIGUpe2lmKGU9bi5pbnN0YW5jZS5wb3BwZXIucXVlcnlTZWxlY3RvcihlKSwhZSlyZXR1cm4gbn1lbHNlIGlmKCFuLmluc3RhbmNlLnBvcHBlci5jb250YWlucyhlKSlyZXR1cm4gY29uc29sZS53YXJuKCJXQVJOSU5HOiBgYXJyb3cuZWxlbWVudGAgbXVzdCBiZSBjaGlsZCBvZiBpdHMgcG9wcGVyIGVsZW1lbnQhIiksbjt2YXIgZD1uLnBsYWNlbWVudC5zcGxpdCgiLSIpWzBdLGI9bi5vZmZzZXRzLGM9Yi5wb3BwZXIscz1iLnJlZmVyZW5jZSxhPS0xIT09WyJsZWZ0IiwicmlnaHQiXS5pbmRleE9mKGQpLHk9YT8iaGVpZ2h0Ijoid2lkdGgiLHA9YT8iVG9wIjoiTGVmdCIsZj1wLnRvTG93ZXJDYXNlKCksZz1hPyJsZWZ0IjoidG9wIix2PWE/ImJvdHRvbSI6InJpZ2h0IixoPXZ0KGUpW3ldO3Nbdl0taDxjW2ZdJiYobi5vZmZzZXRzLnBvcHBlcltmXS09Y1tmXS0oc1t2XS1oKSk7c1tmXStoPmNbdl0mJihuLm9mZnNldHMucG9wcGVyW2ZdKz1zW2ZdK2gtY1t2XSk7bi5vZmZzZXRzLnBvcHBlcj1pKG4ub2Zmc2V0cy5wb3BwZXIpO3ZhciBudD1zW2ZdK3NbeV0vMi1oLzIsaz1yKG4uaW5zdGFuY2UucG9wcGVyKSx0dD1wYXJzZUZsb2F0KGtbIm1hcmdpbiIrcF0sMTApLGl0PXBhcnNlRmxvYXQoa1siYm9yZGVyIitwKyJXaWR0aCJdLDEwKSx3PW50LW4ub2Zmc2V0cy5wb3BwZXJbZl0tdHQtaXQ7cmV0dXJuIHc9dChuaShjW3ldLWgsdyksMCksbi5hcnJvd0VsZW1lbnQ9ZSxuLm9mZnNldHMuYXJyb3c9KGw9e30sbyhsLGYsdGkodykpLG8obCxnLCIiKSxsKSxufSxlbGVtZW50OiJbeC1hcnJvd10ifSxmbGlwOntvcmRlcjo2MDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbih0LGkpe2lmKHd0KHQuaW5zdGFuY2UubW9kaWZpZXJzLCJpbm5lciIpfHx0LmZsaXBwZWQmJnQucGxhY2VtZW50PT09dC5vcmlnaW5hbFBsYWNlbWVudClyZXR1cm4gdDt2YXIgZT1rKHQuaW5zdGFuY2UucG9wcGVyLHQuaW5zdGFuY2UucmVmZXJlbmNlLGkucGFkZGluZyxpLmJvdW5kYXJpZXNFbGVtZW50LHQucG9zaXRpb25GaXhlZCkscj10LnBsYWNlbWVudC5zcGxpdCgiLSIpWzBdLG89YShyKSx1PXQucGxhY2VtZW50LnNwbGl0KCItIilbMV18fCIiLGY9W107c3dpdGNoKGkuYmVoYXZpb3Ipe2Nhc2UgcnQuRkxJUDpmPVtyLG9dO2JyZWFrO2Nhc2UgcnQuQ0xPQ0tXSVNFOmY9Z3Qocik7YnJlYWs7Y2FzZSBydC5DT1VOVEVSQ0xPQ0tXSVNFOmY9Z3QociwhMCk7YnJlYWs7ZGVmYXVsdDpmPWkuYmVoYXZpb3J9cmV0dXJuIGYuZm9yRWFjaChmdW5jdGlvbihzLGgpe2lmKHIhPT1zfHxmLmxlbmd0aD09PWgrMSlyZXR1cm4gdDtyPXQucGxhY2VtZW50LnNwbGl0KCItIilbMF07bz1hKHIpO3ZhciBsPXQub2Zmc2V0cy5wb3BwZXIseT10Lm9mZnNldHMucmVmZXJlbmNlLGM9dHQsZD0ibGVmdCI9PT1yJiZjKGwucmlnaHQpPmMoeS5sZWZ0KXx8InJpZ2h0Ij09PXImJmMobC5sZWZ0KTxjKHkucmlnaHQpfHwidG9wIj09PXImJmMobC5ib3R0b20pPmMoeS50b3ApfHwiYm90dG9tIj09PXImJmMobC50b3ApPGMoeS5ib3R0b20pLHA9YyhsLmxlZnQpPGMoZS5sZWZ0KSx3PWMobC5yaWdodCk+YyhlLnJpZ2h0KSxiPWMobC50b3ApPGMoZS50b3ApLGs9YyhsLmJvdHRvbSk+YyhlLmJvdHRvbSksZz0ibGVmdCI9PT1yJiZwfHwicmlnaHQiPT09ciYmd3x8InRvcCI9PT1yJiZifHwiYm90dG9tIj09PXImJmssdj0tMSE9PVsidG9wIiwiYm90dG9tIl0uaW5kZXhPZihyKSxpdD0hIWkuZmxpcFZhcmlhdGlvbnMmJih2JiYic3RhcnQiPT09dSYmcHx8diYmImVuZCI9PT11JiZ3fHwhdiYmInN0YXJ0Ij09PXUmJmJ8fCF2JiYiZW5kIj09PXUmJmspLHJ0PSEhaS5mbGlwVmFyaWF0aW9uc0J5Q29udGVudCYmKHYmJiJzdGFydCI9PT11JiZ3fHx2JiYiZW5kIj09PXUmJnB8fCF2JiYic3RhcnQiPT09dSYma3x8IXYmJiJlbmQiPT09dSYmYiksbnQ9aXR8fHJ0OyhkfHxnfHxudCkmJih0LmZsaXBwZWQ9ITAsKGR8fGcpJiYocj1mW2grMV0pLG50JiYodT1raSh1KSksdC5wbGFjZW1lbnQ9cisodT8iLSIrdToiIiksdC5vZmZzZXRzLnBvcHBlcj1uKHt9LHQub2Zmc2V0cy5wb3BwZXIseXQodC5pbnN0YW5jZS5wb3BwZXIsdC5vZmZzZXRzLnJlZmVyZW5jZSx0LnBsYWNlbWVudCkpLHQ9cHQodC5pbnN0YW5jZS5tb2RpZmllcnMsdCwiZmxpcCIpKX0pLHR9LGJlaGF2aW9yOiJmbGlwIixwYWRkaW5nOjUsYm91bmRhcmllc0VsZW1lbnQ6InZpZXdwb3J0IixmbGlwVmFyaWF0aW9uczohMSxmbGlwVmFyaWF0aW9uc0J5Q29udGVudDohMX0saW5uZXI6e29yZGVyOjcwMCxlbmFibGVkOiExLGZuOmZ1bmN0aW9uKG4pe3ZhciB1PW4ucGxhY2VtZW50LHQ9dS5zcGxpdCgiLSIpWzBdLGY9bi5vZmZzZXRzLHI9Zi5wb3BwZXIsbz1mLnJlZmVyZW5jZSxlPS0xIT09WyJsZWZ0IiwicmlnaHQiXS5pbmRleE9mKHQpLHM9LTE9PT1bInRvcCIsImxlZnQiXS5pbmRleE9mKHQpO3JldHVybiByW2U/ImxlZnQiOiJ0b3AiXT1vW3RdLShzP3JbZT8id2lkdGgiOiJoZWlnaHQiXTowKSxuLnBsYWNlbWVudD1hKHUpLG4ub2Zmc2V0cy5wb3BwZXI9aShyKSxufX0saGlkZTp7b3JkZXI6ODAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24obil7aWYoIWR0KG4uaW5zdGFuY2UubW9kaWZpZXJzLCJoaWRlIiwicHJldmVudE92ZXJmbG93IikpcmV0dXJuIG47dmFyIHQ9bi5vZmZzZXRzLnJlZmVyZW5jZSxpPWgobi5pbnN0YW5jZS5tb2RpZmllcnMsZnVuY3Rpb24obil7cmV0dXJuInByZXZlbnRPdmVyZmxvdyI9PT1uLm5hbWV9KS5ib3VuZGFyaWVzO2lmKHQuYm90dG9tPGkudG9wfHx0LmxlZnQ+aS5yaWdodHx8dC50b3A+aS5ib3R0b218fHQucmlnaHQ8aS5sZWZ0KXtpZighMD09PW4uaGlkZSlyZXR1cm4gbjtuLmhpZGU9ITA7bi5hdHRyaWJ1dGVzWyJ4LW91dC1vZi1ib3VuZGFyaWVzIl09IiJ9ZWxzZXtpZighMT09PW4uaGlkZSlyZXR1cm4gbjtuLmhpZGU9ITE7bi5hdHRyaWJ1dGVzWyJ4LW91dC1vZi1ib3VuZGFyaWVzIl09ITF9cmV0dXJuIG59fSxjb21wdXRlU3R5bGU6e29yZGVyOjg1MCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKHQsaSl7dmFyIGc9aS54LG50PWkueSx0dD10Lm9mZnNldHMucG9wcGVyLGM9aCh0Lmluc3RhbmNlLm1vZGlmaWVycyxmdW5jdGlvbihuKXtyZXR1cm4iYXBwbHlTdHlsZSI9PT1uLm5hbWV9KS5ncHVBY2NlbGVyYXRpb24scCxiLGs7dm9pZCAwIT09YyYmY29uc29sZS53YXJuKCJXQVJOSU5HOiBgZ3B1QWNjZWxlcmF0aW9uYCBvcHRpb24gbW92ZWQgdG8gYGNvbXB1dGVTdHlsZWAgbW9kaWZpZXIgYW5kIHdpbGwgbm90IGJlIHN1cHBvcnRlZCBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgUG9wcGVyLmpzISIpO3ZhciBsLGEsaXQ9dm9pZCAwPT09Yz9pLmdwdUFjY2VsZXJhdGlvbjpjLGU9Zih0Lmluc3RhbmNlLnBvcHBlciksdj13KGUpLHI9e3Bvc2l0aW9uOnR0LnBvc2l0aW9ufSx1PWJpKHQsMj53aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8IWVyKSxvPSJib3R0b20iPT09Zz8idG9wIjoiYm90dG9tIixzPSJyaWdodCI9PT1udD8ibGVmdCI6InJpZ2h0Iix5PWQoInRyYW5zZm9ybSIpO3JldHVybihhPSJib3R0b20iPT1vPyJIVE1MIj09PWUubm9kZU5hbWU/LWUuY2xpZW50SGVpZ2h0K3UuYm90dG9tOi12LmhlaWdodCt1LmJvdHRvbTp1LnRvcCxsPSJyaWdodCI9PXM/IkhUTUwiPT09ZS5ub2RlTmFtZT8tZS5jbGllbnRXaWR0aCt1LnJpZ2h0Oi12LndpZHRoK3UucmlnaHQ6dS5sZWZ0LGl0JiZ5KT8oclt5XT0idHJhbnNsYXRlM2QoIitsKyJweCwgIithKyJweCwgMCkiLHJbb109MCxyW3NdPTAsci53aWxsQ2hhbmdlPSJ0cmFuc2Zvcm0iKToocD0iYm90dG9tIj09bz8tMToxLGI9InJpZ2h0Ij09cz8tMToxLHJbb109YSpwLHJbc109bCpiLHIud2lsbENoYW5nZT1vKyIsICIrcyksaz17IngtcGxhY2VtZW50Ijp0LnBsYWNlbWVudH0sdC5hdHRyaWJ1dGVzPW4oe30sayx0LmF0dHJpYnV0ZXMpLHQuc3R5bGVzPW4oe30scix0LnN0eWxlcyksdC5hcnJvd1N0eWxlcz1uKHt9LHQub2Zmc2V0cy5hcnJvdyx0LmFycm93U3R5bGVzKSx0fSxncHVBY2NlbGVyYXRpb246ITAseDoiYm90dG9tIix5OiJyaWdodCJ9LGFwcGx5U3R5bGU6e29yZGVyOjkwMCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKG4pe3JldHVybiBudChuLmluc3RhbmNlLnBvcHBlcixuLnN0eWxlcyksd2kobi5pbnN0YW5jZS5wb3BwZXIsbi5hdHRyaWJ1dGVzKSxuLmFycm93RWxlbWVudCYmT2JqZWN0LmtleXMobi5hcnJvd1N0eWxlcykubGVuZ3RoJiZudChuLmFycm93RWxlbWVudCxuLmFycm93U3R5bGVzKSxufSxvbkxvYWQ6ZnVuY3Rpb24obix0LGkscix1KXt2YXIgZj1hdCh1LHQsbixpLnBvc2l0aW9uRml4ZWQpLGU9bHQoaS5wbGFjZW1lbnQsZix0LG4saS5tb2RpZmllcnMuZmxpcC5ib3VuZGFyaWVzRWxlbWVudCxpLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO3JldHVybiB0LnNldEF0dHJpYnV0ZSgieC1wbGFjZW1lbnQiLGUpLG50KHQse3Bvc2l0aW9uOmkucG9zaXRpb25GaXhlZD8iZml4ZWQiOiJhYnNvbHV0ZSJ9KSxpfSxncHVBY2NlbGVyYXRpb246dm9pZCAwfX19LHZ9KTsKLyoqCiAgc2hhdmUgLSBTaGF2ZSBpcyBhIGphdmFzY3JpcHQgcGx1Z2luIHRoYXQgdHJ1bmNhdGVzIG11bHRpLWxpbmUgdGV4dCB3aXRoaW4gYSBodG1sIGVsZW1lbnQgYmFzZWQgb24gc2V0IG1heCBoZWlnaHQKICBAdmVyc2lvbiB2Mi41LjcKICBAbGluayBodHRwczovL2dpdGh1Yi5jb20vZG9sbGFyc2hhdmVjbHViL3NoYXZlI3JlYWRtZQogIEBhdXRob3IgSmVmZiBXYWlud3JpZ2h0IDx5b3dhaW53cmlnaHRAZ21haWwuY29tPiAoamVmZnJ5LmluKQogIEBsaWNlbnNlIE1JVAoqKi8KKGZ1bmN0aW9uKG4sdCl7dHlwZW9mIGV4cG9ydHM9PSJvYmplY3QiJiZ0eXBlb2YgbW9kdWxlIT0idW5kZWZpbmVkIj9tb2R1bGUuZXhwb3J0cz10KCk6dHlwZW9mIGRlZmluZT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZD9kZWZpbmUodCk6KG49bnx8c2VsZixuLnNoYXZlPXQoKSl9KSh0aGlzLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4obix0KXt2YXIgaD1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06e30sZixsLHYscix5LHA7aWYodHlwZW9mIHQ9PSJ1bmRlZmluZWQifHxpc05hTih0KSl0aHJvdyBFcnJvcigibWF4SGVpZ2h0IGlzIHJlcXVpcmVkIik7aWYoZj10eXBlb2Ygbj09InN0cmluZyI/ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChuKTpuLGYpe3ZhciBkPWguY2hhcmFjdGVyfHwi4oCmIixiPWguY2xhc3NuYW1lfHwianMtc2hhdmUiLGM9dHlwZW9mIGguc3BhY2VzPT0iYm9vbGVhbiI/aC5zcGFjZXM6ITAsaz0nPHNwYW4gY2xhc3M9ImpzLXNoYXZlLWNoYXIiPicuY29uY2F0KGQsIjxcL3NwYW4+Iik7Zm9yKCgibGVuZ3RoImluIGYpfHwoZj1bZl0pLGw9MDtsPGYubGVuZ3RoO2wrPTEpe3ZhciBpPWZbbF0sdT1pLnN0eWxlLGc9aS5xdWVyeVNlbGVjdG9yKCIuIi5jb25jYXQoYikpLG89aS50ZXh0Q29udGVudD09PXVuZGVmaW5lZD8iaW5uZXJUZXh0IjoidGV4dENvbnRlbnQiO2lmKGcmJihpLnJlbW92ZUNoaWxkKGkucXVlcnlTZWxlY3RvcigiLmpzLXNoYXZlLWNoYXIiKSksaVtvXT1pW29dKSx2PWlbb10scj1jP3Yuc3BsaXQoIiAiKTp2LCEoci5sZW5ndGg8Mikpe2lmKHk9dS5oZWlnaHQsdS5oZWlnaHQ9ImF1dG8iLHA9dS5tYXhIZWlnaHQsdS5tYXhIZWlnaHQ9Im5vbmUiLGkub2Zmc2V0SGVpZ2h0PD10KXt1LmhlaWdodD15O3UubWF4SGVpZ2h0PXA7Y29udGludWV9Zm9yKHZhciBlPXIubGVuZ3RoLTEsdz0wLHM9dm9pZCAwO3c8ZTspcz13K2UrMT4+MSxpW29dPWM/ci5zbGljZSgwLHMpLmpvaW4oIiAiKTpyLnNsaWNlKDAscyksaS5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZWVuZCIsayksaS5vZmZzZXRIZWlnaHQ+dD9lPXMtMTp3PXM7aVtvXT1jP3Iuc2xpY2UoMCxlKS5qb2luKCIgIik6ci5zbGljZSgwLGUpO2kuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVlbmQiLGspO3ZhciBudD1jPyIgIi5jb25jYXQoci5zbGljZShlKS5qb2luKCIgIikpOnIuc2xpY2UoZSksdHQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobnQpLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2EuY2xhc3NMaXN0LmFkZChiKTthLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2EuYXBwZW5kQ2hpbGQodHQpO2kuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCJiZWZvcmVlbmQiLGEpO3UuaGVpZ2h0PXk7dS5tYXhIZWlnaHQ9cH19fX1yZXR1cm4gbn0pOyFmdW5jdGlvbihuLHQpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlKCJjb3Zlby1zZWFyY2gtdWkiKSxyZXF1aXJlKCJ1bmRlcnNjb3JlIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiY292ZW8tc2VhcmNoLXVpIiwidW5kZXJzY29yZSJdLHQpOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkNvdmVvQ291bnRlZFRhYnM9dChyZXF1aXJlKCJjb3Zlby1zZWFyY2gtdWkiKSxyZXF1aXJlKCJ1bmRlcnNjb3JlIikpOm4uQ292ZW9Db3VudGVkVGFicz10KG4uQ292ZW8sbi5fKX0od2luZG93LGZ1bmN0aW9uKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQocil7aWYoaVtyXSlyZXR1cm4gaVtyXS5leHBvcnRzO3ZhciB1PWlbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBuW3JdLmNhbGwodS5leHBvcnRzLHUsdS5leHBvcnRzLHQpLHUubD0hMCx1LmV4cG9ydHN9dmFyIGk9e307cmV0dXJuIHQubT1uLHQuYz1pLHQuZD1mdW5jdGlvbihuLGkscil7dC5vKG4saSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGkse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sdC5yPWZ1bmN0aW9uKG4peyJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LHQudD1mdW5jdGlvbihuLGkpe3ZhciByLHU7aWYoKDEmaSYmKG49dChuKSksOCZpKXx8NCZpJiYib2JqZWN0Ij09dHlwZW9mIG4mJm4mJm4uX19lc01vZHVsZSlyZXR1cm4gbjtpZihyPU9iamVjdC5jcmVhdGUobnVsbCksdC5yKHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTpufSksMiZpJiYic3RyaW5nIiE9dHlwZW9mIG4pZm9yKHUgaW4gbil0LmQocix1LGZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfS5iaW5kKG51bGwsdSkpO3JldHVybiByfSx0Lm49ZnVuY3Rpb24obil7dmFyIGk9biYmbi5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG4uZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gbn07cmV0dXJuIHQuZChpLCJhIixpKSxpfSx0Lm89ZnVuY3Rpb24obix0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCl9LHQucD0iIix0KHQucz0xKX0oW2Z1bmN0aW9uKHQpe3QuZXhwb3J0cz1ufSxmdW5jdGlvbihuLHQsaSl7aSgyKTtuLmV4cG9ydHM9aSg2KX0sZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24obix0LGkscil7dm9pZCAwPT09ciYmKHI9aSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4scix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtpXX19KX06ZnVuY3Rpb24obix0LGkscil7dm9pZCAwPT09ciYmKHI9aSk7bltyXT10W2ldfSksdT10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24obix0KXtmb3IodmFyIGkgaW4gbikiZGVmYXVsdCI9PT1pfHx0Lmhhc093blByb3BlcnR5KGkpfHxyKHQsbixpKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3UoaSgzKSx0KX0sZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgZixlPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoZj1mdW5jdGlvbihuLHQpe3JldHVybihmPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihuLHQpe24uX19wcm90b19fPXR9fHxmdW5jdGlvbihuLHQpe2Zvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihuW2ldPXRbaV0pfSkobix0KX0sZnVuY3Rpb24obix0KXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj1ufWYobix0KTtuLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihpLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgaSl9KSxvPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24obix0LGkscil7dmFyIGYsZT1hcmd1bWVudHMubGVuZ3RoLHU9ZTwzP3Q6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsaSk6cixvO2lmKCJvYmplY3QiPT10eXBlb2YgUmVmbGVjdCYmImZ1bmN0aW9uIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpdT1SZWZsZWN0LmRlY29yYXRlKG4sdCxpLHIpO2Vsc2UgZm9yKG89bi5sZW5ndGgtMTtvPj0wO28tLSkoZj1uW29dKSYmKHU9KGU8Mz9mKHUpOmU+Mz9mKHQsaSx1KTpmKHQsaSkpfHx1KTtyZXR1cm4gZT4zJiZ1JiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLHUpLHV9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt0LkNvdW50ZWRUYWJzPXZvaWQgMDt2YXIgcj1pKDApLHU9aSg0KSxzPWkoNSksaD1mdW5jdGlvbihuKXtmdW5jdGlvbiB0KHQsdSxmKXt2YXIgZT1uLmNhbGwodGhpcyx0LGkuSUQsZil8fHRoaXM7cmV0dXJuIGUuZWxlbWVudD10LGUub3B0aW9ucz11LGUuYmluZGluZ3M9ZixlLm9wdGlvbnM9ci5Db21wb25lbnRPcHRpb25zLmluaXRDb21wb25lbnRPcHRpb25zKHQsaSx1KSxlLmJpbmQub25Sb290RWxlbWVudChyLlF1ZXJ5RXZlbnRzLmRlZmVycmVkUXVlcnlTdWNjZXNzLGZ1bmN0aW9uKG4pe3JldHVybiBlLmhhbmRsZURlZmVycmVkUXVlcnlTdWNjZXNzKG4pfSksZS5iaW5kLm9uUm9vdEVsZW1lbnQoci5RdWVyeUV2ZW50cy5kb25lQnVpbGRpbmdRdWVyeSxmdW5jdGlvbihuKXtyZXR1cm4gZS5oYW5kbGVEb25lQnVpbGRpbmdRdWVyeShuKX0pLGV9dmFyIGk7cmV0dXJuIGUodCxuKSxpPXQsdC5wcm90b3R5cGUudXBkYXRlVGFic1N0YXRlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJDb3Zlb1RhYiIpLGY9dGhpcy5nZXROdW1iZXJPZkRlZmF1bHRUYWJSZXN1bHRzKG4pO3UuZWFjaChpLGZ1bmN0aW9uKGkpe3ZhciBvPXUuZmluZChuLGZ1bmN0aW9uKG4pe3JldHVybiBuLnZhbHVlPT1pLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpfSkscz0wLGUsaDtvPyhzPW8ubnVtYmVyT2ZSZXN1bHRzLHIuJCQoaSkucmVtb3ZlQ2xhc3MoImNvdmVvLWhpZGRlbiIpKTp0LnNob3VsZEhpZGVUYWIoaSxmKSYmci4kJChpKS5hZGRDbGFzcygiY292ZW8taGlkZGVuIik7ZT1pLnF1ZXJ5U2VsZWN0b3IoInNwYW4jY291bnQiKTtlJiZpLnJlbW92ZUNoaWxkKGUpO2g9dC5nZXRDb3VudEVsZW1lbnQocyk7aS5hcHBlbmRDaGlsZChoKX0pfSx0LnByb3RvdHlwZS5nZXROdW1iZXJPZkRlZmF1bHRUYWJSZXN1bHRzPWZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMsdD0odS5maW5kKG4sZnVuY3Rpb24obil7cmV0dXJuIG4udmFsdWU9PWkub3B0aW9ucy5kZWZhdWx0VGFifSl8fHt9KS5udW1iZXJPZlJlc3VsdHM7cmV0dXJuIHZvaWQgMD09PXQ/MDp0fSx0LnByb3RvdHlwZS5zaG91bGRIaWRlVGFiPWZ1bmN0aW9uKG4sdCl7cmV0dXJuISF0aGlzLm9wdGlvbnMuaGlkZVdoZW5FbXB0eSYmKG4uZ2V0QXR0cmlidXRlKCJkYXRhLWlkIikhPXRoaXMub3B0aW9ucy5kZWZhdWx0VGFiJiYtMT09bi5jbGFzc05hbWUuaW5kZXhPZigiY292ZW8tc2VsZWN0ZWQiKXx8MD09dCl9LHQucHJvdG90eXBlLmZvcm1hdENvdW50PWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm9wdGlvbnMuY291bnRUZW1wbGF0ZS5yZXBsYWNlKC9cJFx7KC4qPylcfS9nLG4pfSx0LnByb3RvdHlwZS5nZXRDb3VudEVsZW1lbnQ9ZnVuY3Rpb24obil7cmV0dXJuIHIuJCQoInNwYW4iLHtpZDoiY291bnQiLCJjbGFzcyI6InRhYi1jb3VudCJ9LHRoaXMuZm9ybWF0Q291bnQobikpLmVsfSx0LnByb3RvdHlwZS5oYW5kbGVEZWZlcnJlZFF1ZXJ5U3VjY2Vzcz1mdW5jdGlvbihuKXt2YXIgdD10aGlzLm9wdGlvbnMuZmllbGQudG9TdHJpbmcoKS5zcGxpdCgiQCIpWzFdLGk9dS5maW5kKG4ucmVzdWx0cy5ncm91cEJ5UmVzdWx0cyxmdW5jdGlvbihuKXtyZXR1cm4gbi5maWVsZD09PXR9KTt0aGlzLnVwZGF0ZVRhYnNTdGF0ZShpLnZhbHVlcyl9LHQucHJvdG90eXBlLmJ1aWxkR3JvdXBCeVJlcXVlc3Q9ZnVuY3Rpb24obil7cmV0dXJue2ZpZWxkOm4sbWF4aW11bU51bWJlck9mVmFsdWVzOjEwLHNvcnRDcml0ZXJpYToib2NjdXJyZW5jZXMiLGluamVjdGlvbkRlcHRoOjFlNCxjb21wbGV0ZUZhY2V0V2l0aFN0YW5kYXJkVmFsdWVzOiEwLGFsbG93ZWRWYWx1ZXM6W10sYWR2YW5jZWRRdWVyeU92ZXJyaWRlOiJAdXJpIixjb25zdGFudFF1ZXJ5T3ZlcnJpZGU6IkB1cmkifX0sdC5wcm90b3R5cGUuaGFuZGxlRG9uZUJ1aWxkaW5nUXVlcnk9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5idWlsZEdyb3VwQnlSZXF1ZXN0KHRoaXMub3B0aW9ucy5maWVsZC50b1N0cmluZygpKTt0LnF1ZXJ5T3ZlcnJpZGU9bi5xdWVyeUJ1aWxkZXIuZXhwcmVzc2lvbi5idWlsZCgpO24ucXVlcnlCdWlsZGVyLmdyb3VwQnlSZXF1ZXN0cy5wdXNoKHQpfSx0LklEPSJDb3VudGVkVGFicyIsdC5vcHRpb25zPXtmaWVsZDpyLkNvbXBvbmVudE9wdGlvbnMuYnVpbGRGaWVsZE9wdGlvbigpLGRlZmF1bHRUYWI6ci5Db21wb25lbnRPcHRpb25zLmJ1aWxkU3RyaW5nT3B0aW9uKHtkZWZhdWx0VmFsdWU6IkFsbCJ9KSxoaWRlV2hlbkVtcHR5OnIuQ29tcG9uZW50T3B0aW9ucy5idWlsZEJvb2xlYW5PcHRpb24oe2RlZmF1bHRWYWx1ZTohMH0pLGNvdW50VGVtcGxhdGU6ci5Db21wb25lbnRPcHRpb25zLmJ1aWxkU3RyaW5nT3B0aW9uKHtkZWZhdWx0VmFsdWU6IiR7Y291bnR9In0pfSx0PWk9byhbcy5sYXp5Q29tcG9uZW50XSx0KX0oci5Db21wb25lbnQpO3QuQ291bnRlZFRhYnM9aH0sZnVuY3Rpb24obil7bi5leHBvcnRzPXR9LGZ1bmN0aW9uKG4sdCxpKXt2YXIgcjt3aW5kb3c7cj1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24obil7ZnVuY3Rpb24gdChyKXtpZihpW3JdKXJldHVybiBpW3JdLmV4cG9ydHM7dmFyIHU9aVtyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG5bcl0uY2FsbCh1LmV4cG9ydHMsdSx1LmV4cG9ydHMsdCksdS5sPSEwLHUuZXhwb3J0c312YXIgaT17fTtyZXR1cm4gdC5tPW4sdC5jPWksdC5kPWZ1bmN0aW9uKG4saSxyKXt0Lm8obixpKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KG4saSx7ZW51bWVyYWJsZTohMCxnZXQ6cn0pfSx0LnI9ZnVuY3Rpb24obil7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sdC50PWZ1bmN0aW9uKG4saSl7dmFyIHIsdTtpZigoMSZpJiYobj10KG4pKSw4JmkpfHw0JmkmJiJvYmplY3QiPT10eXBlb2YgbiYmbiYmbi5fX2VzTW9kdWxlKXJldHVybiBuO2lmKHI9T2JqZWN0LmNyZWF0ZShudWxsKSx0LnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOm59KSwyJmkmJiJzdHJpbmciIT10eXBlb2Ygbilmb3IodSBpbiBuKXQuZChyLHUsZnVuY3Rpb24odCl7cmV0dXJuIG5bdF19LmJpbmQobnVsbCx1KSk7cmV0dXJuIHJ9LHQubj1mdW5jdGlvbihuKXt2YXIgaT1uJiZuLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gbi5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBufTtyZXR1cm4gdC5kKGksImEiLGkpLGl9LHQubz1mdW5jdGlvbihuLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KX0sdC5wPSIiLHQodC5zPTIpfShbZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dC5jb21wb25lbnQ9dm9pZCAwO3ZhciByPWkoMSk7dC5jb21wb25lbnQ9ZnVuY3Rpb24obil7cmV0dXJuIHIuSW5pdGlhbGl6YXRpb24ucmVnaXN0ZXJBdXRvQ3JlYXRlQ29tcG9uZW50KG4pLG59fSxmdW5jdGlvbih0KXt0LmV4cG9ydHM9bn0sZnVuY3Rpb24obix0LGkpe24uZXhwb3J0cz1pKDMpfSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO3ZhciByPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihuLHQsaSxyKXt2b2lkIDA9PT1yJiYocj1pKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobixyLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W2ldfX0pfTpmdW5jdGlvbihuLHQsaSxyKXt2b2lkIDA9PT1yJiYocj1pKTtuW3JdPXRbaV19KSx1PXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihuLHQpe2Zvcih2YXIgaSBpbiBuKSJkZWZhdWx0Ij09PWl8fHQuaGFzT3duUHJvcGVydHkoaSl8fHIodCxuLGkpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dShpKDQpLHQpfSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO3ZhciB1PXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihuLHQsaSxyKXt2b2lkIDA9PT1yJiYocj1pKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobixyLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W2ldfX0pfTpmdW5jdGlvbihuLHQsaSxyKXt2b2lkIDA9PT1yJiYocj1pKTtuW3JdPXRbaV19KSxyPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihuLHQpe2Zvcih2YXIgaSBpbiBuKSJkZWZhdWx0Ij09PWl8fHQuaGFzT3duUHJvcGVydHkoaSl8fHUodCxuLGkpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7cihpKDApLHQpO3IoaSg1KSx0KX0sZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dC5sYXp5Q29tcG9uZW50PXQubGF6eURlcGVuZGVudENvbXBvbmVudD12b2lkIDA7dmFyIHI9aSgxKSx1PWkoMCk7dC5sYXp5RGVwZW5kZW50Q29tcG9uZW50PWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gci5MYXp5SW5pdGlhbGl6YXRpb24/KHIuTGF6eUluaXRpYWxpemF0aW9uLnJlZ2lzdGVyTGF6eUNvbXBvbmVudCh0LklELGZ1bmN0aW9uKCl7cmV0dXJuIHIubG9hZChuKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHUuY29tcG9uZW50KHQpfSl9KSx0KTp1LmNvbXBvbmVudCh0KX19O3QubGF6eUNvbXBvbmVudD1mdW5jdGlvbihuKXtyZXR1cm4gci5MYXp5SW5pdGlhbGl6YXRpb24/KHIuTGF6eUluaXRpYWxpemF0aW9uLnJlZ2lzdGVyTGF6eUNvbXBvbmVudChuLklELHUuY29tcG9uZW50KG4pKSxuKTp1LmNvbXBvbmVudChuKX19XSl9O24uZXhwb3J0cz1yKGkoMCkpfSxmdW5jdGlvbihuLHQsaSl7dmFyIGY9aSg3KSxyPWkoOCksdTsic3RyaW5nIj09dHlwZW9mKHI9ci5fX2VzTW9kdWxlP3IuZGVmYXVsdDpyKSYmKHI9W1tuLmksciwiIl1dKTt1PXtpbnNlcnQ6ImhlYWQiLHNpbmdsZXRvbjohMX07ZihyLHUpO24uZXhwb3J0cz1yLmxvY2Fsc3x8e319LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZihuKXtmb3IodmFyIGk9LTEsdD0wO3Q8ci5sZW5ndGg7dCsrKWlmKHJbdF0uaWRlbnRpZmllcj09PW4pe2k9dDticmVha31yZXR1cm4gaX1mdW5jdGlvbiBvKG4sdCl7Zm9yKHZhciB1LGgsYz17fSxsPVtdLGU9MDtlPG4ubGVuZ3RoO2UrKyl7dmFyIGk9bltlXSxvPXQuYmFzZT9pWzBdK3QuYmFzZTppWzBdLGE9Y1tvXXx8MCxzPSIiLmNvbmNhdChvLCIgIikuY29uY2F0KGEpO2Nbb109YSsxO3U9ZihzKTtoPXtjc3M6aVsxXSxtZWRpYTppWzJdLHNvdXJjZU1hcDppWzNdfTstMSE9PXU/KHJbdV0ucmVmZXJlbmNlcysrLHJbdV0udXBkYXRlcihoKSk6ci5wdXNoKHtpZGVudGlmaWVyOnMsdXBkYXRlcjp3KGgsdCkscmVmZXJlbmNlczoxfSk7bC5wdXNoKHMpfXJldHVybiBsfWZ1bmN0aW9uIHMobil7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxyPW4uYXR0cmlidXRlc3x8e30sdSxmO2lmKHZvaWQgMD09PXIubm9uY2UmJih1PWkubmMsdSYmKHIubm9uY2U9dSkpLE9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24obil7dC5zZXRBdHRyaWJ1dGUobixyW25dKX0pLCJmdW5jdGlvbiI9PXR5cGVvZiBuLmluc2VydCluLmluc2VydCh0KTtlbHNle2lmKGY9YShuLmluc2VydHx8ImhlYWQiKSwhZil0aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC4iKTtmLmFwcGVuZENoaWxkKHQpfXJldHVybiB0fWZ1bmN0aW9uIGgobix0LGkscil7dmFyIGU9aT8iIjpyLm1lZGlhPyJAbWVkaWEgIi5jb25jYXQoci5tZWRpYSwiIHsiKS5jb25jYXQoci5jc3MsIn0iKTpyLmNzcyxmLHU7bi5zdHlsZVNoZWV0P24uc3R5bGVTaGVldC5jc3NUZXh0PXYodCxlKTooZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSx1PW4uY2hpbGROb2Rlcyx1W3RdJiZuLnJlbW92ZUNoaWxkKHVbdF0pLHUubGVuZ3RoP24uaW5zZXJ0QmVmb3JlKGYsdVt0XSk6bi5hcHBlbmRDaGlsZChmKSl9ZnVuY3Rpb24geShuLHQsaSl7dmFyIHI9aS5jc3MsdT1pLm1lZGlhLGY9aS5zb3VyY2VNYXA7aWYodT9uLnNldEF0dHJpYnV0ZSgibWVkaWEiLHUpOm4ucmVtb3ZlQXR0cmlidXRlKCJtZWRpYSIpLGYmJmJ0b2EmJihyKz0iXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGYpKSkpLCIgKi8iKSksbi5zdHlsZVNoZWV0KW4uc3R5bGVTaGVldC5jc3NUZXh0PXI7ZWxzZXtmb3IoO24uZmlyc3RDaGlsZDspbi5yZW1vdmVDaGlsZChuLmZpcnN0Q2hpbGQpO24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocikpfX1mdW5jdGlvbiB3KG4sdCl7dmFyIGkscix1LGY7cmV0dXJuIHQuc2luZ2xldG9uPyhmPXArKyxpPWN8fChjPXModCkpLHI9aC5iaW5kKG51bGwsaSxmLCExKSx1PWguYmluZChudWxsLGksZiwhMCkpOihpPXModCkscj15LmJpbmQobnVsbCxpLHQpLHU9ZnVuY3Rpb24oKXshZnVuY3Rpb24obil7aWYobnVsbD09PW4ucGFyZW50Tm9kZSlyZXR1cm4hMTtuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobil9KGkpfSkscihuKSxmdW5jdGlvbih0KXtpZih0KXtpZih0LmNzcz09PW4uY3NzJiZ0Lm1lZGlhPT09bi5tZWRpYSYmdC5zb3VyY2VNYXA9PT1uLnNvdXJjZU1hcClyZXR1cm47cihuPXQpfWVsc2UgdSgpfX12YXIgdSxsPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXUmJih1PUJvb2xlYW4od2luZG93JiZkb2N1bWVudCYmZG9jdW1lbnQuYWxsJiYhd2luZG93LmF0b2IpKSx1fSxhPWZ1bmN0aW9uKCl7dmFyIG49e307cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PW5bdF0pe3ZhciBpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk7aWYod2luZG93LkhUTUxJRnJhbWVFbGVtZW50JiZpIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KXRyeXtpPWkuY29udGVudERvY3VtZW50LmhlYWR9Y2F0Y2gobil7aT1udWxsfW5bdF09aX1yZXR1cm4gblt0XX19KCkscj1bXSxlLHY9KGU9W10sZnVuY3Rpb24obix0KXtyZXR1cm4gZVtuXT10LGUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oIlxuIil9KSxjPW51bGwscD0wO24uZXhwb3J0cz1mdW5jdGlvbihuLHQpeyh0PXR8fHt9KS5zaW5nbGV0b258fCJib29sZWFuIj09dHlwZW9mIHQuc2luZ2xldG9ufHwodC5zaW5nbGV0b249bCgpKTt2YXIgaT1vKG49bnx8W10sdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciB1LGgsYyxlLHM7aWYobj1ufHxbXSwiW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pKXtmb3IodT0wO3U8aS5sZW5ndGg7dSsrKWg9ZihpW3VdKSxyW2hdLnJlZmVyZW5jZXMtLTtmb3IoYz1vKG4sdCksZT0wO2U8aS5sZW5ndGg7ZSsrKXM9ZihpW2VdKSwwPT09cltzXS5yZWZlcmVuY2VzJiYocltzXS51cGRhdGVyKCksci5zcGxpY2UocywxKSk7aT1jfX19fSxmdW5jdGlvbigpe31dKX0pO1hBLmNvbXBvbmVudC5BRkxuZXdzcm9vbT1mdW5jdGlvbihuKXt2YXIgdD17fTtyZXR1cm4gdC5pbml0PWZ1bmN0aW9uKCl7bigiYm9keSIpLmNsaWNrKGZ1bmN0aW9uKCl7bigiI2FmbC1maWx0ZXItYnktZGF0ZSIpLmFkZENsYXNzKCJjb3Zlby1keW5hbWljLWZhY2V0LWNvbGxhcHNlZCIpfSk7bigiI2FmbC1maWx0ZXItYnktZGF0ZSIpLmNsaWNrKGZ1bmN0aW9uKG4pe24uc3RvcFByb3BhZ2F0aW9uKCl9KX0sdH0oalF1ZXJ5KTtYQS5yZWdpc3RlcigiQUZMbmV3c3Jvb20iLFhBLmNvbXBvbmVudC5BRkxuZXdzcm9vbSk7WEEuY29tcG9uZW50LkFGTGJhbm5lckNhcm91c2VsPWZ1bmN0aW9uKCl7dmFyIG49e307cmV0dXJuIG4uaW5pdD1mdW5jdGlvbigpe30sbn0oalF1ZXJ5KTtYQS5yZWdpc3RlcigiQUZMYmFubmVyQ2Fyb3VzZWwiLFhBLmNvbXBvbmVudC5BRkxiYW5uZXJDYXJvdXNlbCk7WEEuY29tcG9uZW50LkFGTGNhcm91c2VsPWZ1bmN0aW9uKG4pe3ZhciB0PXt9O3JldHVybiB0LmluaXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKG4pe3ZhciB1PW4uZmluZCgiaW1nIikuYXR0cigic3JjIiksdD1uLmRhdGEoInByZXZpZXctdmlkZW8iKSxpPW4uZGF0YSgicHJldmlldy0zZCIpO3R5cGVvZiB0IT0idW5kZWZpbmVkIiYmdCE9PSIiPyhyPW8odCksaChyKSk6dHlwZW9mIGkhPSJ1bmRlZmluZWQiJiZpIT09IiI/YyhpKTpzKHUpfWZ1bmN0aW9uIHModCl7bigiI3RocmVlZGltYWdlIikuaGlkZSgpO24oIiNhZmxwbGF5ZXIiKS5oaWRlKCk7bigiI2ZlYXR1cmUtcHJvZHVjdC1saWdodGJveCAucHJldmlldy1pbWciKS5zaG93KCkuYXR0cigic3JjIix0KTtpLnN0b3BWaWRlbygpO24oIi5saWdodGJveC1wcmV2aWV3LWltYWdlIikuYXR0cigic3JjIix0KTtuKCIjZmVhdHVyZS1wcm9kdWN0LWxpZ2h0Ym94IikucmVtb3ZlQ2xhc3MoImlmcmFtZS1vcGVuIil9ZnVuY3Rpb24gaCh0KXtuKCIjZmVhdHVyZS1wcm9kdWN0LWxpZ2h0Ym94IC5wcmV2aWV3LWltZyIpLmhpZGUoKS5hdHRyKCJzcmMiLCIiKTtuKCIjdGhyZWVkaW1hZ2UiKS5oaWRlKCk7bigiI2FmbHBsYXllciIpLnNob3coKTtpLmxvYWRWaWRlb0J5SWQodCk7aS5wbGF5VmlkZW8oKTtuKCIjZmVhdHVyZS1wcm9kdWN0LWxpZ2h0Ym94IikuYWRkQ2xhc3MoImlmcmFtZS1vcGVuIil9ZnVuY3Rpb24gYyh0KXtpLnN0b3BWaWRlbygpO24oIiNhZmxwbGF5ZXIiKS5oaWRlKCk7bigiI2ZlYXR1cmUtcHJvZHVjdC1saWdodGJveCAucHJldmlldy1pbWciKS5oaWRlKCkuYXR0cigic3JjIiwiIik7bigiI2ZlYXR1cmUtcHJvZHVjdC1saWdodGJveCIpLmFkZENsYXNzKCJpZnJhbWUtb3BlbiIpO24oIiN0aHJlZWRpbWFnZSIpLnNob3coKS5hdHRyKCJzcmMiLHQpfWZ1bmN0aW9uIG8obil7cmV0dXJuIG49bi5zcGxpdCgvKHZpXC98dj18XC92XC98eW91dHVcLmJlXC98XC9lbWJlZFwvKS8pLG5bMl0hPT11bmRlZmluZWQ/blsyXS5zcGxpdCgvW14wLTlhLXpfXC1dL2kpWzBdOm5bMF19dmFyIHQsdSxmLGkscjtuKCIuYWZsLXBkcC1mZWF0dXJlcHJvZHVjdCBsaSAuYWRkaXRpb25hbC1wcm9kdWN0LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jaGlsZHJlbigpLndyYXBBbGwoJzxkaXYgY2xhc3M9InRodW1ibmFpbC1ob2xkZXIiPjxcL2Rpdj4nKX0pO24oIi5hZmxjYXJvdXNlbCIpLm5vdCgiLnNsaWNrLWluaXRpYWxpemVkIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7dC5zbGljayh7YXJyb3dzOiEwLGRvdHM6ITEsYWNjZXNzaWJpbGl0eTohMCxpbmZpbml0ZTohMSxhdXRvcGxheTohMSxzbGlkZXNUb1Nob3c6NCxzbGlkZXNUb1Njcm9sbDoxLHZhcmlhYmxlV2lkdGg6ITAscmVzcG9uc2l2ZTpbe2JyZWFrcG9pbnQ6NzY3LHNldHRpbmdzOnt2ZXJ0aWNhbDohMCx2ZXJ0aWNhbFN3aXBpbmc6ITAsdmFyaWFibGVXaWR0aDohMSxzbGlkZXNUb1Nob3c6Mn19XX0pfSk7bih3aW5kb3cpLm9uKCJsb2FkIixmdW5jdGlvbigpe24oIi5saWdodGJveC1wcmV2aWV3LWltYWdlIikuYmVmb3JlKCc8c3BhbiBjbGFzcz0icHJldmlvdXMtcHJldmlldyI+PFwvc3Bhbj4nKTtuKCIubGlnaHRib3gtcHJldmlldy1pbWFnZSIpLmFmdGVyKCc8c3BhbiBjbGFzcz0ibmV4dC1wcmV2aWV3aW1nIj48XC9zcGFuPicpO24oIi5hZmwtZmVhdHVyZXByb2R1Y3QuYWZsY2Fyb3VzZWwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5maW5kKCIuc2xpY2stYXJyb3ciKS5sZW5ndGg7dD4wJiZuKHRoaXMpLnBhcmVudCgiLmFkZGl0aW9uLWZlYXR1cmUtcHJvZHVjdC13cmFwcGVyIikuYWRkQ2xhc3MoImFycm93LWFjdGl2ZSIpfSl9KTtuKGRvY3VtZW50KS5vbigiY2xpY2siLCIubmV4dC1wcmV2aWV3aW1nIixmdW5jdGlvbigpe3ZhciBpPW4oIi5hZmwtZmVhdHVyZXByb2R1Y3QgLnNsaWNrLXNsaWRlOm5vdCguc2xpY2stY2xvbmVkKSIpLmxlbmd0aC0xLHI7dDxpJiYodCsrLHI9bignZGl2LmFkZGl0aW9uYWwtcHJvZHVjdC1pdGVtW2RhdGEtc2xpY2staW5kZXg9IicrdCsnIl0nKSxlKHIpLG4oIi5wcmV2aW91cy1wcmV2aWV3IikucmVtb3ZlQ2xhc3MoImRpc2FibGVkIiksdD09aSYmbih0aGlzKS5hZGRDbGFzcygiZGlzYWJsZWQiKSl9KTtuKGRvY3VtZW50KS5vbigiY2xpY2siLCIucHJldmlvdXMtcHJldmlldyIsZnVuY3Rpb24oKXtpZih0PjApe3QtLTt2YXIgaT1uKCdkaXYuYWRkaXRpb25hbC1wcm9kdWN0LWl0ZW1bZGF0YS1zbGljay1pbmRleD0iJyt0KyciXScpO2UoaSk7bigiLm5leHQtcHJldmlld2ltZyIpLnJlbW92ZUNsYXNzKCJkaXNhYmxlZCIpO3Q9PTAmJm4odGhpcykuYWRkQ2xhc3MoImRpc2FibGVkIil9fSk7dT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTt1LnNyYz13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wrIi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGkiO2Y9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpWzBdO2YucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodSxmKTtuKGRvY3VtZW50KS5vbigiY2xpY2siLCIubGlnaHRib3gtdGh1bWJuYWlsIixmdW5jdGlvbigpe3ZhciByPW4odGhpcyksaTt0PW4odGhpcykuZGF0YSgic2xpY2staW5kZXgiKTtuKCIubmV4dC1wcmV2aWV3aW1nLC5wcmV2aW91cy1wcmV2aWV3IikucmVtb3ZlQ2xhc3MoImRpc2FibGVkIik7dHlwZW9mIHQ9PSJ1bmRlZmluZWQiJiYodD0wKTtpPW4oIi5hZmwtZmVhdHVyZXByb2R1Y3QgLnNsaWNrLXNsaWRlOm5vdCguc2xpY2stY2xvbmVkKSIpLmxlbmd0aC0xO3Q9PWkmJm4oIi5uZXh0LXByZXZpZXdpbWciKS5hZGRDbGFzcygiZGlzYWJsZWQiKTt0PT0wJiZuKCIucHJldmlvdXMtcHJldmlldyIpLmFkZENsYXNzKCJkaXNhYmxlZCIpO24oIiNmZWF0dXJlLXByb2R1Y3QtbGlnaHRib3giKS5tb2RhbCgic2hvdyIpO2Uocil9KTtuKCIuYWxmX2J0bnZpZGVvICIpLmNsaWNrKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5kYXRhKCJ2aWRlby11cmwiKTtyPW8odCk7QUZMcGxheWVyLmxvYWRWaWRlb0J5SWQocil9KTt3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHk9ZnVuY3Rpb24oKXtpPW5ldyBZVC5QbGF5ZXIoImFmbHBsYXllciIse2hlaWdodDoiYXV0byIsd2lkdGg6IjEwMCUiLHZpZGVvSWQ6cixob3N0OndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCsiLy93d3cueW91dHViZS5jb20iLGV2ZW50czp7b25TdGF0ZUNoYW5nZTpmdW5jdGlvbigpe24oIiNmZWF0dXJlLXByb2R1Y3QtbGlnaHRib3giKS5vbigiaGlkZS5icy5tb2RhbCIsZnVuY3Rpb24oKXtpLnN0b3BWaWRlbygpfSl9fX0pO0FGTHBsYXllcj1uZXcgWVQuUGxheWVyKCJhZmx2aWRlb3BsYXllciIse3dpZHRoOiIxMDAlIix2aWRlb0lkOnIsaG9zdDp3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wrIi8vd3d3LnlvdXR1YmUuY29tIixwbGF5ZXJWYXJzOnthdXRvcGxheToxLGNvbnRyb2xzOjB9LGV2ZW50czp7b25SZWFkeTpmdW5jdGlvbigpe30sb25TdGF0ZUNoYW5nZTpmdW5jdGlvbigpe24oIiNhZmwtY2Fyb3VzZWxNb2RhbCIpLm9uKCJoaWRlLmJzLm1vZGFsIixmdW5jdGlvbigpe0FGTHBsYXllci5zdG9wVmlkZW8oKX0pfX19KX19LHR9KGpRdWVyeSk7WEEucmVnaXN0ZXIoIkFGTGNhcm91c2VsIixYQS5jb21wb25lbnQuQUZMY2Fyb3VzZWwpO1hBLmNvbXBvbmVudC5BRkxuYXZpZ2F0aW9uPWZ1bmN0aW9uKG4pe3ZhciB0PXt9O3JldHVybiB0LmluaXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KG4pe24uc2libGluZ3MoImxpIikucmVtb3ZlQ2xhc3MoInN1Ym1lbnUtb3BlbiBmaXJzdCIpfW4oIi5uYXZpZ2F0aW9uLW1haW4gdWwubmF2bGV2ZWwyIikuZWFjaChmdW5jdGlvbigpe24odGhpcykucHJlcGVuZCgnPGJ1dHRvbiBjbGFzcz0iYWZsLWNsb3NlLWJ0biBuYXYtY2xvc2UiPjxcL2J1dHRvbj4nKTtuKHRoaXMpLmNoaWxkcmVuKCJsaSIpLndyYXBBbGwoJzxkaXYgY2xhc3M9InN1Ym5hdi13cmFwcGVyIj48ZGl2IGNsYXNzPSJsZXZlbDJXcmFwcGVyIj48XC9kaXY+PFwvZGl2PicpfSk7bigiLm5hdmlnYXRpb24tbWFpbiB1bC5uYXZsZXZlbDMiKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jaGlsZHJlbigibGkiKS53cmFwQWxsKCc8ZGl2IGNsYXNzPSJsZXZlbDNXcmFwcGVyIj48XC9kaXY+Jyl9KTtuKCIubmF2aWdhdGlvbi1tYWluIHVsLm5hdmxldmVsMSA+IGxpLmxldmVsMSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLmNoaWxkcmVuKCIubmF2aWdhdGlvbi10aXRsZSIpLmh0bWwoKSxpPW4odGhpcykuY2hpbGRyZW4oIi5uYXZpZ2F0aW9uLXRpdGxlIikuZmluZCgiYSIpLnRleHQoKTtuKHRoaXMpLmZpbmQoIi5sZXZlbDNXcmFwcGVyIikuYmVmb3JlKCc8ZGl2IGNsYXNzPSJuYXYtbW9iaWxlLXRpdGxlIj5CYWNrIHRvICcraSsiPFwvZGl2PiIpO24odGhpcykuY2hpbGRyZW4oInVsLm5hdmxldmVsMiIpLmZpbmQoIi5sZXZlbDJXcmFwcGVyIikucHJlcGVuZCgnPGRpdiBjbGFzcz0ibmF2LXRpdGxlLXdyYXBwZXIiPjxoNCBjbGFzcz0iZmlyc3QtdGl0bGUiPicrdCsiPFwvaDQ+PFwvZGl2PiIpO24odGhpcykuZmluZCgiLnN1Ym5hdi13cmFwcGVyIikuYmVmb3JlKCc8ZGl2IGNsYXNzPSJuYXYtbW9iaWxlLXRpdGxlIj4gQmFjayB0byBNYWluIE1lbnUgPFwvZGl2PicpfSk7bigiLm5hdmlnYXRpb24tbWFpbiB1bC5uYXZsZXZlbDIgIGxpLmxldmVsMiIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLmNoaWxkcmVuKCIubmF2aWdhdGlvbi10aXRsZSIpLmh0bWwoKTtuKHRoaXMpLmNoaWxkcmVuKCJ1bC5uYXZsZXZlbDMiKS5maW5kKCIubGV2ZWwzV3JhcHBlciIpLmJlZm9yZSgnPGRpdiBjbGFzcz0ibmF2LXRpdGxlLXdyYXBwZXIiPjxoNCBjbGFzcz0ic2Vjb25kLXRpdGxlIj4nK3QrIjxcL2g0PjxcL2Rpdj4iKX0pO24oIi5sb2dvIikucHJlcGVuZCgnPGRpdiBjbGFzcz0ibW9iaWxlLXRyaWdlciI+PHNwYW4+PFwvc3Bhbj48XC9kaXY+Jyk7bigiLm1vYmlsZS10cmlnZXIiKS5jbGljayhmdW5jdGlvbigpe24oImJvZHkiKS50b2dnbGVDbGFzcygibW9iaWxlLW9wZW4iKX0pO24oIi5uYXZpZ2F0aW9uLW1haW4gbGkuc3VibWVudS5sZXZlbDEgID4gLm5hdmlnYXRpb24tdGl0bGUgYSIpLmNsaWNrKGZ1bmN0aW9uKGkpe2kucHJldmVudERlZmF1bHQoKTtpLnN0b3BQcm9wYWdhdGlvbigpO3ZhciByPW4odGhpcykucGFyZW50KCIubmF2aWdhdGlvbi10aXRsZSIpLnBhcmVudCgibGkuc3VibWVudSAiKTtyLnRvZ2dsZUNsYXNzKCJzdWJtZW51LW9wZW4iKTt0KHIpfSk7bigiLm5hdmlnYXRpb24tbWFpbiBsaS5zdWJtZW51LmxldmVsMiAgPiAubmF2aWdhdGlvbi10aXRsZSBhIikuY2xpY2soZnVuY3Rpb24oaSl7aS5wcmV2ZW50RGVmYXVsdCgpO3ZhciByPW4odGhpcykucGFyZW50KCIubmF2aWdhdGlvbi10aXRsZSIpLnBhcmVudCgibGkuc3VibWVudSAiKTtyLmFkZENsYXNzKCJzdWJtZW51LW9wZW4iKTt0KHIpfSk7bigiLm5hdmlnYXRpb24tbWFpbiIpLmNsaWNrKGZ1bmN0aW9uKG4pe24uc3RvcFByb3BhZ2F0aW9uKCl9KTtuKCIubmF2LW1vYmlsZS10aXRsZSwubmF2LWNsb3NlIikuY2xpY2soZnVuY3Rpb24oKXtuKHRoaXMpLnBhcmVudCgidWwiKS5wYXJlbnQoImxpLnN1Ym1lbnUiKS5yZW1vdmVDbGFzcygic3VibWVudS1vcGVuIil9KTtuKCJib2R5IikuY2xpY2soZnVuY3Rpb24oKXtuKCIubmF2aWdhdGlvbi1tYWluIGxpLnN1Ym1lbnUubGV2ZWwxIikucmVtb3ZlQ2xhc3MoInN1Ym1lbnUtb3BlbiIpfSk7bigiLmFmbC1idG5ncm91cCBsaSIpLmZpcnN0KCkuYWRkQ2xhc3MoImFjdGl2ZSIpO24oIi5hZmwtYnRuZ3JvdXAgbGkiKS5jbGljayhmdW5jdGlvbigpe24odGhpcykucGFyZW50KCIuYWZsLWJ0bmdyb3VwIikudG9nZ2xlQ2xhc3MoImJyZWFkY3J1bWItb3BlbiIpO24odGhpcykuYWRkQ2xhc3MoImFjdGl2ZSIpO24odGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygiYWN0aXZlIil9KX0sdH0oalF1ZXJ5KTtYQS5yZWdpc3RlcigiQUZMbmF2aWdhdGlvbiIsWEEuY29tcG9uZW50LkFGTG5hdmlnYXRpb24pO1hBLmNvbXBvbmVudC5BRkxwcm9kdWN0Y2Fyb3VzZWw9ZnVuY3Rpb24obil7dmFyIHQ9e307cmV0dXJuIHQuaW5pdD1mdW5jdGlvbigpe3ZhciB0PW4oIi5hZmwtcHJvZHVjdC1pdGVtIik7dC5zbGljayh7c2xpZGVzVG9TaG93Ojcsc2xpZGVzVG9TY3JvbGw6MSxzcGVlZDo0MDAsaW5maW5pdGU6ITEsYWNjZXNzaWJpbGl0eTohMSxmb2N1c09uQ2hhbmdlOiExLHJlc3BvbnNpdmU6W3ticmVha3BvaW50Ojc2NyxzZXR0aW5nczp7c2xpZGVzVG9TaG93OjUsc2xpZGVzVG9TY3JvbGw6MX19LHticmVha3BvaW50OjMyMCxzZXR0aW5nczp7c2xpZGVzVG9TaG93OjMsc2xpZGVzVG9TY3JvbGw6MX19LF19KX0sdH0oalF1ZXJ5KTtYQS5yZWdpc3RlcigiQUZMcHJvZHVjdGNhcm91c2VsIixYQS5jb21wb25lbnQuQUZMcHJvZHVjdGNhcm91c2VsKTtYQS5jb21wb25lbnQuQUZMY3VzdG9tPWZ1bmN0aW9uKG4pe3ZhciB0PXt9O3JldHVybiB0LmluaXQ9ZnVuY3Rpb24oKXtjb25zdCBpPW4oIi5hZmwtYmFubmVyIC5iYW5uZXItZGVzY3JpcHRpb24gcCIpLHI9bigiLmFmbC1iYW5uZXIgLmJhbm5lci1kZXNjcmlwdGlvbiIpLmRhdGEoInJlYWRtb3JlIik7c2hhdmUoaSw3MCx7Y2hhcmFjdGVyOicuLi4gIDxhIGhyZWY9IiI+UmVhZCBtb3JlPFwvYT4nfSk7bigiLmpzLXNoYXZlLWNoYXIgYSIpLmF0dHIoImhyZWYiLHIpO3ZhciB0PW4oJ1t0YWJpbmRleD0iMCJdLCAuc3R5bGlzaC1zZWxlY3QtbGVmdCwgLnN4YS1idWxsZXRzJyk7bigiYm9keSIpLmtleWRvd24oZnVuY3Rpb24oKXt0LnJlbW92ZUNsYXNzKCJmb2N1cy1jbGljayIpfSk7dC5tb3VzZWRvd24oZnVuY3Rpb24oKXt0LnJlbW92ZUNsYXNzKCJmb2N1cy1jbGljayIpO2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO24odGhpcykuYWRkQ2xhc3MoImZvY3VzLWNsaWNrIil9KTtuKGRvY3VtZW50KS5vbigibW91c2Vkb3duIiwnYVt0YWJpbmRleD0iMCJdLC5zdHlsaXNoLXNlbGVjdC1sZWZ0LCAuc3hhLWJ1bGxldHMnLGZ1bmN0aW9uKCl7dC5yZW1vdmVDbGFzcygiZm9jdXMtY2xpY2siKTtkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtuKHRoaXMpLmFkZENsYXNzKCJmb2N1cy1jbGljayIpfSk7bigiLm1hcmtldC1zZWxlY3RvciB1bC5saXN0aW5nIGxpIikubW91c2Vkb3duKGZ1bmN0aW9uKCl7bigiLnN0eWxpc2gtc2VsZWN0LWxlZnQiKS5hZGRDbGFzcygiZm9jdXMtY2xpY2siKX0pO24oZG9jdW1lbnQpLm9uKCJtb3VzZWRvd24iLCIubWFya2V0LXNlbGVjdG9yIHVsLmxpc3RpbmcgbGkiLGZ1bmN0aW9uKCl7bigiLnN0eWxpc2gtc2VsZWN0LWxlZnQiKS5hZGRDbGFzcygiZm9jdXMtY2xpY2siKX0pfSx0fShqUXVlcnkpO1hBLnJlZ2lzdGVyKCJBRkxjdXN0b20iLFhBLmNvbXBvbmVudC5BRkxjdXN0b20pO1hBLmNvbXBvbmVudC5BRkxoZWFkZXI9ZnVuY3Rpb24obil7dmFyIHQ9e307cmV0dXJuIHQuaW5pdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkodCxpLHIpe3dpbmRvdy5wYWdlWU9mZnNldD5pPyhuKHQpLmNzcygidG9wIixyKSx0LmNsYXNzTGlzdC5hZGQoInN0aWNreSIpKToobih0KS5jc3MoInRvcCIsIiIpLHQuY2xhc3NMaXN0LnJlbW92ZSgic3RpY2t5IikpfWZ1bmN0aW9uIHMoKXtuKCIuYWZsLWJ0bmdyb3VwIGxpIikubGVuZ3RoPT0xJiZuKCIuYWZsLWJ0bmdyb3VwIikuYWRkQ2xhc3MoImRyb3Bkb3duZGlzYWJsZSIpO24oIi5hZmwtYnRuZ3JvdXAgLmZpZWxkLWRvd25sb2FkZmlsZWxpbmsiKS5sZW5ndGh8fG4oIi5hZmwtYnRuZ3JvdXAgbGkiKS5sYXN0KCkuYWRkQ2xhc3MoImxhc3QtaXRlbSIpO24oIi5hZmwtYnRuZ3JvdXAgLmZpZWxkLWRvd25sb2FkZmlsZWxpbmsiKS5sZW5ndGgmJm4oIi5hZmwtYnRuZ3JvdXAgbGkiKS5sYXN0KCkucHJldigpLmFkZENsYXNzKCJsYXN0LWl0ZW0iKX12YXIgdDt3aW5kb3cub25zY3JvbGw9ZnVuY3Rpb24oKXtuKHUpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0VG9wLHI9dDtuKHRoaXMpLmxlbmd0aCYmaSh0aGlzLHQscil9KTtuKHIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0VG9wLHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImhlYWRlciIpLm9mZnNldEhlaWdodDtuKHRoaXMpLmxlbmd0aCYmaSh0aGlzLHQscil9KTtuKGYpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGVhZGVyIikub2Zmc2V0SGVpZ2h0LHI9dGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldFRvcC10O24odGhpcykubGVuZ3RoJiZpKHRoaXMscix0KX0pO24oZSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoZWFkZXIiKS5vZmZzZXRIZWlnaHQscj1uKCIuYWZsLWdsb2JhbFNlYXJjaGJhciIpLmhlaWdodCgpLHU9dCtyLGY9dGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldFRvcCszNTtuKHRoaXMpLmxlbmd0aCYmaSh0aGlzLGYsdSl9KX07dmFyIHI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmdsb2JhbC1zZWFyY2giKSx1PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNoZWFkZXIgLmFmbC1jb21wb25lbnQtc3RpY2t5IiksZj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuYWZsLWdsb2JhbFNlYXJjaGJhciIpLGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmFmbC1idG5ncm91cCIpLG89ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmFmbC1jb21wb25lbnQtc3RpY2t5Iik7bihvKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jbGllbnRIZWlnaHQrInB4IjtuKHRoaXMpLndyYXBBbGwoJzxkaXYgY2xhc3M9InN0aWNreS1wbGFjZWhvbGRlciIgc3R5bGU9Im1pbi1oZWlnaHQ6Jyt0KyciPjxcL2Rpdj4nKX0pO24oIi5nbG9iYWwtc2VhcmNoIikucGFyZW50KCIuc3RpY2t5LXBsYWNlaG9sZGVyIikuYWRkQ2xhc3MoImdsb2JhbC1zZWFyY2gtd3JhcHBlciIpO24oInNlbGVjdCNkZGxNYXJrZXRTZWxlY3Rpb24iKS5lZHlDdXN0b21TZWxlY3RCb3goKTtuKCJib2R5LC5zdHlsaXNoLXNlbGVjdC1sZWZ0IikuY2xpY2soZnVuY3Rpb24oKXtuKCIubGFuZ3VhZ2Utc2VsZWN0b3ItaXRlbS1jb250YWluZXIiKS5zbGlkZVVwKCl9KTtuKCIubGFuZ3VhZ2Utc2VsZWN0b3IiKS5jbGljayhmdW5jdGlvbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpfSk7bigiLmxhbmd1YWdlLXNlbGVjdG9yLXNlbGVjdC1pdGVtIikuY2xpY2soZnVuY3Rpb24oKXtuKCJ1bC5saXN0aW5nIikuc2xpZGVVcCgpfSk7bihkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtuKHdpbmRvdykub24oImxvYWQiLGZ1bmN0aW9uKCl7bigiLmNvdmVvLXJlc3VsdC1saXN0LWNvbnRhaW5lciAucHJvZHVjdF9jb250ZW50IGEiKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5hdHRyKCJ0aXRsZSIpfHxuKHRoaXMpLmF0dHIoInRpdGxlIixuKHRoaXMpLnRleHQoKSl9KTtuKCIuY292ZW8tcmVzdWx0LWxpc3QtY29udGFpbmVyIGltZyIpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmF0dHIoInRpdGxlIil8fG4odGhpcykuYXR0cigidGl0bGUiLG4odGhpcykucGFyZW50cygiLnByb2R1Y3RzX2JveCIpLmZpbmQoIi5wcm9kdWN0X2NvbnRlbnQgYSIpLnRleHQoKSl9KTtuKCIuY292ZW8tcmVzdWx0LWxpc3QtY29udGFpbmVyIikuYmluZCgiRE9NU3VidHJlZU1vZGlmaWVkIixmdW5jdGlvbigpe24oIi5jb3Zlby1yZXN1bHQtbGlzdC1jb250YWluZXIgLnByb2R1Y3RfY29udGVudCBhIikuZWFjaChmdW5jdGlvbigpe24odGhpcykuYXR0cigidGl0bGUiKXx8bih0aGlzKS5hdHRyKCJ0aXRsZSIsbih0aGlzKS50ZXh0KCkpfSk7bigiLmNvdmVvLXJlc3VsdC1saXN0LWNvbnRhaW5lciBpbWciKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5hdHRyKCJ0aXRsZSIpfHxuKHRoaXMpLmF0dHIoInRpdGxlIixuKHRoaXMpLnBhcmVudHMoIi5wcm9kdWN0c19ib3giKS5maW5kKCIucHJvZHVjdF9jb250ZW50IGEiKS50ZXh0KCkpfSl9KX0pfSk7dD1uKCdbdGFiaW5kZXg9IjAiXScpO24oImJvZHkiKS5rZXlkb3duKGZ1bmN0aW9uKCl7dC5yZW1vdmVDbGFzcygiZm9jdXMtY2xpY2siKX0pO3QubW91c2Vkb3duKGZ1bmN0aW9uKCl7dC5yZW1vdmVDbGFzcygiZm9jdXMtY2xpY2siKTtkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtuKHRoaXMpLmFkZENsYXNzKCJmb2N1cy1jbGljayIpfSk7bihkb2N1bWVudCkub24oIm1vdXNlZG93biIsJ2FbdGFiaW5kZXg9IjAiXScsZnVuY3Rpb24oKXt0LnJlbW92ZUNsYXNzKCJmb2N1cy1jbGljayIpO2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO24odGhpcykuYWRkQ2xhc3MoImZvY3VzLWNsaWNrIil9KTtzKCl9LHR9KGpRdWVyeSk7WEEucmVnaXN0ZXIoIkFGTGhlYWRlciIsWEEuY29tcG9uZW50LkFGTGhlYWRlcik7JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXskKGRvY3VtZW50KS5vbigiY2xpY2siLCIucHJvZHVjdF9pbWcgLmltZ19saW5rIixmdW5jdGlvbigpeyQodGhpcykucGFyZW50cygiLnByb2R1Y3RzX2JveCIpLm5leHQoKS50b2dnbGVDbGFzcygiYWZsX2luZm9fYm94Iil9KTskKGRvY3VtZW50KS5vbigiY2xpY2siLCIuYWxmLWNsb3NlLWljb24iLGZ1bmN0aW9uKCl7JCh0aGlzKS5wYXJlbnRzKCIuY2xpY2tfcHJvZHVjdHNJbmZvX2JveCIpLnJlbW92ZUNsYXNzKCJhZmxfaW5mb19ib3giKX0pfSk7WEEuY29tcG9uZW50LkFGTGN1c3RvbUpTPWZ1bmN0aW9uKCl7dmFyIG49e307cmV0dXJuIG4uaW5pdD1mdW5jdGlvbigpe3dpbmRvdy5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgbj13aW5kb3cubG9jYXRpb24uaHJlZix0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImN1cnJlbnQtdXJsIilbMF07dCE9dW5kZWZpbmVkJiYoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiY3VycmVudC11cmwiKVswXS52YWx1ZT0iXG5cblxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrbixkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJjdXJyZW50LXVybCIpWzBdLnNlbGVjdGlvbkVuZD0wKX19LG59KGpRdWVyeSk7WEEucmVnaXN0ZXIoIkFGTGN1c3RvbUpTIixYQS5jb21wb25lbnQuQUZMY3VzdG9tSlMpO1hBLmNvbXBvbmVudC5BRkxyZXNvdXJjZT1mdW5jdGlvbihuKXt2YXIgdD17fTtyZXR1cm4gdC5pbml0PWZ1bmN0aW9uKCl7bihkb2N1bWVudCkub24oImNsaWNrIiwiLmFmbC1yZXNvdXJjZSAgLmJ0biAuYWZsLWxvYWRtb3JlIGEiLGZ1bmN0aW9uKCl7bigiLmFmbC1yZXNvdXJjZSAuYWZsLW51bWJlcml0ZW1UaWxlcyAuYWZsLXRpbGVzSXRlbSIpLnJlbW92ZUNsYXNzKCJhZmwtdGlsZWhpZGUiKTtuKCIuYWZsLWxvYWRsZXNzIikucmVtb3ZlQ2xhc3MoImQtbm9uZSIpO24oIi5hZmwtbG9hZG1vcmUiKS5hZGRDbGFzcygiZC1ub25lIik7bigiLmFmbC1yZXNvdXJjZSAuYWZsLW51bWJlcml0ZW1UaWxlcyIpLnJlbW92ZUF0dHIoInN0eWxlIil9KTtuKGRvY3VtZW50KS5vbigiY2xpY2siLCIuYWZsLXJlc291cmNlICAuYnRuIC5hZmwtbG9hZGxlc3MgYSIsZnVuY3Rpb24oKXtuKCIuYWZsLXJlc291cmNlIC5hZmwtbnVtYmVyaXRlbVRpbGVzIikuYXR0cigic3R5bGUiLCJoZWlnaHQ6NjI1cHg7IG92ZXJmbG93OiBoaWRkZW47Iik7bigiLmFmbC1sb2FkbGVzcyIpLmFkZENsYXNzKCJkLW5vbmUiKTtuKCIuYWZsLWxvYWRtb3JlIikucmVtb3ZlQ2xhc3MoImQtbm9uZSIpfSl9LHR9KGpRdWVyeSk7WEEucmVnaXN0ZXIoIkFGTHJlc291cmNlIixYQS5jb21wb25lbnQuQUZMcmVzb3VyY2Up
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 236016
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: "de-DE"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20240308T105507Z
    - ID: "52807595-0f8f-4b20-8d2a-cb71d28c6103"
      Hint: __Owner
      Value: |
        extranet\Anonymous
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        extranet\Anonymous
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "48212eae-533d-4c07-92ab-89178c93646e"
    - ID: "badd9cf9-53e0-4d0c-bcc0-2d784c282f6a"
      Hint: __Updated by
      Value: |
        extranet\Anonymous
    - ID: "d9cf14b1-fa16-4ba6-9288-e8a174d4d522"
      Hint: __Updated
      Value: 20240308T105508Z
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20240308T105507Z
    - ID: "3f4b20e9-36e6-4d45-a423-c86567373f82"
      Hint: Title
      Value: "optimized-min"
    - ID: "52807595-0f8f-4b20-8d2a-cb71d28c6103"
      Hint: __Owner
      Value: |
        extranet\Anonymous
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        extranet\Anonymous
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "305401c7-8748-4a0e-9ae1-90a8227166f2"
    - ID: "ba8341a1-ff30-47b8-ae6a-f4947e4113f0"
      Hint: Description
      Value: Experience accelerator optimized file
    - ID: "badd9cf9-53e0-4d0c-bcc0-2d784c282f6a"
      Hint: __Updated by
      Value: |
        extranet\Anonymous
    - ID: "d9cf14b1-fa16-4ba6-9288-e8a174d4d522"
      Hint: __Updated
      Value: 20240308T105508Z
- Language: "es-ES"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20240308T105508Z
    - ID: "52807595-0f8f-4b20-8d2a-cb71d28c6103"
      Hint: __Owner
      Value: |
        extranet\Anonymous
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        extranet\Anonymous
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "dd960ffe-bfea-4a33-a89a-50173b11588d"
    - ID: "badd9cf9-53e0-4d0c-bcc0-2d784c282f6a"
      Hint: __Updated by
      Value: |
        extranet\Anonymous
    - ID: "d9cf14b1-fa16-4ba6-9288-e8a174d4d522"
      Hint: __Updated
      Value: 20240308T105508Z
- Language: "es-MX"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20240308T105507Z
    - ID: "52807595-0f8f-4b20-8d2a-cb71d28c6103"
      Hint: __Owner
      Value: |
        extranet\Anonymous
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        extranet\Anonymous
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "53285329-61f7-40c5-92ee-f798cf192fa4"
    - ID: "badd9cf9-53e0-4d0c-bcc0-2d784c282f6a"
      Hint: __Updated by
      Value: |
        extranet\Anonymous
    - ID: "d9cf14b1-fa16-4ba6-9288-e8a174d4d522"
      Hint: __Updated
      Value: 20240308T105507Z
- Language: "fr-CA"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20240308T105508Z
    - ID: "52807595-0f8f-4b20-8d2a-cb71d28c6103"
      Hint: __Owner
      Value: |
        extranet\Anonymous
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        extranet\Anonymous
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "7984e3c5-1d4f-439f-9aa3-60d6019377ea"
    - ID: "badd9cf9-53e0-4d0c-bcc0-2d784c282f6a"
      Hint: __Updated by
      Value: |
        extranet\Anonymous
    - ID: "d9cf14b1-fa16-4ba6-9288-e8a174d4d522"
      Hint: __Updated
      Value: 20240308T105508Z
- Language: "fr-FR"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20240308T105507Z
    - ID: "52807595-0f8f-4b20-8d2a-cb71d28c6103"
      Hint: __Owner
      Value: |
        extranet\Anonymous
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        extranet\Anonymous
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "b6dcd20d-eaf8-45ed-8a4e-2792c2175e85"
    - ID: "badd9cf9-53e0-4d0c-bcc0-2d784c282f6a"
      Hint: __Updated by
      Value: |
        extranet\Anonymous
    - ID: "d9cf14b1-fa16-4ba6-9288-e8a174d4d522"
      Hint: __Updated
      Value: 20240308T105507Z
