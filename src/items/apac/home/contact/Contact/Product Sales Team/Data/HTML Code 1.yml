---
ID: "843f654a-c96b-440b-a05e-f1c0317f1f2c"
Parent: "07cfcfcf-430f-44c3-8e5f-4418847ca7e3"
Template: "2ad23d55-aecd-43dd-ae0d-72d2ebcba60f"
Path: "/sitecore/content/AFL-Global/APAC/Home/Contact/Product Sales Team/Data/HTML Code 1"
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "24cce27c-05db-4473-a1ed-e69b1725ff1c"
      Hint: HtmlCode
      Value: |
        <style>
            .sales-rep-card {
                border: #b3b3b3 1px solid;
                border-radius: 4px;
                padding-top: 10px;
                padding-bottom: 10px;
                box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);
                margin: 10px;
            }
        
            .sales-rep-card .card-body .container h3 {
                font-weight: bold;
            }
        
            .sales-rep-initial-hide {
                visibility: hidden;
            }
        
            .sales-rep-inactive {
                background-color: #b3b3b3;
            }
        
            #USSalesReps .row {
                margin-top: 10px;
                margin-bottom: 10px;
            }
        
            #divMarkets label {
                padding-left: 5px;
            }
        </style>
        
        <div class="container">
            <div class="row">
                <button id="btnShowUSSalesReps" type="button" class="btn btn-primary" onclick="ShowUSSalesReps();">United
                    States/Canada</button>
                <button id="btnShowInternationalSalesReps" type="button" class="btn btn-primary sales-rep-inactive"
                    onclick="ShowInternationalSalesReps();">International</button>
            </div>
            <div class="container" id="USSalesReps">
                <div class="row">
                    <div class="card sales-rep-card col-5">
                        <div class="card-body">
                            <div class="container">
                                <h2>United States/Canada</h2>
                                <div class="row">
                                    <div class="col-12 container">
                                        <label for="StateDDL">State:</label>
        
                                        <select name="StateDDL" id="StateDDL">
        
                                        </select>
                                    </div>
                                </div>
                                <div class="row sales-rep-initial-hide" id="CountyRow">
                                    <div class="col-12 container">
                                        <label for="CountyDDL">County:</label>
        
                                        <select name="CountyDDL" id="CountyDDL">
        
                                        </select>
                                    </div>
                                </div>
        
                                <div class="row">
                                    <div class="col-12 container">
                                        <label>Market:</label>
                                        <div id="divMarkets">
        
                                        </div>
                                    </div>
                                </div>
        
                                <div class="row">
                                    <div class="col-12 container">
                                        <button id="btnClearFilter" type="button" class="btn btn-primary"
                                            onclick="ClearFilters();">Reset Filters</button>
                                    </div>
                                </div>
        
                            </div>
        
                        </div>
                    </div>
                </div>
                <div id="USSalesRepResults">
        
                </div>
            </div>
            <div class="container sales-rep-initial-hide" id="InternationalSalesReps">
                <div class="row">
                    <div class="card sales-rep-card col-4">
                        <div class="card-body">
                            <div class="container">
                                <h3>EMEA</h3>
                                <h3>Energy, Industrial (inc T&I)</h3>
                                <p>AFL (EMEA)</p>
                                <p>+44 (0) 1793 647200</p>
                                <p><a href="mailto:EMEAsales@AFLglobal.com">EMEAsales@AFLGlobal.com</a></p>
                            </div>
                        </div>
                    </div>
                    <div class="card sales-rep-card col-4">
                        <div class="card-body">
                            <div class="container">
                                <h3>EMEA</h3>
                                <h3>Telecommunications</h3>
                                <p>Fujikura Europe Ltd</p>
                                <p>+44 (0) 20 8240 2000</p>
                                <p><a href="mailto:sales@fujikura.co.uk">sales@fujikura.co.uk</a></p>
                            </div>
                        </div>
                    </div>
        
                </div>
                <div class="row">
                    <div class="card sales-rep-card col-4">
                        <div class="card-body">
                            <div class="container">
                                <h3>Oceania</h3>
                                <h3>Energy, Industrial (inc T&I)</h3>
                                <p>AFL (Australia)</p>
                                <p>+61 1300 232 476</p>
                                <p><a href="mailto:AUSSales@AFLGlobal.com">AUSSales@AFLGlobal.com</a></p>
                            </div>
                        </div>
                    </div>
                    <div class="card sales-rep-card col-4">
                        <div class="card-body">
                            <div class="container">
                                <h3>Oceania</h3>
                                <h3>Telecommunications</h3>
                                <p>Fujikura (Japan)</p>
                                <p>+813 5606 1030</p>
                                <p><a href="mailto:info-splicer@jp.fujikura.com">info-splicer@jp.fujikura.com</a></p>
                            </div>
                        </div>
                    </div>
        
                </div>
            </div>
        
            <script>
                //var _url_domain = 'https://localhost:44342/';
                var _url_domain = 'https://www.aflglobal.com/api/';
        
                $(document).ready(function () {
                    $("#InternationalSalesReps").hide();
        
                    LoadAllStates();
                    LoadMarkets();
        
                    $('#StateDDL').change(function () {
                        var stateID = $('#StateDDL option:selected').val();
        
                        LoadCountiesByState(stateID);
                        LoadMarkets(stateID, "");
                        LoadReps(stateID, "", "");
                    });
        
                    $('#CountyDDL').change(function () {
                        var stateID = $('#StateDDL option:selected').val();
                        var county = $('#CountyDDL option:selected').val();
        
                        LoadMarkets(stateID, county);
                        LoadReps(stateID, county, "");
                    });
                });
        
                function ShowInternationalSalesReps() {
                    $('#InternationalSalesReps').removeClass('sales-rep-initial-hide');
                    $('#btnShowUSSalesReps').addClass('sales-rep-inactive');
                    $('#btnShowInternationalSalesReps').removeClass('sales-rep-inactive');
                    $('#USSalesReps').hide();
                    $("#InternationalSalesReps").show();
                }
        
                function ShowUSSalesReps() {
                    $('#btnShowUSSalesReps').removeClass('sales-rep-inactive');
                    $('#btnShowInternationalSalesReps').addClass('sales-rep-inactive');
                    $('#USSalesReps').show();
                    $("#InternationalSalesReps").hide();
                }
        
                function ClearFilters() {
                    $('#CountyRow').addClass('sales-rep-initial-hide');
                    $('#USSalesRepResults').empty();
                    LoadAllStates();
                    LoadMarkets();
                }
        
        
        
                function LoadAllStates() {
                    var _state_url = _url_domain + 'sitecore/GetSalesRepStates';
        
                    // Clear DDL
                    $('#StateDDL').empty();
                    $('#CountyDDL').empty();
                    $('#divMarkets').empty();
        
                    // Get States
                    $.ajax({
                        type: "GET",
                        url: _state_url,
                        cache: false,
                        beforeSend: function () { },
                        crossDomain: true,
                        success: function (data) {
                            $('#StateDDL').append('<option value="">Select State</option>');
        
                            $(data).each(function (idx, state) {
                                var _option = '<option value="' + state.stateID + '">' + state.state + '</option>';
        
                                $('#StateDDL').append(_option);
                            });
                        },
                        complete: function () {
        
                        }
                    });
                }
        
                function LoadCountiesByState(stateId) {
                    var _county_url = _url_domain + 'sitecore/GetSalesRepCountiesByState?stateId=' + stateId;
        
                    // Clear DDL
                    $('#CountyDDL').empty();
                    $('#CountyRow').addClass('sales-rep-initial-hide');
        
                    // Get States
                    $.ajax({
                        type: "GET",
                        url: _county_url,
                        cache: false,
                        beforeSend: function () { },
                        crossDomain: true,
                        success: function (data) {
                            $('#CountyDDL').append('<option value="">Select County</option>');
        
                            if (data.length > 0) {
                                $(data).each(function (idx, county) {
                                    var _option = '<option value="' + county.countyID + '">' + county.county + '</option>';
        
                                    $('#CountyDDL').append(_option);
                                });
        
                                $('#CountyRow').removeClass('sales-rep-initial-hide');
                            }
                        },
                        complete: function () {
                        }
                    });
                }
        
                function LoadMarkets(stateId = "", county = "") {
                    $('#divMarkets').empty();
                    var _market_url = _url_domain + 'sitecore/GetSalesRepMarkets?stateId=' + stateId + '&county=' + county;
        
                    // Get States
                    $.ajax({
                        type: "GET",
                        url: _market_url,
                        cache: false,
                        beforeSend: function () { },
                        crossDomain: true,
                        success: function (data) {
                            if (data.length > 0) {
                                $(data).each(function (idx, market) {
                                    var market_row = '<input class="sales-rep-checkbox" type="checkbox" id="' + market.marketID + '" name="' + market.marketID + '" value="' + market.marketID + '"><label for="' + market.marketID + '">' + market.market + '</label></br>';
        
                                    $('#divMarkets').append(market_row);
                                });
                            }
        
                            $('.sales-rep-checkbox').change(function () {
                                var marketIDs = [];
        
                                $('.sales-rep-checkbox:checked').each(function (idx, checkBox) {
                                    marketIDs.push($(checkBox).val());
                                });
        
                                var stateID = $('#StateDDL option:selected').val();
                                var county = $('#CountyDDL option:selected').val();
                                LoadReps(stateID, county, marketIDs.join('|'));
                            });
                        },
                        complete: function () {
                        }
                    });
                }
        
                function LoadReps(stateId = "", county = "", markets = "") {
                    $('#USSalesRepResults').empty();
        
                    var _rep_url = _url_domain + 'sitecore/GetSalesReps?stateId=' + stateId + '&county=' + county + '&markets=' + markets;
        
                    $.ajax({
                        type: "GET",
                        url: _rep_url,
                        cache: false,
                        beforeSend: function () { },
                        crossDomain: true,
                        success: function (data) {
                            if (data.length > 0) {
        
                                for (let idx = 0; idx < data.length; idx += 2) {
                                    var rep_row = $('<div class="row"></div>');
        
                                    $(rep_row).append(parseRepCard(data[idx]));
        
                                    try {
                                        $(rep_row).append(parseRepCard(data[idx + 1]));
                                    }
                                    catch (error) {
        
                                    }
        
        
                                    $('#USSalesRepResults').append(rep_row);
                                }
                            }
                        },
                        complete: function () {
                        }
                    })
                }
        
                function parseRepCard(rep) {
                    var rep_card = $('<div class="card sales-rep-card col-5"></div>');
                    var rep_card_body = $('<div class="card-body"></div');
                    var rep_card_body_container = $('<div class="container"></div>');
        
                    $(rep_card_body_container).append('<h3>' + rep.productLine + '</h3>');
                    $(rep_card_body_container).append('<h3>' + rep.market + '</h3>');
                    $(rep_card_body_container).append('</br>');
        
                    if (rep.rsm.length > 0) {
                        $(rep_card_body_container).append('<p><h3>Regional Sales Manager:</h3>');
                        $(rep_card_body_container).append(rep.rsm + '</br>');
                        $(rep_card_body_container).append('<a href="tel:' + rep.rsmPhone + '">' + rep.rsmPhone + '</a></br >');
                        $(rep_card_body_container).append('<a href="mailto:' + rep.rsmEmail + '">' + rep.rsmEmail + '</a></p><div class="row"></div>');
                    }
        
                    if (rep.tsm.length > 0) {
                        $(rep_card_body_container).append('<p><h3>Territory Sales Manager:</h3>');
                        $(rep_card_body_container).append(rep.tsm + '</br>');
                        $(rep_card_body_container).append('<a href="tel:' + rep.tsmPhone + '">' + rep.tsmPhone + '</a></br >');
                        $(rep_card_body_container).append('<a href="mailto:' + rep.tsmEmail + '">' + rep.tsmEmail + '</a></p><div class="row"></div>');
                    }
        
                    if (rep.agents.length > 0) {
                        $(rep_card_body_container).append('<p><h3>Agents:</h3>');
                        $(rep_card_body_container).append(rep.agents + '</p><div class="row"></div>');
                    }
        
                    if (rep.csr.length > 0) {
                        $(rep_card_body_container).append('<p><h3>Customer Service Representative:</h3>');
                        $(rep_card_body_container).append(rep.csr + '</br>');
                        $(rep_card_body_container).append('<a href="tel:' + rep.csrPhone + '">' + rep.csrPhone + '</a></br >');
                        $(rep_card_body_container).append('<a href="mailto:' + rep.csrEmail + '">' + rep.csrEmail + '</a></p><div class="row"></div>');
                    }
        
                    if (rep.csR2.length > 0) {
                        $(rep_card_body_container).append('<p><h3>Customer Service Representative:</h3>');
                        $(rep_card_body_container).append(rep.csR2 + '</br>');
                        $(rep_card_body_container).append('<a href="tel:' + rep.csr2Phone + '">' + rep.csr2Phone + '</a></br >');
                        $(rep_card_body_container).append('<a href="mailto:' + rep.csR2Email + '">' + rep.csR2Email + '</a></p><div class="row"></div>');
                    }
        
                    if (rep.nsm.length > 0) {
                        $(rep_card_body_container).append('<p><h3>National Sales Manager:</h3>');
                        $(rep_card_body_container).append('<a href="tel:' + rep.nsmPhone + '">' + rep.nsmPhone + '</a></br >');
                        $(rep_card_body_container).append('<a href="mailto:' + rep.nsmEmail + '">' + rep.nsmEmail + '</a></p><div class="row"></div>');
                    }
        
                    $(rep_card_body).append(rep_card_body_container);
                    $(rep_card).append(rep_card_body);
        
                    return rep_card;
                }
            </script>
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20220311T181912Z
    - ID: "52807595-0f8f-4b20-8d2a-cb71d28c6103"
      Hint: __Owner
      Value: |
        sitecore\matt
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\matt
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "9e57c004-d772-4cce-b636-beefe901a62d"
    - ID: "badd9cf9-53e0-4d0c-bcc0-2d784c282f6a"
      Hint: __Updated by
      Value: |
        sitecore\matt
    - ID: "d9cf14b1-fa16-4ba6-9288-e8a174d4d522"
      Hint: __Updated
      Value: 20220314T153327Z
